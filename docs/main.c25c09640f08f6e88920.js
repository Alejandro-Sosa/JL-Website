(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},3018:(t,e,n)=>{"use strict";n.d(e,{deG:()=>We,tb:()=>Ta,AFp:()=>wa,ip1:()=>va,CZH:()=>ba,hGG:()=>vu,z2F:()=>uu,sBO:()=>Eo,Sil:()=>La,_Vd:()=>Hs,EJc:()=>Aa,SBq:()=>Qs,qLn:()=>cr,vpe:()=>na,gxx:()=>qi,tBr:()=>pn,XFs:()=>k,OlP:()=>Qe,zs3:()=>es,ZZ4:()=>go,aQg:()=>yo,soG:()=>xa,YKP:()=>Oo,v3s:()=>lu,h0i:()=>Fo,PXZ:()=>ru,R0b:()=>ja,FiY:()=>gn,Lbi:()=>Da,g9A:()=>Sa,Qsj:()=>Ys,FYo:()=>Js,JOm:()=>fr,Tiy:()=>to,q3G:()=>nr,tp0:()=>mn,EAV:()=>du,Rgc:()=>xo,dDg:()=>$a,DyG:()=>Je,GfV:()=>eo,s_b:()=>Ro,ifc:()=>P,eFA:()=>iu,G48:()=>eu,X6Q:()=>tu,_c5:()=>mu,VLi:()=>Qa,c2e:()=>Ca,zSh:()=>zi,wAp:()=>js,vHH:()=>m,EiD:()=>tr,mCW:()=>Mn,qzn:()=>Cn,JVY:()=>An,pB0:()=>On,eBb:()=>In,L6k:()=>kn,LAX:()=>Fn,cg1:()=>Ls,Tjo:()=>gu,kL8:()=>Ms,yhl:()=>xn,dqk:()=>B,sIi:()=>os,CqO:()=>_s,QGY:()=>bs,F4k:()=>ws,RDi:()=>Dt,AaK:()=>h,z3N:()=>Tn,TTD:()=>vt,xp6:()=>Xr,uIk:()=>ls,Suo:()=>ga,Xpm:()=>J,lG2:()=>it,Yz7:()=>w,cJS:()=>_,oAB:()=>et,Yjl:()=>st,Y36:()=>ds,_UZ:()=>vs,qZA:()=>ys,TgZ:()=>ms,Ikx:()=>Os,LFG:()=>hn,$8M:()=>$e,NdJ:()=>Es,CRH:()=>ma,oxw:()=>Ts,ALo:()=>Xo,lcZ:()=>ta,Hsn:()=>As,F$t:()=>xs,Q6J:()=>ps,VKq:()=>Qo,WLB:()=>Wo,iGM:()=>pa,MAs:()=>fs,LSH:()=>rr,kYT:()=>nt,YNc:()=>hs,_uU:()=>ks,Oqu:()=>Is,hij:()=>Fs});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(2441),u=n(1307);function c(){return new r.xQ}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(h).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function p(t){return t.__forward_ref__=p,t.toString=function(){return h(this())},t}function g(t){return"function"==typeof(e=t)&&e.hasOwnProperty(d)&&e.__forward_ref__===p?t():t;var e}class m extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function b(t,e){const n=e?` in ${e}`:"";throw new m("201",`No provider for ${v(t)} found${n}`)}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return S(t,T)||S(t,x)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function D(t){return t&&(t.hasOwnProperty(C)||t.hasOwnProperty(A))?t[C]:null}const T=l({"\u0275prov":l}),C=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var k=(()=>((k=k||{})[k.Default=0]="Default",k[k.Host=1]="Host",k[k.Self=2]="Self",k[k.SkipSelf=4]="SkipSelf",k[k.Optional=8]="Optional",k))();let I;function F(t){const e=I;return I=t,e}function O(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==e?e:void b(h(t),"Injector")}function N(t){return{toString:t}.toString()}var R=(()=>((R=R||{})[R.OnPush=0]="OnPush",R[R.Default=1]="Default",R))(),P=(()=>((P=P||{})[P.Emulated=0]="Emulated",P[P.None=2]="None",P[P.ShadowDom=3]="ShadowDom",P))();const L="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j="undefined"!=typeof global&&global,B=L||j||M||U,q={},V=[],z=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),H=l({"\u0275pipe":l}),$=l({"\u0275mod":l}),K=l({"\u0275loc":l}),Z=l({"\u0275fac":l}),Q=l({__NG_ELEMENT_ID__:l});let W=0;function J(t){return N(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===R.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||V,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||P.Emulated,id:"c",styles:t.styles||V,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=W++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Y):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(X):null,n})}function Y(t){return ot(t)||function(t){return t[G]||null}(t)}function X(t){return function(t){return t[H]||null}(t)}const tt={};function et(t){return N(()=>{const e={type:t.type,bootstrap:t.bootstrap||V,declarations:t.declarations||V,imports:t.imports||V,exports:t.exports||V,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(tt[t.id]=t.type),e})}function nt(t,e){return N(()=>{const n=at(t,!0);n.declarations=e.declarations||V,n.imports=e.imports||V,n.exports=e.exports||V})}function rt(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const it=J;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ot(t){return t[z]||null}function at(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${h(t)} does not have '\u0275mod' property.`);return n}const ut=20,ct=10;function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function mt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=_t),wt}function wt(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function _t(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new yt(u&&u.currentValue,e,o===q),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let St;function Dt(t){St=t}function Tt(t){return!!t.listen}vt.ngInherit=!0;const Ct={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function xt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return xt(e[t.index])}function kt(t,e){return t.data[e]}function It(t,e){return t[e]}function Ft(t,e){const n=e[t];return lt(n)?n:n[0]}function Ot(t){return 4==(4&t[2])}function Nt(t){return 128==(128&t[2])}function Rt(t,e){return null==e?null:t[e]}function Pt(t){t[18]=0}function Lt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Mt={lFrame:ie(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return Mt.bindingsEnabled}function jt(){return Mt.lFrame.lView}function Bt(){return Mt.lFrame.tView}function qt(){let t=Vt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vt(){return Mt.lFrame.currentTNode}function zt(t,e){const n=Mt.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Mt.lFrame.isParent}function Ht(){Mt.lFrame.isParent=!1}function $t(){return Mt.isInCheckNoChangesMode}function Kt(t){Mt.isInCheckNoChangesMode=t}function Zt(){const t=Mt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Qt(){return Mt.lFrame.bindingIndex++}function Wt(t,e){const n=Mt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jt(e)}function Jt(t){Mt.lFrame.currentDirectiveIndex=t}function Yt(){return Mt.lFrame.currentQueryIndex}function Xt(t){Mt.lFrame.currentQueryIndex=t}function te(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ee(t,e,n){if(n&k.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&k.Host||(r=te(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Mt.lFrame=re();return r.currentTNode=e,r.lView=t,!0}function ne(t){const e=re(),n=t[1];Mt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function re(){const t=Mt.lFrame,e=null===t?null:t.child;return null===e?ie(t):e}function ie(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function se(){const t=Mt.lFrame;return Mt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const oe=se;function ae(){const t=se();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ue(){return Mt.lFrame.selectedIndex}function ce(t){Mt.lFrame.selectedIndex=t}function le(){const t=Mt.lFrame;return kt(t.tView,t.selectedIndex)}function he(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function fe(t,e,n){ge(t,e,3,n)}function de(t,e,n,r){(3&t[2])===n&&ge(t,e,n,r)}function pe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ge(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(me(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function me(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const ye=-1;class ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function be(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];_e(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function we(t){return 3===t||4===t||6===t}function _e(t){return 64===t.charCodeAt(0)}function Ee(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Se(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Se(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function De(t){return t!==ye}function Te(t){return 32767&t}function Ce(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let xe=!0;function Ae(t){const e=xe;return xe=t,e}let ke=0;function Ie(t,e){const n=Oe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Ne(t,e),s=t.injectorIndex;if(De(i)){const t=Te(i),n=Ce(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Oe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ne(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ye;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ye}function Re(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=ke++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Pe(t,e,n){if(n&k.Optional)return t;b(e,"NodeInjector")}function Le(t,e,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=t[9],s=F(void 0);try{return i?i.get(e,r,n&k.Optional):O(e,r,n&k.Optional)}finally{F(s)}}return Pe(r,e,n)}function Me(t,e,n,r=k.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:je:e}(n);if("function"==typeof s){if(!ee(e,t,r))return r&k.Host?Pe(i,n,r):Le(e,n,r,i);try{const t=s(r);if(null!=t||r&k.Optional)return t;b(n)}finally{oe()}}else if("number"==typeof s){let i=null,o=Oe(t,e),a=ye,u=r&k.Host?e[16][6]:null;for((-1===o||r&k.SkipSelf)&&(a=-1===o?Ne(t,e):e[o+8],a!==ye&&Ge(r,!1)?(i=e[1],o=Te(a),e=Ce(a,e)):o=-1);-1!==o;){const t=e[1];if(ze(s,o,t.data)){const t=Be(o,e,n,i,r,u);if(t!==Ue)return t}a=e[o+8],a!==ye&&Ge(r,e[1].data[o+8]===u)&&ze(s,o,e)?(i=t,o=Te(a),e=Ce(a,e)):o=-1}}}return Le(e,n,r,i)}const Ue={};function je(){return new He(qt(),jt())}function Be(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=qe(a,o,n,null==r?dt(a)&&xe:r!=o&&0!=(3&a.type),i&k.Host&&s===a);return null!==u?Ve(e,o,u,a):Ue}function qe(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&gt(t)&&t.type===n)return u}return null}function Ve(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof ve){const o=i;o.resolving&&function(t,e){throw new m("200",`Circular dependency in DI detected for ${t}`)}(v(s[n]));const a=Ae(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?F(o.injectImpl):null;ee(t,r,k.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&F(u),Ae(a),o.resolving=!1,oe()}}return i}function ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Ge(t,e){return!(t&k.Self||t&k.Host&&e)}class He{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Me(this._tNode,this._lView,t,void 0,e)}}function $e(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(we(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(qt(),t)}const Ke="__parameters__";function Ze(t,e,n){return N(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Ke)?t[Ke]:Object.defineProperty(t,Ke,{value:[]})[Ke];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Qe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const We=new Qe("AnalyzeForEntryComponents"),Je=Function;function Ye(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Ye(r,e)):e!==t&&e.push(r)}return e}function Xe(t,e){t.forEach(t=>Array.isArray(t)?Xe(t,e):e(t))}function tn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function en(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}const rn={},sn=/\n/gm,on="__source",an=l({provide:String,useValue:l});let un;function cn(t){const e=un;return un=t,e}function ln(t,e=k.Default){if(void 0===un)throw new Error("inject() must be called from an injection context");return null===un?O(t,void 0,e):un.get(t,e&k.Optional?null:void 0,e)}function hn(t,e=k.Default){return(I||ln)(g(t),e)}function fn(t){const e=[];for(let n=0;n<t.length;n++){const r=g(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=k.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(hn(t,n))}else e.push(hn(r))}return e}function dn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const pn=dn(Ze("Inject",t=>({token:t})),-1),gn=dn(Ze("Optional"),8),mn=dn(Ze("SkipSelf"),4);let yn;function vn(t){var e;return(null===(e=function(){if(void 0===yn&&(yn=null,B.trustedTypes))try{yn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return yn}())||void 0===e?void 0:e.createHTML(t))||t}class bn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wn extends bn{getTypeName(){return"HTML"}}class _n extends bn{getTypeName(){return"Style"}}class En extends bn{getTypeName(){return"Script"}}class Sn extends bn{getTypeName(){return"URL"}}class Dn extends bn{getTypeName(){return"ResourceURL"}}function Tn(t){return t instanceof bn?t.changingThisBreaksApplicationSecurity:t}function Cn(t,e){const n=xn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function xn(t){return t instanceof bn&&t.getTypeName()||null}function An(t){return new wn(t)}function kn(t){return new _n(t)}function In(t){return new En(t)}function Fn(t){return new Sn(t)}function On(t){return new Dn(t)}class Nn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(vn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Rn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=vn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=vn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Pn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ln=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mn(t){return(t=String(t)).match(Pn)||t.match(Ln)?t:"unsafe:"+t}function Un(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Bn=Un("area,br,col,hr,img,wbr"),qn=Un("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vn=Un("rp,rt"),zn=jn(Vn,qn),Gn=jn(Bn,jn(qn,Un("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jn(Vn,Un("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zn),Hn=Un("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$n=Un("srcset"),Kn=jn(Hn,$n,Un("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Un("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zn=Un("script,style,template");class Qn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Gn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!Kn.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;Hn[s]&&(o=Mn(o)),$n[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Mn(t.trim())).join(", ")),this.buf.push(" ",e,'="',Yn(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Gn.hasOwnProperty(e)&&!Bn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Yn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Wn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jn=/([^\#-~ |!])/g;function Yn(t){return t.replace(/&/g,"&amp;").replace(Wn,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Jn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xn;function tr(t,e){let n=null;try{Xn=Xn||function(t){const e=new Rn(t);return function(){try{return!!(new window.DOMParser).parseFromString(vn(""),"text/html")}catch(t){return!1}}()?new Nn(e):e}(t);let r=e?String(e):"";n=Xn.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Xn.getInertBodyElement(r)}while(r!==s);return vn((new Qn).sanitizeChildren(er(n)||n))}finally{if(n){const t=er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var nr=(()=>((nr=nr||{})[nr.NONE=0]="NONE",nr[nr.HTML=1]="HTML",nr[nr.STYLE=2]="STYLE",nr[nr.SCRIPT=3]="SCRIPT",nr[nr.URL=4]="URL",nr[nr.RESOURCE_URL=5]="RESOURCE_URL",nr))();function rr(t){const e=function(){const t=jt();return t&&t[12]}();return e?e.sanitize(nr.URL,t)||"":Cn(t,"URL")?Tn(t):Mn(y(t))}function ir(t,e){t.__ngContext__=e}function sr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function or(t){return t.ngDebugContext}function ar(t){return t.ngOriginalError}function ur(t,...e){t.error(...e)}class cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ur}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?or(t)?or(t):this._findContext(ar(t)):null}_findOriginalError(t){let e=ar(t);for(;e&&ar(e);)e=ar(e);return e}}const lr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function hr(t){return t instanceof Function?t():t}var fr=(()=>((fr=fr||{})[fr.Important=1]="Important",fr[fr.DashCase=2]="DashCase",fr))();function dr(t,e){return(void 0)(t,e)}function pr(t){const e=t[3];return ht(e)?e[3]:e}function gr(t){return yr(t[13])}function mr(t){return yr(t[4])}function yr(t){for(;null!==t&&!ht(t);)t=t[4];return t}function vr(t,e,n,r,i){if(null!=r){let s,o=!1;ht(r)?s=r:lt(r)&&(o=!0,r=r[0]);const a=xt(r);0===t&&null!==n?null==i?Cr(e,n,a):Tr(e,n,a,i||null,!0):1===t&&null!==n?Tr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ar(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==xt(n)&&vr(e,t,r,s,i);for(let o=ct;o<n.length;o++){const i=n[o];Lr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function br(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function wr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Lt(i,-1)),n.splice(r,1)}function _r(t,e){if(t.length<=ct)return;const n=ct+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&wr(s,r),e>0&&(t[n-1][4]=r[4]);const o=en(t,ct+e);Lr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Er(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&Lr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Sr(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&Sr(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&Sr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Sr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ve)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):xt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&wr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Dr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===P.None||e===P.Emulated)return null}return At(r,n)}(t,e.parent,n)}function Tr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Cr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function xr(t,e,n,r,i){null!==r?Tr(t,e,n,r,i):Cr(t,e,n)}function Ar(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function kr(t,e,n){return Ir(t,e,n)}let Ir=function(t,e,n){return 40&t.type?At(t,n):null};function Fr(t,e,n,r){const i=Dr(t,r,e),s=e[11],o=kr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)xr(s,i,n[a],o,!1);else xr(s,i,n,o,!1)}function Or(t,e){if(null!==e){const n=e.type;if(3&n)return At(e,t);if(4&n)return Rr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Or(t,n);{const n=t[e.index];return ht(n)?Rr(-1,n):xt(n)}}if(32&n)return dr(e,t)()||xt(t[e.index]);{const n=Nr(t,e);return null!==n?Array.isArray(n)?n[0]:Or(pr(t[16]),n):Or(t,e.next)}}return null}function Nr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Rr(t,e){const n=ct+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Or(t,r)}return e[7]}function Pr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&ir(xt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Pr(t,e,n.child,r,i,s,!1),vr(e,t,i,a,s);else if(32&u){const o=dr(n,r);let u;for(;u=o();)vr(e,t,i,u,s);vr(e,t,i,a,s)}else 16&u?Mr(t,e,r,n,i,s):vr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Lr(t,e,n,r,i,s){Pr(n,r,t.firstChild,e,i,s,!1)}function Mr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)vr(e,t,i,a[u],s);else Pr(t,e,a,o[3],i,s,!0)}function Ur(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function jr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Br(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const qr="ng-template";function Vr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Br(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function zr(t){return 4===t.type&&t.value!==qr}function Gr(t,e,n){return e===(4!==t.type||n?t.value:qr)}function Hr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(we(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Gr(t,u,n)||""===u&&1===e.length){if($r(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Vr(t.attrs,c,n)){if($r(r))return!1;o=!0}continue}const l=Kr(8&r?"class":u,i,zr(t),n);if(-1===l){if($r(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Br(e,c,0)||2&r&&c!==t){if($r(r))return!1;o=!0}}}}else{if(!o&&!$r(r)&&!$r(u))return!1;if(o&&$r(u))continue;o=!1,r=u|1&r}}return $r(r)||o}function $r(t){return 0==(1&t)}function Kr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Zr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Hr(t,e[r],n))return!0;return!1}function Qr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Wr(t,e){return t?":not("+e.trim()+")":e}function Jr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||$r(o)||(e+=Wr(s,i),i=""),r=o,s=s||!$r(r);n++}return""!==i&&(e+=Wr(s,i)),e}const Yr={};function Xr(t){ti(Bt(),jt(),ue()+t,$t())}function ti(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&fe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&de(e,r,0,n)}ce(n)}function ei(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Xt(i),n.contentQueries(2,e[s],s)}}}function ni(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Pt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ri(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Vt(),o=Gt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Mt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Mt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return zt(s,!0),s}function ii(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function si(t,e,n){ne(e);try{const r=t.viewQuery;null!==r&&Ri(1,r,n);const i=t.template;null!==i&&ui(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ei(t,e),t.staticViewQueries&&Ri(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ki(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ae()}}function oi(t,e,n,r){const i=e[2];if(256==(256&i))return;ne(e);const s=$t();try{Pt(e),Mt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ui(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&de(e,n,0,null),pe(e,0)}if(function(t){for(let e=gr(t);null!==e;e=mr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Lt(r,1),n[2]|=1024}}}(e),function(t){for(let e=gr(t);null!==e;e=mr(e))for(let t=ct;t<e.length;t++){const n=e[t],r=n[1];Nt(n)&&oi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ei(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&fe(e,n)}else{const n=t.contentHooks;null!==n&&de(e,n,1),pe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ce(~r);else{const i=r,s=n[++t],o=n[++t];Wt(s,i),o(2,e[i])}}}finally{ce(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)xi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ri(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&fe(e,n)}else{const n=t.viewHooks;null!==n&&de(e,n,2),pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Lt(e[3],-1))}finally{ae()}}function ai(t,e,n,r){const i=e[10],s=!$t(),o=Ot(e);try{s&&!o&&i.begin&&i.begin(),o&&si(t,e,r),oi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ui(t,e,n,r,i){const s=ue(),o=2&r;try{ce(-1),o&&e.length>ut&&ti(t,e,ut,$t()),n(r,i)}finally{ce(s)}}function ci(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ie(n,e),ir(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&Si(e,n,r);const u=Ve(e,t,a,n);ir(u,e),null!==o&&Di(0,a-i,u,r,0,o),s&&(Ft(n.index,e)[8]=u)}}(t,e,n,At(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Mt.lFrame.currentDirectiveIndex;try{ce(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Jt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||vi(r,i)}}finally{ce(-1),Jt(o)}}(t,e,n))}function li(t,e,n=At){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function hi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=fi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function fi(t,e,n,r,i,s,o,a,u,c){const l=ut+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Yr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function di(t,e,n,r){const i=Li(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Mi(t).push(r,i.length-1))}function pi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function gi(t,e,n,r,i,s,o,a){const u=At(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(ji(t,n,c,r,i),dt(e)&&function(t,e){const n=Ft(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,Tt(s)?s.setProperty(u,r,i):_e(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function mi(t,e,n,r){let i=!1;if(Ut()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Zr(n,o.selectors,!1)&&(i||(i=[]),Re(Ie(n,e),t,o.type),gt(o)?(bi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,_i(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ii(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ee(n.mergedAttrs,c.hostAttrs),Ei(t,n,e,u,c),wi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||zr(e)?null:Ti(n,i);s.push(c),o=pi(n,u,o),a=pi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new m("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ee(n.mergedAttrs,n.attrs),i}function yi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function vi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function bi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function wi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function _i(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ei(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=mt(i.type)),o=new ve(s,gt(i),null);t.blueprint[r]=o,n[r]=o,yi(t,e,0,r,ii(t,n,i.hostVars,Yr),i)}function Si(t,e,n){const r=At(e,t),i=hi(n),s=t[10],o=Ii(t,ni(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Di(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ti(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ci(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function xi(t,e){const n=Ft(e,t);if(Nt(n)){const t=n[1];80&n[2]?oi(t,n,t.template,n[8]):n[5]>0&&Ai(n)}}function Ai(t){for(let n=gr(t);null!==n;n=mr(n))for(let t=ct;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];oi(t,e,t.template,e[8])}else e[5]>0&&Ai(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ft(e[n],t);Nt(r)&&r[5]>0&&Ai(r)}}function ki(t,e){const n=Ft(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),si(r,n,n[8])}function Ii(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Fi(t){for(;t;){t[2]|=64;const e=pr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Oi(t,e,n){const r=e[10];r.begin&&r.begin();try{oi(t,e,t.template,n)}catch(i){throw Ui(e,i),i}finally{r.end&&r.end()}}function Ni(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=sr(n),i=r[1];ai(i,r,i.template,n)}}(t[8])}function Ri(t,e,n){Xt(0),e(t,n)}const Pi=(()=>Promise.resolve(null))();function Li(t){return t[7]||(t[7]=[])}function Mi(t){return t.cleanup||(t.cleanup=[])}function Ui(t,e){const n=t[9],r=n?n.get(cr,null):null;r&&r.handleError(e)}function ji(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Bi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=f(i,t):2==s&&(r=f(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const qi=new Qe("INJECTOR",-1);class Vi{get(t,e=rn){if(e===rn){const e=new Error(`NullInjectorError: No provider for ${h(t)}!`);throw e.name="NullInjectorError",e}return e}}const zi=new Qe("Set Injector scope."),Gi={},Hi={};let $i;function Ki(){return void 0===$i&&($i=new Vi),$i}function Zi(t,e=null,n=null,r){return new Qi(t,n,e||Ki(),r)}class Qi{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Xe(e,n=>this.processProvider(n,t,e)),Xe([t],t=>this.processInjectorType(t,[],i)),this.records.set(qi,Ji(void 0,this));const s=this.records.get(zi);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:h(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=rn,n=k.Default){this.assertNotDestroyed();const r=cn(this);try{if(!(n&k.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Qe)&&E(t);e=n&&this.injectableDefInScope(n)?Ji(Wi(t),Gi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&k.Self?Ki():this.parent).get(t,e=n&k.Optional&&e===rn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(h(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[on]&&i.unshift(e[on]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=h(e);if(Array.isArray(e))i=e.map(h).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):h(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{cn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(h(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let r=D(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=D(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{Xe(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Xe(r,t=>this.processProvider(t,n,r||V))}}this.injectorDefTypes.add(s);const a=mt(s)||(()=>new s);this.records.set(s,Ji(a,Gi));const u=r.providers;if(null!=u&&!o){const e=t;Xe(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Xi(t=g(t))?t:g(t&&t.provide);const i=function(t,e,n){return Yi(t)?Ji(void 0,t.useValue):Ji(function(t,e,n){let r;if(Xi(t)){const e=g(t);return mt(e)||Wi(e)}if(Yi(t))r=()=>g(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...fn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>hn(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return mt(e)||Wi(e);r=()=>new e(...fn(t.deps))}var i;return r}(t),Gi)}(t);if(Xi(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Ji(void 0,Gi,!0),e.factory=()=>fn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Gi&&(e.value=Hi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=g(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Wi(t){const e=E(t),n=null!==e?e.factory:mt(t);if(null!==n)return n;if(t instanceof Qe)throw new Error(`Token ${h(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=nn(e,"?");throw new Error(`Can't resolve all parameters for ${h(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Yi(t){return null!==t&&"object"==typeof t&&an in t}function Xi(t){return"function"==typeof t}const ts=function(t,e,n){return function(t,e=null,n=null,r){const i=Zi(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class es{static create(t,e){return Array.isArray(t)?ts(t,e,""):ts(t.providers,t.parent,t.name||"")}}function ns(t,e){he(sr(t)[1],qt())}es.THROW_IF_NOT_FOUND=rn,es.NULL=new Vi,es.\u0275prov=w({token:es,providedIn:"any",factory:()=>hn(qi)}),es.__NG_ELEMENT_ID__=-1;let rs=null;function is(){if(!rs){const t=B.Symbol;if(t&&t.iterator)rs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(rs=n)}}}return rs}class ss{constructor(t){this.wrapped=t}static wrap(t){return new ss(t)}static unwrap(t){return ss.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof ss}}function os(t){return!!as(t)&&(Array.isArray(t)||!(t instanceof Map)&&is()in t)}function as(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function us(t,e,n){return t[e]=n}function cs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ls(t,e,n,r){const i=jt();return cs(i,Qt(),e)&&(Bt(),function(t,e,n,r,i,s){const o=At(t,e);!function(t,e,n,r,i,s,o){if(null==s)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(le(),i,t,e,n,r)),ls}function hs(t,e,n,r,i,s,o,a){const u=jt(),c=Bt(),l=t+ut,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ri(e,t,4,o||null,Rt(c,a));mi(e,n,l,Rt(c,u)),he(e,l);const h=l.tViews=fi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];zt(h,!1);const f=u[11].createComment("");Fr(c,u,f,h),ir(f,u),Ii(u,u[l]=Ci(f,u,f,h)),pt(h)&&ci(c,u,h),null!=o&&li(u,h,a)}function fs(t){return It(Mt.lFrame.contextLView,ut+t)}function ds(t,e=k.Default){const n=jt();return null===n?hn(t,e):Me(qt(),n,g(t),e)}function ps(t,e,n){const r=jt();return cs(r,Qt(),e)&&gi(Bt(),le(),r,t,e,r[11],n,!1),ps}function gs(t,e,n,r,i){const s=i?"class":"style";ji(t,n,e.inputs[s],s,r)}function ms(t,e,n,r){const i=jt(),s=Bt(),o=ut+t,a=i[11],u=i[o]=br(a,e,Mt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=ri(e,t,2,i,Rt(a,s));return mi(e,n,u,Rt(a,o)),null!==u.attrs&&Bi(u,u.attrs,!1),null!==u.mergedAttrs&&Bi(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];zt(c,!0);const l=c.mergedAttrs;null!==l&&be(a,u,l);const h=c.classes;null!==h&&jr(a,u,h);const f=c.styles;null!==f&&Ur(a,u,f),64!=(64&c.flags)&&Fr(s,i,u,c),0===Mt.lFrame.elementDepthCount&&ir(u,i),Mt.lFrame.elementDepthCount++,pt(c)&&(ci(s,i,c),function(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(s,c,i)),null!==r&&li(i,c)}function ys(){let t=qt();Gt()?Ht():(t=t.parent,zt(t,!1));const e=t;Mt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(he(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&gs(n,e,jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&gs(n,e,jt(),e.stylesWithoutHost,!1)}function vs(t,e,n,r){ms(t,e,n,r),ys()}function bs(t){return!!t&&"function"==typeof t.then}function ws(t){return!!t&&"function"==typeof t.subscribe}const _s=ws;function Es(t,e,n,r){const i=jt(),s=Bt(),o=qt();return function(t,e,n,r,i,s,o,a){const u=pt(r),c=t.firstCreatePass&&Mi(t),l=Li(e);let h=!0;if(3&r.type||a){const f=At(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(xt(t[r.index])):r.index;if(Tt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Ds(r,e,0,s,!1);const t=n.listen(d,i,s);l.push(s,t),c&&c.push(i,g,p,p+1)}}else s=Ds(r,e,0,s,!0),d.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,p,o)}else s=Ds(r,e,0,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,!!n,r),Es}function Ss(t,e,n,r){try{return!1!==n(r)}catch(i){return Ui(t,i),!1}}function Ds(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Ft(t.index,e):e;0==(32&e[2])&&Fi(o);let a=Ss(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=Ss(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Ts(t=1){return function(t){return(Mt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Mt.lFrame.contextLView))[8]}(t)}function Cs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Zr(t,s,!0):Qr(r,s))return i}else n=i}return n}function xs(t){const e=jt()[16][6];if(!e.projection){const n=e.projection=nn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Cs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function As(t,e=0,n){const r=jt(),i=Bt(),s=ri(i,ut+t,16,null,n||null);null===s.projection&&(s.projection=e),Ht(),64!=(64&s.flags)&&function(t,e,n){Mr(e[11],0,e,n,Dr(t,n,e),kr(n.parent||e[6],n,e))}(i,r,s)}function ks(t,e=""){const n=jt(),r=Bt(),i=t+ut,s=r.firstCreatePass?ri(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Fr(r,n,o,s),zt(s,!1)}function Is(t){return Fs("",t,""),Is}function Fs(t,e,n){const r=jt(),i=function(t,e,n,r){return cs(t,Qt(),n)?e+y(n)+r:Yr}(r,t,e,n);return i!==Yr&&function(t,e,n){const r=function(t,e){return xt(e[t])}(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ue(),i),Fs}function Os(t,e,n){const r=jt();return cs(r,Qt(),e)&&gi(Bt(),le(),r,t,e,r[11],n,!0),Os}const Ns=void 0;var Rs=["en",[["a","p"],["AM","PM"],Ns],[["AM","PM"],Ns,Ns],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ns,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ns,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ns,"{1} 'at' {0}",Ns],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ps={};function Ls(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Us(e);if(n)return n;const r=e.split("-")[0];if(n=Us(r),n)return n;if("en"===r)return Rs;throw new Error(`Missing locale data for the locale "${t}".`)}function Ms(t){return Ls(t)[js.PluralCase]}function Us(t){return t in Ps||(Ps[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Ps[t]}var js=(()=>((js=js||{})[js.LocaleId=0]="LocaleId",js[js.DayPeriodsFormat=1]="DayPeriodsFormat",js[js.DayPeriodsStandalone=2]="DayPeriodsStandalone",js[js.DaysFormat=3]="DaysFormat",js[js.DaysStandalone=4]="DaysStandalone",js[js.MonthsFormat=5]="MonthsFormat",js[js.MonthsStandalone=6]="MonthsStandalone",js[js.Eras=7]="Eras",js[js.FirstDayOfWeek=8]="FirstDayOfWeek",js[js.WeekendRange=9]="WeekendRange",js[js.DateFormat=10]="DateFormat",js[js.TimeFormat=11]="TimeFormat",js[js.DateTimeFormat=12]="DateTimeFormat",js[js.NumberSymbols=13]="NumberSymbols",js[js.NumberFormats=14]="NumberFormats",js[js.CurrencyCode=15]="CurrencyCode",js[js.CurrencySymbol=16]="CurrencySymbol",js[js.CurrencyName=17]="CurrencyName",js[js.Currencies=18]="Currencies",js[js.Directionality=19]="Directionality",js[js.PluralCase=20]="PluralCase",js[js.ExtraData=21]="ExtraData",js))();const Bs="en-US";let qs=Bs;function Vs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(qs=t.toLowerCase().replace(/_/g,"-"))}class zs{}class Gs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${h(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Hs{}function $s(...t){}function Ks(t,e){return new Qs(At(t,e))}Hs.NULL=new Gs;const Zs=function(){return Ks(qt(),jt())};let Qs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Zs,t})();function Ws(t){return t instanceof Qs?t.nativeElement:t}class Js{}let Ys=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xs(),t})();const Xs=function(){const t=jt(),e=Ft(qt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let to=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class eo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const no=new eo("12.1.1");class ro{constructor(){}supports(t){return os(t)}create(t){return new so(t)}}const io=(t,e)=>e;class so{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||io}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<co(n,r,i)?e:n,o=co(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!os(t))throw new Error(`Error trying to diff '${h(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[is()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new oo(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new uo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ao{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class uo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ao,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function co(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class lo{constructor(){}supports(t){return t instanceof Map||as(t)}create(){return new ho}}class ho{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||as(t)))throw new Error(`Error trying to diff '${h(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new fo(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class fo{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function po(){return new go([new ro])}let go=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||po()),deps:[[t,new mn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:po}),t})();function mo(){return new yo([new lo])}let yo=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||mo()),deps:[[t,new mn,new gn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:mo}),t})();function vo(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(xt(s)),ht(s))for(let t=ct;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&vo(e[1],e,n,r)}const o=n.type;if(8&o)vo(t,e,n.child,r);else if(32&o){const t=dr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Nr(e,n);if(Array.isArray(t))r.push(...t);else{const n=pr(e[16]);vo(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class bo{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return vo(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(_r(t,n),en(e,n))}this._attachedToViewContainer=!1}Er(this._lView[1],this._lView)}onDestroy(t){di(this._lView[1],this._lView,null,t)}markForCheck(){Fi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Kt(!0);try{Oi(t,e,n)}finally{Kt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Lr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class wo extends bo{constructor(t){super(t),this._view=t}detectChanges(){Ni(this._view)}checkNoChanges(){!function(t){Kt(!0);try{Ni(t)}finally{Kt(!1)}}(this._view)}get context(){return null}}const _o=function(t){return function(t,e,n){if(dt(t)&&!n){const n=Ft(t.index,e);return new bo(n,n)}return 47&t.type?new bo(e[16],e):null}(qt(),jt(),16==(16&t))};let Eo=(()=>{class t{}return t.__NG_ELEMENT_ID__=_o,t})();const So=[new lo],Do=new go([new ro]),To=new yo(So),Co=function(){return Io(qt(),jt())};let xo=(()=>{class t{}return t.__NG_ELEMENT_ID__=Co,t})();const Ao=xo,ko=class extends Ao{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ni(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),si(e,n,t),new bo(n)}};function Io(t,e){return 4&t.type?new ko(e,t,Ks(t,e)):null}class Fo{}class Oo{}const No=function(){return jo(qt(),jt())};let Ro=(()=>{class t{}return t.__NG_ELEMENT_ID__=No,t})();const Po=Ro,Lo=class extends Po{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ks(this._hostTNode,this._hostLView)}get injector(){return new He(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ne(this._hostTNode,this._hostLView);if(De(t)){const e=Ce(t,this._hostLView),n=Te(t);return new He(e[1].data[n+8],e)}return new He(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Mo(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ct}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Fo,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Lo(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ct+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ct?(e[4]=n[i],tn(n,ct+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Rr(i,s),a=n[11],u=Ar(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Lr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),tn(Uo(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Mo(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=_r(this._lContainer,e);n&&(en(Uo(this._lContainer),e),Er(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=_r(this._lContainer,e);return n&&null!=en(Uo(this._lContainer),e)?new bo(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Mo(t){return t[8]}function Uo(t){return t[8]||(t[8]=[])}function jo(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=xt(r);else{const n=e[11];i=n.createComment("");const r=At(t,e);Tr(n,Ar(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ci(r,e,i,t),Ii(e,n)}return new Lo(n,t,e)}const Bo={};class qo extends Hs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ot(t);return new Go(e,this.ngModule)}}function Vo(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const zo=new Qe("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lr});class Go extends zs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Jr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Vo(this.componentDef.inputs)}get outputs(){return Vo(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Bo,i);return s!==Bo||r===Bo?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Js,Ct),o=i.get(to,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===P.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):br(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:lr,clean:Pi,playerHandler:null,flags:0},f=fi(0,null,null,1,0,null,null,null,null,null),d=ni(null,f,h,l,null,null,s,a,o,i);let p,g;ne(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=ri(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Bi(a,u,!0),null!==t&&(be(i,t,u),null!==a.classes&&jr(i,t,a.classes),null!==a.styles&&Ur(i,t,a.styles)));const c=r.createRenderer(t,e),l=ni(n,hi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&(Re(Ie(a,n),o,e.type),bi(o,a),_i(a,n.length,1)),Ii(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)be(a,c,["ng-version",no.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!$r(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&be(a,c,t),e&&e.length>0&&jr(a,c,e.join(" "))}if(g=kt(f,ut),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=qt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ei(t,r,e,ii(t,e,1,null),n));const i=Ve(e,t,r.directiveStart,r);ir(i,e);const s=At(r,e);return s&&ir(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=qt();e.contentQueries(1,o,t.directiveStart)}const a=qt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ce(a.index),yi(n[1],a,0,a.directiveStart,a.directiveEnd,e),vi(e,o)),o}(t,this.componentDef,d,h,[ns]),si(f,d,null)}finally{ae()}return new Ho(this.componentType,p,Ks(g,d),d,g)}}class Ho extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new wo(r),this.componentType=t}get injector(){return new He(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const $o=new Map;class Ko extends Fo{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qo(this);const n=at(t),r=t[K]||null;r&&Vs(r),this._bootstrapComponents=hr(n.bootstrap),this._r3Injector=Zi(t,e,[{provide:Fo,useValue:this},{provide:Hs,useValue:this.componentFactoryResolver}],h(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=es.THROW_IF_NOT_FOUND,n=k.Default){return t===es||t===Fo||t===qi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Zo extends Oo{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${h(e)} vs ${h(e.name)}`)}(i,$o.get(i),n),$o.set(i,n));const s=hr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Ko(this.moduleType,t)}}function Qo(t,e,n,r){return Yo(jt(),Zt(),t,e,n,r)}function Wo(t,e,n,r,i){return function(t,e,n,r,i,s,o){const a=e+n;return function(t,e,n,r){const i=cs(t,e,n);return cs(t,e+1,r)||i}(t,a,i,s)?us(t,a+2,o?r.call(o,i,s):r(i,s)):Jo(t,a+2)}(jt(),Zt(),t,e,n,r,i)}function Jo(t,e){const n=t[e];return n===Yr?void 0:n}function Yo(t,e,n,r,i,s){const o=e+n;return cs(t,o,i)?us(t,o+1,s?r.call(s,i):r(i)):Jo(t,o+1)}function Xo(t,e){const n=Bt();let r;const i=t+ut;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new m("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=mt(r.type)),o=F(ds);try{const t=Ae(!1),e=s();return Ae(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,jt(),i,e),e}finally{F(o)}}function ta(t,e,n){const r=t+ut,i=jt(),s=It(i,r);return function(t,e){return ss.isWrapped(e)&&(e=ss.unwrap(e),t[Mt.lFrame.bindingIndex]=Yr),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?Yo(i,Zt(),e,s.transform,n,s):s.transform(n))}function ea(t){return e=>{setTimeout(t,void 0,e)}}const na=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=ea(u),a&&(a=ea(a)),c&&(c=ea(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function ra(){return this._results[is()]()}class ia{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=is(),n=ia.prototype;n[e]||(n[e]=ra)}get changes(){return this._changes||(this._changes=new na)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Ye(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class sa{constructor(t){this.queryList=t,this.matches=null}clone(){return new sa(this.queryList)}setDirty(){this.queryList.setDirty()}}class oa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new oa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ya(t,e).matches&&this.queries[e].setDirty()}}class aa{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class ua{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ua(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ca{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ca(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,la(e,i)),this.matchTNodeWithReadOption(t,e,qe(e,t,i,!1,!1))}else n===xo?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Qs||r===Ro||r===xo&&4&e.type)this.addMatch(e.index,-2);else{const n=qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function la(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ha(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ks(t,e):4&t.type?Io(t,e):null}(e,t):-2===n?function(t,e,n){return n===Qs?Ks(e,t):n===xo?Io(e,t):n===Ro?jo(e,t):void 0}(t,e,r):Ve(t,t[1],n,e)}function fa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:ha(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function da(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=fa(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ct;t<o.length;t++){const e=o[t];e[17]===e[3]&&da(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];da(n[1],n,i,r)}}}}}return r}function pa(t){const e=jt(),n=Bt(),r=Yt();Xt(r+1);const i=ya(n,r);if(t.dirty&&Ot(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?da(n,e,r,[]):fa(n,e,i,r);t.reset(s,Ws),t.notifyOnChanges()}return!0}return!1}function ga(t,e,n,r){const i=Bt();if(i.firstCreatePass){const s=qt();(function(t,e,n){null===t.queries&&(t.queries=new ua),t.queries.track(new ca(e,n))})(i,new aa(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new ia(4==(4&n));di(t,e,r,r.destroy),null===e[19]&&(e[19]=new oa),e[19].queries.push(new sa(r))}(i,jt(),n)}function ma(){return t=jt(),e=Yt(),t[19].queries[e].queryList;var t,e}function ya(t,e){return t.queries.getByIndex(e)}const va=new Qe("Application Initializer");let ba=(()=>{class t{constructor(t){this.appInits=t,this.resolve=$s,this.reject=$s,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(bs(e))t.push(e);else if(_s(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(hn(va,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const wa=new Qe("AppId"),_a={provide:wa,useFactory:function(){return`${Ea()}${Ea()}${Ea()}`},deps:[]};function Ea(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Sa=new Qe("Platform Initializer"),Da=new Qe("Platform ID"),Ta=new Qe("appBootstrapListener");let Ca=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const xa=new Qe("LocaleId"),Aa=new Qe("DefaultCurrencyCode");class ka{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Ia=function(t){return new Zo(t)},Fa=Ia,Oa=function(t){return Promise.resolve(Ia(t))},Na=function(t){const e=Ia(t),n=hr(at(t).declarations).reduce((t,e)=>{const n=ot(e);return n&&t.push(new Go(n)),t},[]);return new ka(e,n)},Ra=Na,Pa=function(t){return Promise.resolve(Na(t))};let La=(()=>{class t{constructor(){this.compileModuleSync=Fa,this.compileModuleAsync=Oa,this.compileModuleAndAllComponentsSync=Ra,this.compileModuleAndAllComponentsAsync=Pa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const Ma=(()=>Promise.resolve(0))();function Ua(t){"undefined"==typeof Zone?Ma.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ja{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new na(!1),this.onMicrotaskEmpty=new na(!1),this.onStable=new na(!1),this.onError=new na(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Va(t),t.isCheckStableRunning=!0,qa(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Va(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return za(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Ga(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return za(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Ga(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Va(t),qa(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ja.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ja.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ba,$s,$s);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ba={};function qa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Va(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function za(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ga(t){t._nesting--,qa(t)}class Ha{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new na,this.onMicrotaskEmpty=new na,this.onStable=new na,this.onError=new na}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let $a=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ja.assertNotInAngularZone(),Ua(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ua(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(hn(ja))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Ka=(()=>{class t{constructor(){this._applications=new Map,Ja.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ja.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class Za{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Qa(t){Ja=t}let Wa,Ja=new Za,Ya=!0,Xa=!1;function tu(){return Xa=!0,Ya}function eu(){if(Xa)throw new Error("Cannot enable prod mode after platform setup.");Ya=!1}const nu=new Qe("AllowMultipleToken");class ru{constructor(t,e){this.name=t,this.token=e}}function iu(t,e,n=[]){const r=`Platform: ${e}`,i=new Qe(r);return(e=[])=>{let s=su();if(!s||s.injector.get(nu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:zi,useValue:"platform"});!function(t){if(Wa&&!Wa.destroyed&&!Wa.injector.get(nu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wa=t.get(ou);const e=t.get(Sa,null);e&&e.forEach(t=>t())}(es.create({providers:t,name:r}))}return function(t){const e=su();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function su(){return Wa&&!Wa.destroyed?Wa:null}let ou=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Ha:("zone.js"===t?void 0:t)||new ja({enableLongStackTrace:tu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:ja,useValue:n}];return n.run(()=>{const e=es.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(cr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{cu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return bs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(ba);return t.runInitializers(),t.donePromise.then(()=>(Vs(i.injector.get(xa,Bs)||Bs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=au({},e);return function(t,e,n){const r=new Zo(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(uu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${h(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(hn(es))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function au(t,e){return Array.isArray(e)?e.reduce(au,t):Object.assign(Object.assign({},t),e)}let uu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{ja.assertNotInAngularZone(),Ua(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ja.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(t=>{return(0,u.x)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof zs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Fo),i=n.create(es.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get($a,null),a=o&&i.injector.get(Ka);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),cu(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;cu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ta,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(hn(ja),hn(es),hn(cr),hn(Hs),hn(ba))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function cu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lu{}class hu{}const fu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let du=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||fu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>pu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>pu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(hn(La),hn(hu,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function pu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const gu=function(t){return null},mu=iu(null,"core",[{provide:Da,useValue:"unknown"},{provide:ou,deps:[es]},{provide:Ka,deps:[]},{provide:Ca,deps:[]}]),yu=[{provide:uu,useClass:uu,deps:[ja,es,cr,Hs,ba]},{provide:zo,deps:[ja],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ba,useClass:ba,deps:[[new gn,va]]},{provide:La,useClass:La,deps:[]},_a,{provide:go,useFactory:function(){return Do},deps:[]},{provide:yo,useFactory:function(){return To},deps:[]},{provide:xa,useFactory:function(t){return Vs(t=t||"undefined"!=typeof $localize&&$localize.locale||Bs),t},deps:[[new pn(xa),new gn,new mn]]},{provide:Aa,useValue:"USD"}];let vu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(hn(uu))},t.\u0275mod=et({type:t}),t.\u0275inj=_({providers:yu}),t})()},57:(t,e,n)=>{"use strict";n.d(e,{xv:()=>b,Dh:()=>v,HU:()=>d,GT:()=>y,sI:()=>S,on:()=>w,ss:()=>p,pX:()=>m,yq:()=>_});var r=n(7771),i=n(3637),s=n(3342),o=n(3101),a=n(309),u=n(3018),c=n(2329);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,s.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,o.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const g=["ngOnDestroy"],m=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(g.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const _=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map)},9759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,s=n(4762),o=n(4685),a=n(6034),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,o.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,o.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}s(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,o.r3)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&(0,o.ZB)(u,s.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,s.pi)((0,s.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,o.ZB)(e,t)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,o.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,o.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.28",void 0),t.registerVersion("fire-js","")}(w);const _=w},6034:(t,e,n)=>{"use strict";n.d(e,{wA:()=>s,H0:()=>u});var r=n(4762),i=n(4685),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,{in:()=>o,Yd:()=>h,Ub:()=>f,Am:()=>d});var s=[],o=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={})),o))(),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},4685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>b,r3:()=>E,Sg:()=>u,ne:()=>S,p$:()=>s,ZB:()=>o,m9:()=>C,z$:()=>c,jU:()=>f,ru:()=>d,d:()=>g,w1:()=>m,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>y});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}function d(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return c().indexOf("Electron/")>=0}function m(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,b.prototype.create),s}return(0,r.ZT)(e,t),e}(Error),b=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?w(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new v(i,a,r);return u},t}();function w(t,e){return t.replace(_,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var _=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new D(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),s=1518500249):(i=a^u^c,s=1859775393):r<60?(i=a&u|c&(a|u),s=2400959708):(i=a^u^c,s=3395469782);var h=(o<<5|o>>>27)+i+l+s+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function C(t){return t&&t._delegate?t._delegate:t}},2329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(9759),i="8.7.1";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},8205:function(t){t.exports=function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r={exports:{}};r.exports={defaults:{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1},getDefaults:function(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},changeDefaults:function(t){r.exports.defaults=t}};var i=/[&<>"']/,s=/[&<>"']/g,o=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=function(t){return u[t]},l=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function h(t){return t.replace(l,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}var f=/(^|[^\[])\^/g,d=/[^\w:]/g,p=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,g={},m=/^[^:]+:\/*[^/]*$/,y=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function b(t,e,n){var r=t.length;if(0===r)return"";for(var i=0;i<r;){var s=t.charAt(r-i-1);if(s!==e||n){if(s===e||!n)break;i++}else i++}return t.substr(0,r-i)}var w=function(t,e){if(e){if(i.test(t))return t.replace(s,c)}else if(o.test(t))return t.replace(a,c);return t},_=h,E=function(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},S=r.exports.defaults,D=b,T=function(t,e){var n=t.replace(/\|/g,function(t,e,n){for(var r=!1,i=e;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},C=w;function x(t,e,n){var r=e.href,i=e.title?C(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");return"!"!==t[0].charAt(0)?{type:"link",raw:n,href:r,title:i,text:s}:{type:"image",raw:n,href:r,title:i,text:C(s)}}var A=function(){function t(t){this.options=t||S}var e=t.prototype;return e.space=function(t){var e=this.rules.block.newline.exec(t);if(e)return e[0].length>1?{type:"space",raw:e[0]}:{raw:"\n"}},e.code=function(t){var e=this.rules.block.code.exec(t);if(e){var n=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:D(n,"\n")}}},e.fences=function(t){var e=this.rules.block.fences.exec(t);if(e){var n=e[0],r=function(t,e){var n=t.match(/^(\s+)(?:```)/);if(null===n)return e;var r=n[1];return e.split("\n").map(function(t){var e=t.match(/^\s+/);return null===e?t:e[0].length>=r.length?t.slice(r.length):t}).join("\n")}(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim():e[2],text:r}}},e.heading=function(t){var e=this.rules.block.heading.exec(t);if(e){var n=e[2].trim();if(/#$/.test(n)){var r=D(n,"#");this.options.pedantic?n=r.trim():r&&!/ $/.test(r)||(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n}}},e.nptable=function(t){var e=this.rules.block.nptable.exec(t);if(e){var n={type:"table",header:T(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[],raw:e[0]};if(n.header.length===n.align.length){var r,i=n.align.length;for(r=0;r<i;r++)n.align[r]=/^ *-+: *$/.test(n.align[r])?"right":/^ *:-+: *$/.test(n.align[r])?"center":/^ *:-+ *$/.test(n.align[r])?"left":null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=T(n.cells[r],n.header.length);return n}}},e.hr=function(t){var e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}},e.blockquote=function(t){var e=this.rules.block.blockquote.exec(t);if(e){var n=e[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:e[0],text:n}}},e.list=function(t){var e=this.rules.block.list.exec(t);if(e){var n,r,i,s,o,a,u,c,l,h=e[0],f=e[2],d=f.length>1,p={type:"list",raw:h,ordered:d,start:d?+f.slice(0,-1):"",loose:!1,items:[]},g=e[0].match(this.rules.block.item),m=!1,y=g.length;i=this.rules.block.listItemStart.exec(g[0]);for(var v=0;v<y;v++){if(h=n=g[v],this.options.pedantic||(l=n.match(new RegExp("\\n\\s*\\n {0,"+(i[0].length-1)+"}\\S")))&&(o=n.length-l.index+g.slice(v+1).join("\n").length,p.raw=p.raw.substring(0,p.raw.length-o),h=n=n.substring(0,l.index),y=v+1),v!==y-1){if(s=this.rules.block.listItemStart.exec(g[v+1]),this.options.pedantic?s[1].length>i[1].length:s[1].length>=i[0].length||s[1].length>3){g.splice(v,2,g[v]+(!this.options.pedantic&&s[1].length<i[0].length&&!g[v].match(/\n$/)?"":"\n")+g[v+1]),v--,y--;continue}(!this.options.pedantic||this.options.smartLists?s[2][s[2].length-1]!==f[f.length-1]:d===(1===s[2].length))&&(o=g.slice(v+1).join("\n").length,p.raw=p.raw.substring(0,p.raw.length-o),v=y-1),i=s}r=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(r-=n.length,n=n.replace(this.options.pedantic?/^ {1,4}/gm:new RegExp("^ {1,"+r+"}","gm"),"")),n=D(n,"\n"),v!==y-1&&(h+="\n"),a=m||/\n\n(?!\s*$)/.test(h),v!==y-1&&(m="\n\n"===h.slice(-2),a||(a=m)),a&&(p.loose=!0),this.options.gfm&&(c=void 0,(u=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),p.items.push({type:"list_item",raw:h,task:u,checked:c,loose:a,text:n})}return p}},e.html=function(t){var e=this.rules.block.html.exec(t);if(e)return{type:this.options.sanitize?"paragraph":"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):C(e[0]):e[0]}},e.def=function(t){var e=this.rules.block.def.exec(t);if(e)return e[3]&&(e[3]=e[3].substring(1,e[3].length-1)),{type:"def",tag:e[1].toLowerCase().replace(/\s+/g," "),raw:e[0],href:e[2],title:e[3]}},e.table=function(t){var e=this.rules.block.table.exec(t);if(e){var n={type:"table",header:T(e[1].replace(/^ *| *\| *$/g,"")),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3]?e[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=e[0];var r,i=n.align.length;for(r=0;r<i;r++)n.align[r]=/^ *-+: *$/.test(n.align[r])?"right":/^ *:-+: *$/.test(n.align[r])?"center":/^ *:-+ *$/.test(n.align[r])?"left":null;for(i=n.cells.length,r=0;r<i;r++)n.cells[r]=T(n.cells[r].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},e.lheading=function(t){var e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1]}},e.paragraph=function(t){var e=this.rules.block.paragraph.exec(t);if(e)return{type:"paragraph",raw:e[0],text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]}},e.text=function(t){var e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0]}},e.escape=function(t){var e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:C(e[1])}},e.tag=function(t,e,n){var r=this.rules.inline.tag.exec(t);if(r)return!e&&/^<a /i.test(r[0])?e=!0:e&&/^<\/a>/i.test(r[0])&&(e=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:r[0],inLink:e,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):C(r[0]):r[0]}},e.link=function(t){var e=this.rules.inline.link.exec(t);if(e){var n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var r=D(n.slice(0,-1),"\\");if((n.length-r.length)%2==0)return}else{var i=function(t,e){if(-1===t.indexOf(e[1]))return-1;for(var n=t.length,r=0,i=0;i<n;i++)if("\\"===t[i])i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&--r<0)return i;return-1}(e[2],"()");if(i>-1){var s=(0===e[0].indexOf("!")?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,s).trim(),e[3]=""}}var o=e[2],a="";if(this.options.pedantic){var u=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);u&&(o=u[1],a=u[3])}else a=e[3]?e[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(o=this.options.pedantic&&!/>$/.test(n)?o.slice(1):o.slice(1,-1)),x(e,{href:o?o.replace(this.rules.inline._escapes,"$1"):o,title:a?a.replace(this.rules.inline._escapes,"$1"):a},e[0])}},e.reflink=function(t,e){var n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){var r=(n[2]||n[1]).replace(/\s+/g," ");if(!(r=e[r.toLowerCase()])||!r.href){var i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return x(n,r,n[0])}},e.emStrong=function(t,e,n){void 0===n&&(n="");var r=this.rules.inline.emStrong.lDelim.exec(t);if(r&&(!r[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var i=r[1]||r[2]||"";if(!i||i&&(""===n||this.rules.inline.punctuation.exec(n))){var s,o,a=r[0].length-1,u=a,c=0,l="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,e=e.slice(-1*t.length+a);null!=(r=l.exec(e));)if(s=r[1]||r[2]||r[3]||r[4]||r[5]||r[6])if(o=s.length,r[3]||r[4])u+=o;else if(!((r[5]||r[6])&&a%3)||(a+o)%3){if(!((u-=o)>0))return o=Math.min(o,o+u+c),Math.min(a,o)%2?{type:"em",raw:t.slice(0,a+r.index+o+1),text:t.slice(1,a+r.index+o)}:{type:"strong",raw:t.slice(0,a+r.index+o+1),text:t.slice(2,a+r.index+o-1)}}else c+=o}}},e.codespan=function(t){var e=this.rules.inline.code.exec(t);if(e){var n=e[2].replace(/\n/g," "),r=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return r&&i&&(n=n.substring(1,n.length-1)),n=C(n,!0),{type:"codespan",raw:e[0],text:n}}},e.br=function(t){var e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}},e.del=function(t){var e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2]}},e.autolink=function(t,e){var n,r,i=this.rules.inline.autolink.exec(t);if(i)return r="@"===i[2]?"mailto:"+(n=C(this.options.mangle?e(i[1]):i[1])):n=C(i[1]),{type:"link",raw:i[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}},e.url=function(t,e){var n;if(n=this.rules.inline.url.exec(t)){var r,i;if("@"===n[2])i="mailto:"+(r=C(this.options.mangle?e(n[0]):n[0]));else{var s;do{s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(s!==n[0]);r=C(n[0]),i="www."===n[1]?"http://"+r:r}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}},e.inlineText=function(t,e,n){var r,i=this.rules.inline.text.exec(t);if(i)return r=e?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):C(i[0]):i[0]:C(this.options.smartypants?n(i[0]):i[0]),{type:"text",raw:i[0],text:r}},t}(),k={exec:function(){}},I=function(t,e){t=t.source||t,e=e||"";var n={replace:function(e,r){return r=(r=r.source||r).replace(f,"$1"),t=t.replace(e,r),n},getRegex:function(){return new RegExp(t,e)}};return n},F=E,O={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:k,table:k,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};O.def=I(O.def).replace("label",O._label).replace("title",O._title).getRegex(),O.bullet=/(?:[*+-]|\d{1,9}[.)])/,O.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,O.item=I(O.item,"gm").replace(/bull/g,O.bullet).getRegex(),O.listItemStart=I(/^( *)(bull) */).replace("bull",O.bullet).getRegex(),O.list=I(O.list).replace(/bull/g,O.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+O.def.source+")").getRegex(),O._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",O._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,O.html=I(O.html,"i").replace("comment",O._comment).replace("tag",O._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),O.paragraph=I(O._paragraph).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.blockquote=I(O.blockquote).replace("paragraph",O.paragraph).getRegex(),O.normal=F({},O),O.gfm=F({},O.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),O.gfm.nptable=I(O.gfm.nptable).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.gfm.table=I(O.gfm.table).replace("hr",O.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",O._tag).getRegex(),O.pedantic=F({},O.normal,{html:I("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",O._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:k,paragraph:I(O.normal._paragraph).replace("hr",O.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",O.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var N={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:k,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_*]*?\*[^_*]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^_*]*?\_[^_*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:k,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};N.punctuation=I(N.punctuation).replace(/punctuation/g,N._punctuation).getRegex(),N.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,N.escapedEmSt=/\\\*|\\_/g,N._comment=I(O._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),N.emStrong.lDelim=I(N.emStrong.lDelim).replace(/punct/g,N._punctuation).getRegex(),N.emStrong.rDelimAst=I(N.emStrong.rDelimAst,"g").replace(/punct/g,N._punctuation).getRegex(),N.emStrong.rDelimUnd=I(N.emStrong.rDelimUnd,"g").replace(/punct/g,N._punctuation).getRegex(),N._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,N._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,N._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,N.autolink=I(N.autolink).replace("scheme",N._scheme).replace("email",N._email).getRegex(),N._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,N.tag=I(N.tag).replace("comment",N._comment).replace("attribute",N._attribute).getRegex(),N._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,N._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,N._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,N.link=I(N.link).replace("label",N._label).replace("href",N._href).replace("title",N._title).getRegex(),N.reflink=I(N.reflink).replace("label",N._label).getRegex(),N.reflinkSearch=I(N.reflinkSearch,"g").replace("reflink",N.reflink).replace("nolink",N.nolink).getRegex(),N.normal=F({},N),N.pedantic=F({},N.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:I(/^!?\[(label)\]\((.*?)\)/).replace("label",N._label).getRegex(),reflink:I(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",N._label).getRegex()}),N.gfm=F({},N.normal,{escape:I(N.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),N.gfm.url=I(N.gfm.url,"i").replace("email",N.gfm._extended_email).getRegex(),N.breaks=F({},N.gfm,{br:I(N.br).replace("{2,}","*").getRegex(),text:I(N.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var R={block:O,inline:N},P=A,L=r.exports.defaults,M=R.block,U=R.inline,j=function(t,e){if(e<1)return"";for(var n="";e>1;)1&e&&(n+=t),e>>=1,t+=t;return n+t};function B(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function q(t){var e,n,r="",i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}var V=function(){function e(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||L,this.options.tokenizer=this.options.tokenizer||new P,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var e={block:M.normal,inline:U.normal};this.options.pedantic?(e.block=M.pedantic,e.inline=U.pedantic):this.options.gfm&&(e.block=M.gfm,e.inline=this.options.breaks?U.breaks:U.gfm),this.tokenizer.rules=e}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n,r,i=e.prototype;return i.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(t,this.tokens,!0),this.inline(this.tokens),this.tokens},i.blockTokens=function(t,e,n){var r,i,s,o,a,u,c=this;for(void 0===e&&(e=[]),void 0===n&&(n=!0),this.options.pedantic&&(t=t.replace(/^ +$/gm,""));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(n){return!!(r=n.call(c,t,e))&&(t=t.substring(r.raw.length),e.push(r),!0)})))if(r=this.tokenizer.space(t))t=t.substring(r.raw.length),r.type&&e.push(r);else if(r=this.tokenizer.code(t))t=t.substring(r.raw.length),(o=e[e.length-1])&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text):e.push(r);else if(r=this.tokenizer.fences(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.heading(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.nptable(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.hr(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.blockquote(t))t=t.substring(r.raw.length),r.tokens=this.blockTokens(r.text,[],n),e.push(r);else if(r=this.tokenizer.list(t)){for(t=t.substring(r.raw.length),s=r.items.length,i=0;i<s;i++)r.items[i].tokens=this.blockTokens(r.items[i].text,[],!1);e.push(r)}else if(r=this.tokenizer.html(t))t=t.substring(r.raw.length),e.push(r);else if(n&&(r=this.tokenizer.def(t)))t=t.substring(r.raw.length),this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});else if(r=this.tokenizer.table(t))t=t.substring(r.raw.length),e.push(r);else if(r=this.tokenizer.lheading(t))t=t.substring(r.raw.length),e.push(r);else if(a=t,this.options.extensions&&this.options.extensions.startBlock&&function(){var e=1/0,n=t.slice(1),r=void 0;c.options.extensions.startBlock.forEach(function(t){"number"==typeof(r=t.call(this,n))&&r>=0&&(e=Math.min(e,r))}),e<1/0&&e>=0&&(a=t.substring(0,e+1))}(),n&&(r=this.tokenizer.paragraph(a)))o=e[e.length-1],u&&"paragraph"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text):e.push(r),u=a.length!==t.length,t=t.substring(r.raw.length);else if(r=this.tokenizer.text(t))t=t.substring(r.raw.length),(o=e[e.length-1])&&"text"===o.type?(o.raw+="\n"+r.raw,o.text+="\n"+r.text):e.push(r);else if(t){var l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}throw new Error(l)}return e},i.inline=function(t){var e,n,r,i,s,o,a=t.length;for(e=0;e<a;e++)switch((o=t[e]).type){case"paragraph":case"text":case"heading":o.tokens=[],this.inlineTokens(o.text,o.tokens);break;case"table":for(o.tokens={header:[],cells:[]},i=o.header.length,n=0;n<i;n++)o.tokens.header[n]=[],this.inlineTokens(o.header[n],o.tokens.header[n]);for(i=o.cells.length,n=0;n<i;n++)for(s=o.cells[n],o.tokens.cells[n]=[],r=0;r<s.length;r++)o.tokens.cells[n][r]=[],this.inlineTokens(s[r],o.tokens.cells[n][r]);break;case"blockquote":this.inline(o.tokens);break;case"list":for(i=o.items.length,n=0;n<i;n++)this.inline(o.items[n].tokens)}return t},i.inlineTokens=function(t,e,n,r){var i,s,o,a=this;void 0===e&&(e=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var u,c,l,h=t;if(this.tokens.links){var f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(u=this.tokenizer.rules.inline.reflinkSearch.exec(h));)f.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(h=h.slice(0,u.index)+"["+j("a",u[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(u=this.tokenizer.rules.inline.blockSkip.exec(h));)h=h.slice(0,u.index)+"["+j("a",u[0].length-2)+"]"+h.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(u=this.tokenizer.rules.inline.escapedEmSt.exec(h));)h=h.slice(0,u.index)+"++"+h.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(c||(l=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(n){return!!(i=n.call(a,t,e))&&(t=t.substring(i.raw.length),e.push(i),!0)})))if(i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t,n,r))t=t.substring(i.raw.length),n=i.inLink,r=i.inRawBlock,(s=e[e.length-1])&&"text"===i.type&&"text"===s.type?(s.raw+=i.raw,s.text+=i.text):e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),"link"===i.type&&(i.tokens=this.inlineTokens(i.text,[],!0,r)),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),s=e[e.length-1],"link"===i.type?(i.tokens=this.inlineTokens(i.text,[],!0,r),e.push(i)):s&&"text"===i.type&&"text"===s.type?(s.raw+=i.raw,s.text+=i.text):e.push(i);else if(i=this.tokenizer.emStrong(t,h,l))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),i.tokens=this.inlineTokens(i.text,[],n,r),e.push(i);else if(i=this.tokenizer.autolink(t,q))t=t.substring(i.raw.length),e.push(i);else if(n||!(i=this.tokenizer.url(t,q))){if(o=t,this.options.extensions&&this.options.extensions.startInline&&function(){var e=1/0,n=t.slice(1),r=void 0;a.options.extensions.startInline.forEach(function(t){"number"==typeof(r=t.call(this,n))&&r>=0&&(e=Math.min(e,r))}),e<1/0&&e>=0&&(o=t.substring(0,e+1))}(),i=this.tokenizer.inlineText(o,r,B))t=t.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),c=!0,(s=e[e.length-1])&&"text"===s.type?(s.raw+=i.raw,s.text+=i.text):e.push(i);else if(t){var d="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}else t=t.substring(i.raw.length),e.push(i);return e},n=e,r=[{key:"rules",get:function(){return{block:M,inline:U}}}],null&&t(n.prototype,null),r&&t(n,r),e}(),z=r.exports.defaults,G=function(t,e,n){if(t){var r;try{r=decodeURIComponent(h(n)).replace(d,"").toLowerCase()}catch(i){return null}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return null}e&&!p.test(n)&&(n=function(t,e){g[" "+t]||(g[" "+t]=m.test(t)?t+"/":b(t,"/",!0));var n=-1===(t=g[" "+t]).indexOf(":");return"//"===e.substring(0,2)?n?e:t.replace(y,"$1")+e:"/"===e.charAt(0)?n?e:t.replace(v,"$1")+e:t+e}(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(i){return null}return n},H=w,$=function(){function t(t){this.options=t||z}var e=t.prototype;return e.code=function(t,e,n){var r=(e||"").match(/\S*/)[0];if(this.options.highlight){var i=this.options.highlight(t,r);null!=i&&i!==t&&(n=!0,t=i)}return t=t.replace(/\n$/,"")+"\n",r?'<pre><code class="'+this.options.langPrefix+H(r,!0)+'">'+(n?t:H(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:H(t,!0))+"</code></pre>\n"},e.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},e.html=function(t){return t},e.heading=function(t,e,n,r){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+r.slug(n)+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},e.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},e.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},e.listitem=function(t){return"<li>"+t+"</li>\n"},e.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},e.paragraph=function(t){return"<p>"+t+"</p>\n"},e.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},e.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},e.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},e.strong=function(t){return"<strong>"+t+"</strong>"},e.em=function(t){return"<em>"+t+"</em>"},e.codespan=function(t){return"<code>"+t+"</code>"},e.br=function(){return this.options.xhtml?"<br/>":"<br>"},e.del=function(t){return"<del>"+t+"</del>"},e.link=function(t,e,n){if(null===(t=G(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<a href="'+H(t)+'"';return e&&(r+=' title="'+e+'"'),r+">"+n+"</a>"},e.image=function(t,e,n){if(null===(t=G(this.options.sanitize,this.options.baseUrl,t)))return n;var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+(this.options.xhtml?"/>":">")},e.text=function(t){return t},t}(),K=function(){function t(){}var e=t.prototype;return e.strong=function(t){return t},e.em=function(t){return t},e.codespan=function(t){return t},e.del=function(t){return t},e.html=function(t){return t},e.text=function(t){return t},e.link=function(t,e,n){return""+n},e.image=function(t,e,n){return""+n},e.br=function(){return""},t}(),Z=function(){function t(){this.seen={}}var e=t.prototype;return e.serialize=function(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},e.getNextSafeSlug=function(t,e){var n=t,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[t];do{n=t+"-"+ ++r}while(this.seen.hasOwnProperty(n))}return e||(this.seen[t]=r,this.seen[n]=0),n},e.slug=function(t,e){void 0===e&&(e={});var n=this.serialize(t);return this.getNextSafeSlug(n,e.dryrun)},t}(),Q=$,W=K,J=Z,Y=r.exports.defaults,X=_,tt=V,et=function(){function t(t){this.options=t||Y,this.options.renderer=this.options.renderer||new Q,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new W,this.slugger=new J}t.parse=function(e,n){return new t(n).parse(e)},t.parseInline=function(e,n){return new t(n).parseInline(e)};var e=t.prototype;return e.parse=function(t,e){void 0===e&&(e=!0);var n,r,i,s,o,a,u,c,l,h,f,d,p,g,m,y,v,b,w,_="",E=t.length;for(n=0;n<E;n++)if(h=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type])||!1===(w=this.options.extensions.renderers[h.type].call(this,h))&&["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))switch(h.type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(h.tokens),h.depth,X(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",u="",s=h.header.length,r=0;r<s;r++)u+=this.renderer.tablecell(this.parseInline(h.tokens.header[r]),{header:!0,align:h.align[r]});for(c+=this.renderer.tablerow(u),l="",s=h.cells.length,r=0;r<s;r++){for(u="",o=(a=h.tokens.cells[r]).length,i=0;i<o;i++)u+=this.renderer.tablecell(this.parseInline(a[i]),{header:!1,align:h.align[i]});l+=this.renderer.tablerow(u)}_+=this.renderer.table(c,l);continue;case"blockquote":l=this.parse(h.tokens),_+=this.renderer.blockquote(l);continue;case"list":for(f=h.ordered,d=h.start,p=h.loose,s=h.items.length,l="",r=0;r<s;r++)y=(m=h.items[r]).checked,v=m.task,g="",m.task&&(b=this.renderer.checkbox(y),p?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:b}):g+=b),g+=this.parse(m.tokens,p),l+=this.renderer.listitem(g,v,y);_+=this.renderer.list(l,f,d);continue;case"html":_+=this.renderer.html(h.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(l=h.tokens?this.parseInline(h.tokens):h.text;n+1<E&&"text"===t[n+1].type;)l+="\n"+((h=t[++n]).tokens?this.parseInline(h.tokens):h.text);_+=e?this.renderer.paragraph(l):l;continue;default:var S='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(S);throw new Error(S)}else _+=w||"";return _},e.parseInline=function(t,e){e=e||this.renderer;var n,r,i,s="",o=t.length;for(n=0;n<o;n++)if(r=t[n],!(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[r.type])||!1===(i=this.options.extensions.renderers[r.type].call(this,r))&&["escape","html","link","image","strong","em","codespan","br","del","text"].includes(r.type))switch(r.type){case"escape":s+=e.text(r.text);break;case"html":s+=e.html(r.text);break;case"link":s+=e.link(r.href,r.title,this.parseInline(r.tokens,e));break;case"image":s+=e.image(r.href,r.title,r.text);break;case"strong":s+=e.strong(this.parseInline(r.tokens,e));break;case"em":s+=e.em(this.parseInline(r.tokens,e));break;case"codespan":s+=e.codespan(r.text);break;case"br":s+=e.br();break;case"del":s+=e.del(this.parseInline(r.tokens,e));break;case"text":s+=e.text(r.text);break;default:var a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return void console.error(a);throw new Error(a)}else s+=i||"";return s},t}(),nt=A,rt=$,it=K,st=Z,ot=E,at=function(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},ut=w,ct=r.exports.getDefaults,lt=r.exports.changeDefaults,ht=r.exports.defaults;function ft(t,e,n){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(n=e,e=null),e=ot({},ft.defaults,e||{}),at(e),n){var r,i=e.highlight;try{r=tt.lex(t,e)}catch(u){return n(u)}var s=function(t){var s;if(!t)try{e.walkTokens&&ft.walkTokens(r,e.walkTokens),s=et.parse(r,e)}catch(u){t=u}return e.highlight=i,t?n(t):n(null,s)};if(!i||i.length<3)return s();if(delete e.highlight,!r.length)return s();var o=0;return ft.walkTokens(r,function(t){"code"===t.type&&(o++,setTimeout(function(){i(t.text,t.lang,function(e,n){if(e)return s(e);null!=n&&n!==t.text&&(t.text=n,t.escaped=!0),0==--o&&s()})},0))}),void(0===o&&s())}try{var a=tt.lex(t,e);return e.walkTokens&&ft.walkTokens(a,e.walkTokens),et.parse(a,e)}catch(u){if(u.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ut(u.message+"",!0)+"</pre>";throw u}}return ft.options=ft.setOptions=function(t){return ot(ft.defaults,t),lt(ft.defaults),ft},ft.getDefaults=ct,ft.defaults=ht,ft.use=function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i,s=ot.apply(void 0,[{}].concat(n)),o=ft.defaults.extensions||{renderers:{},childTokens:{}};n.forEach(function(e){if(e.extensions&&(i=!0,e.extensions.forEach(function(t){if(!t.name)throw new Error("extension name required");if(t.renderer){var e=o.renderers?o.renderers[t.name]:null;o.renderers[t.name]=e?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=t.renderer.apply(this,r);return!1===s&&(s=e.apply(this,r)),s}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");o[t.level]?o[t.level].unshift(t.tokenizer):o[t.level]=[t.tokenizer],t.start&&("block"===t.level?o.startBlock?o.startBlock.push(t.start):o.startBlock=[t.start]:"inline"===t.level&&(o.startInline?o.startInline.push(t.start):o.startInline=[t.start]))}t.childTokens&&(o.childTokens[t.name]=t.childTokens)})),e.renderer&&function(){var t=ft.defaults.renderer||new rt,n=function(n){var r=t[n];t[n]=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=e.renderer[n].apply(t,s);return!1===a&&(a=r.apply(t,s)),a}};for(var r in e.renderer)n(r);s.renderer=t}(),e.tokenizer&&function(){var t=ft.defaults.tokenizer||new nt,n=function(n){var r=t[n];t[n]=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];var a=e.tokenizer[n].apply(t,s);return!1===a&&(a=r.apply(t,s)),a}};for(var r in e.tokenizer)n(r);s.tokenizer=t}(),e.walkTokens){var n=ft.defaults.walkTokens;s.walkTokens=function(r){e.walkTokens.call(t,r),n&&n(r)}}i&&(s.extensions=o),ft.setOptions(s)})},ft.walkTokens=function(t,e){for(var r,i=function(){var t=r.value;switch(e(t),t.type){case"table":for(var i,s=n(t.tokens.header);!(i=s()).done;)ft.walkTokens(i.value,e);for(var o,a=n(t.tokens.cells);!(o=a()).done;)for(var u,c=n(o.value);!(u=c()).done;)ft.walkTokens(u.value,e);break;case"list":ft.walkTokens(t.items,e);break;default:ft.defaults.extensions&&ft.defaults.extensions.childTokens&&ft.defaults.extensions.childTokens[t.type]?ft.defaults.extensions.childTokens[t.type].forEach(function(n){ft.walkTokens(t[n],e)}):t.tokens&&ft.walkTokens(t.tokens,e)}},s=n(t);!(r=s()).done;)i()},ft.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=ot({},ft.defaults,e||{}),at(e);try{var n=tt.lexInline(t,e);return e.walkTokens&&ft.walkTokens(n,e.walkTokens),et.parseInline(n,e)}catch(r){if(r.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+ut(r.message+"",!0)+"</pre>";throw r}},ft.Parser=et,ft.parser=et.parse,ft.Renderer=rt,ft.TextRenderer=it,ft.Lexer=tt,ft.lexer=tt.lex,ft.Tokenizer=nt,ft.Slugger=st,ft.parse=ft,ft}()},7574:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487),u=n(2494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:(t,e,n)=>{"use strict";n.d(e,{c:()=>s});var r=n(2494),i=n(4449);const s={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},8858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),u=n(4449);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,s.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof o?c(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof o?t=t.concat(c(h.errors)):t.push(h)}}}if(t)throw new o(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>o,Ds:()=>a,ft:()=>u});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(r){e.error(r)}return n}},2441:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>s});var r=n(7574);const i=new r.y(t=>t.complete());function s(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>{const i=t[o.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:(t,e,n)=>{"use strict";n.d(e,{n:()=>o});var r=n(7574),i=n(5015),s=n(4087);function o(t,e){return e?(0,s.r)(t,e):new r.y((0,i.V)(t))}},6682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},5917:(t,e,n)=>{"use strict";n.d(e,{of:()=>o});var r=n(4869),i=n(6693),s=n(4087);function o(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,i.n)(t)}},8002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:(t,e,n)=>{"use strict";n.d(e,{J:()=>s});var r=n(9773),i=n(4487);function s(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>o});var r=n(8002),i=n(4402),s=n(5345);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const r=(0,s.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(t,e,n)=>{"use strict";n.d(e,{ht:()=>l,QV:()=>u});var r=n(7393),i=n(9193),s=n(5917),o=n(7574);class a{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,i.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new a("N",t):a.undefinedValueNotification}static createError(t){return new a("E",void 0,t)}static createComplete(){return a.completeNotification}}function u(t,e=0){return function(n){return n.lift(new c(t,e))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1307:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(7393);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},3101:(t,e,n)=>{"use strict";n.d(e,{R:()=>p});var r=n(7574);let i=1;const s=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var f=n(9796);class d extends r.y{constructor(t,e=0,n=h){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,((0,f.k)(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(t,e=0,n=h){return new d(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(d.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new d(e,this.delay,this.scheduler).subscribe(t)}}},3342:(t,e,n)=>{"use strict";n.d(e,{b:()=>o});var r=n(7393);function i(){}var s=n(9105);function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r=n(7574),i=n(5319);function s(t,e){return new r.y(n=>{const r=new i.w;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(t,e,n)=>{"use strict";n.d(e,{o:()=>s});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},3637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:(t,e,n)=>{"use strict";n.d(e,{c:()=>o,N:()=>s});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),o=s},377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},4487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},1555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},4072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},4869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},7444:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=t=>{if(t&&"function"==typeof t[o.L])return l=t,t=>{const e=l[o.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[s.hZ])return e=t,t=>{const n=e[s.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},5015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},9621:(t,e,n)=>{"use strict";var r=n(3018);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l((0,r.LFG)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(o).location;return new b((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let b=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new _((0,r.LFG)(m),(0,r.LFG)(a))}function S(t){return t.replace(/\/index.html$/,"")}var D=(()=>((D=D||{})[D.Zero=0]="Zero",D[D.One=1]="One",D[D.Two=2]="Two",D[D.Few=3]="Few",D[D.Many=4]="Many",D[D.Other=5]="Other",D))();const T=r.kL8;class C{}let x=(()=>{class t extends C{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case D.Zero:return"zero";case D.One:return"one";case D.Two:return"two";case D.Few:return"few";case D.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let I=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(zy){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new F(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new F(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class F{constructor(t,e){this.record=t,this.view=e}}let O=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let P=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.aQg),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})();class L{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class M{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const U=new M,j=new L;let B=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,r.QGY)(e))return U;if((0,r.F4k)(e))return j;throw Error(`InvalidPipeArgument: '${e}' for pipe '${(0,r.AaK)(t)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO,16))},t.\u0275pipe=r.Yjl({name:"async",type:t,pure:!1}),t})(),q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:C,useClass:x}]}),t})();function V(t){return"browser"===t}let z=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new G((0,r.LFG)(o),window)}),t})();class G{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=H(this.window.history)||H(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(zy){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(zy){return!1}}}function H(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ${}class K extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new K,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null);return null==e?null:function(t){Z=Z||document.createElement("a"),Z.setAttribute("href",t);const e=Z.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return A(document.cookie,t)}}let Z,Q=null;const W=new r.OlP("TRANSITION_ID"),J=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[W,o,r.zs3],multi:!0}];class Y{static init(){(0,r.VLi)(new Y)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let X=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const tt=new r.OlP("EventManagerPlugins");let et=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(tt),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let rt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t extends rt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(st),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(st))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function st(t){s().remove(t)}const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function ut(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(at,t),n.push(i))}return n}function ct(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let lt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ht(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ft(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(et),r.LFG(it),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ht{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ot[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ot[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ct(n)):this.eventManager.addEventListener(t,e,ct(n))}}class ft extends ht{constructor(t,e,n,r){super(t),this.component=n;const i=ut(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(at,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(at,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class dt extends ht{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ut(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let pt=(()=>{class t extends nt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const gt=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bt=(()=>{class t extends nt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&yt.hasOwnProperty(e)&&(e=yt[e]))}return mt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),gt.forEach(r=>{r!=n&&(0,vt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(Et)},token:t,providedIn:"root"}),t})();function _t(t){return new Et(t.get(o))}let Et=(()=>{class t extends wt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:function(){return _t((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const St=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){K.makeCurrent(),Y.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Dt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:tt,useClass:pt,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:tt,useClass:bt,multi:!0,deps:[o]},[],{provide:lt,useClass:lt,deps:[et,it,r.AFp]},{provide:r.FYo,useExisting:lt},{provide:rt,useExisting:it},{provide:it,useClass:it,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:et,useClass:et,deps:[tt,r.R0b]},{provide:$,useClass:X,deps:[]},[]];let Tt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:W,useExisting:r.AFp},J]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Dt,imports:[q,r.hGG]}),t})();"undefined"!=typeof window&&window;var Ct=n(5917),xt=n(7574),At=n(9773);function kt(t,e){return(0,At.zg)(t,e,1)}var It=n(7393);function Ft(t,e){return function(n){return n.lift(new Ot(t,e))}}class Ot{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Nt(t,this.predicate,this.thisArg))}}class Nt extends It.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var Rt=n(8002);class Pt{}class Lt{}class Mt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Mt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Mt;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Mt?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ut{encodeKey(t){return jt(t)}encodeValue(t){return jt(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function jt(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Bt(t){return`${t}`}class qt{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ut,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new qt({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Bt(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Bt(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Vt{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function zt(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Gt(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ht(t){return"undefined"!=typeof FormData&&t instanceof FormData}class $t{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new Mt),this.context||(this.context=new Vt),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new qt,this.urlWithParams=e}serializeBody(){return null===this.body?null:zt(this.body)||Gt(this.body)||Ht(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof qt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ht(this.body)?null:Gt(this.body)?this.body.type||null:zt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof qt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new $t(n,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Kt=(()=>((Kt=Kt||{})[Kt.Sent=0]="Sent",Kt[Kt.UploadProgress=1]="UploadProgress",Kt[Kt.ResponseHeader=2]="ResponseHeader",Kt[Kt.DownloadProgress=3]="DownloadProgress",Kt[Kt.Response=4]="Response",Kt[Kt.User=5]="User",Kt))();class Zt{constructor(t,e=200,n="OK"){this.headers=t.headers||new Mt,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Qt extends Zt{constructor(t={}){super(t),this.type=Kt.ResponseHeader}clone(t={}){return new Qt({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wt extends Zt{constructor(t={}){super(t),this.type=Kt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wt({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Jt extends Zt{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Yt(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Xt=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof $t)r=t;else{let i,s;i=n.headers instanceof Mt?n.headers:new Mt(n.headers),n.params&&(s=n.params instanceof qt?n.params:new qt({fromObject:n.params})),r=new $t(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,Ct.of)(r).pipe(kt(t=>this.handler.handle(t)));if(t instanceof $t||"events"===n.observe)return i;const s=i.pipe(Ft(t=>t instanceof Wt));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe((0,Rt.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe((0,Rt.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe((0,Rt.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe((0,Rt.U)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new qt).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Yt(n,e))}post(t,e,n={}){return this.request("POST",t,Yt(n,e))}put(t,e,n={}){return this.request("PUT",t,Yt(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Pt))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class te{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const ee=new r.OlP("HTTP_INTERCEPTORS");let ne=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const re=/^\)\]\}',?\n/;let ie=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new xt.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new Mt(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Qt({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(re,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new Wt({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new Jt({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new Jt({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:Kt.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Kt.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Kt.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",o),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const se=new r.OlP("XSRF_COOKIE_NAME"),oe=new r.OlP("XSRF_HEADER_NAME");class ae{}let ue=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(r.Lbi),r.LFG(se))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ce=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ae),r.LFG(oe))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),le=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(ee,[]);this.chain=t.reduceRight((t,e)=>new te(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Lt),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),he=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ce,useClass:ne}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:se,useValue:e.cookieName}:[],e.headerName?{provide:oe,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[ce,{provide:ee,useExisting:ce,multi:!0},{provide:ae,useClass:ue},{provide:se,useValue:"XSRF-TOKEN"},{provide:oe,useValue:"X-XSRF-TOKEN"}]}),t})(),fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Xt,{provide:Pt,useClass:le},ie,{provide:Lt,useExisting:ie}],imports:[[he.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();class de{}const pe="*";function ge(t,e=null){return{type:4,styles:e,timings:t}}function me(t,e=null){return{type:2,steps:t,options:e}}function ye(t){return{type:6,styles:t,offset:null}}function ve(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function be(t){Promise.resolve(null).then(t)}class we{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){be(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class _e{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?be(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ee(){return"undefined"!=typeof window&&void 0!==window.document}function Se(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function De(t){switch(t.length){case 0:return new we;case 1:return t[0];default:return new _e(t)}}function Te(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case pe:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Ce(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&xe(n,"start",t)));break;case"done":t.onDone(()=>r(n&&xe(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&xe(n,"destroy",t)))}}function xe(t,e,n){const r=n.totalTime,i=Ae(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Ae(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ke(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ie(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Fe=(t,e)=>!1,Oe=(t,e)=>!1,Ne=(t,e,n)=>[];const Re=Se();(Re||"undefined"!=typeof Element)&&(Fe=Ee()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),Oe=(()=>{if(Re||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Oe}})(),Ne=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Pe=null,Le=!1;function Me(t){Pe||(Pe=("undefined"!=typeof document?document.body:null)||{},Le=!!Pe.style&&"WebkitAppearance"in Pe.style);let e=!0;return Pe.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Pe.style,!e&&Le)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Pe.style),e}const Ue=Oe,je=Fe,Be=Ne;function qe(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Ve=(()=>{class t{validateStyleProperty(t){return Me(t)}matchesElement(t,e){return Ue(t,e)}containsElement(t,e){return je(t,e)}query(t,e,n){return Be(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new we(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ze{}ze.NOOP=new Ve;const Ge="ng-enter",He="ng-leave",$e="ng-trigger",Ke=".ng-trigger",Ze="ng-animating",Qe=".ng-animating";function We(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Je(parseFloat(e[1]),e[2])}function Je(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ye(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Je(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Je(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Xe(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function tn(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Xe(t,n);return n}function en(t,e,n){return n?e+":"+n+";":""}function nn(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=en(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=en(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function rn(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=fn(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Se()&&nn(t))}function sn(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=fn(e);t.style[n]=""}),Se()&&nn(t))}function on(t){return Array.isArray(t)?1==t.length?t[0]:me(t):t}const an=new RegExp("{{\\s*(.+?)\\s*}}","g");function un(t){let e=[];if("string"==typeof t){let n;for(;n=an.exec(t);)e.push(n[1]);an.lastIndex=0}return e}function cn(t,e,n){const r=t.toString(),i=r.replace(an,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function ln(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const hn=/-+([a-z0-9])/g;function fn(t){return t.replace(hn,(...t)=>t[1].toUpperCase())}function dn(t,e){return 0===t||0===e}function pn(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=mn(t,e)})}}return e}function gn(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function mn(t,e){return window.getComputedStyle(t)[e]}const yn="*";function vn(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(_n(i,o)),"<"!=s[0]||i==yn&&o==yn||e.push(_n(o,i))}(t,n,e)):n.push(t),n}const bn=new Set(["true","1"]),wn=new Set(["false","0"]);function _n(t,e){const n=bn.has(t)||wn.has(t),r=bn.has(e)||wn.has(e);return(i,s)=>{let o=t==yn||t==i,a=e==yn||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?bn.has(t):wn.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?bn.has(e):wn.has(e)),o&&a}}const En=new RegExp("s*:selfs*,?","g");function Sn(t,e,n){return new Dn(t).build(e,n)}class Dn{constructor(t){this._driver=t}build(t,e){const n=new Tn(e);return this._resetContextStyleTimingState(n),gn(this,on(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Cn(t)){const e=t;Object.keys(e).forEach(t=>{un(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ln(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=gn(this,on(t.animation),e);return{type:1,matchers:vn(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:xn(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>gn(this,t,e)),options:xn(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=gn(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:xn(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return An(Ye(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=An(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Ye(r,e),An(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:ye({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=ye(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==pe?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Cn(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=un(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Cn(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Cn(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:gn(this,on(t.animation),e),options:xn(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xn(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xn(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(En,"")),[t=t.replace(/@\*/g,Ke).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Qe),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,ke(e.collectedStyles,e.currentQuerySelector,{});const o=gn(this,on(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:xn(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ye(t.timings,e.errors,!0);return{type:12,animation:gn(this,on(t.animation),e),timings:n,options:null}}}class Tn{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Cn(t){return!Array.isArray(t)&&"object"==typeof t}function xn(t){var e;return t?(t=Xe(t)).params&&(t.params=(e=t.params)?Xe(e):null):t={},t}function An(t,e,n){return{duration:t,delay:e,easing:n}}function kn(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class In{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Fn=new RegExp(":enter","g"),On=new RegExp(":leave","g");function Nn(t,e,n,r,i,s={},o={},a,u,c=[]){return(new Rn).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class Rn{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new In;const l=new Ln(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),gn(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[kn(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?We(n.duration):null,s=null!=n.delay?We(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),gn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Pn);const t=We(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>gn(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?We(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),gn(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Ye(e.params?cn(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?We(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Pn);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),gn(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;gn(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const Pn={};class Ln{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Mn(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=We(n.duration)),null!=n.delay&&(r.delay=We(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=cn(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Ln(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Pn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Un(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Fn,"."+this._enterClassName)).replace(On,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Mn{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Mn(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||pe,this._currentKeyframe[t]=pe}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=pe})):tn(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=cn(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:pe),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=tn(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==pe&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?ln(t.values()):[],s=e.size?ln(e.values()):[];if(n){const t=r[0],e=Xe(t);t.offset=0,e.offset=1,r=[t,e]}return kn(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Un extends Mn{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=tn(t[0],!1);a.offset=0,i.push(a);const u=tn(t[0],!1);u.offset=jn(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=tn(t[r],!1);o.offset=jn((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return kn(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function jn(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Bn{}class qn extends Bn{normalizePropertyName(t,e){return fn(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Vn[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Vn=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zn(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Gn={};class Hn{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Gn,f=this.buildStyles(n,o&&o.params||Gn,l),d=a&&a.params||Gn,p=this.buildStyles(r,d,l),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),d)},w=c?[]:Nn(t,e,this.ast.animation,i,s,f,p,b,u,l);let _=0;if(w.forEach(t=>{_=Math.max(t.duration+t.delay,_)}),l.length)return zn(e,this._triggerName,n,r,v,f,p,[],[],m,y,_,l);w.forEach(t=>{const n=t.element,r=ke(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=ke(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const E=ln(g.values());return zn(e,this._triggerName,n,r,v,f,p,w,E,m,y,_)}}class $n{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Xe(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=cn(s,r,e)),n[t]=s})}}),n}}class Kn{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new $n(t.style,t.options&&t.options.params||{})}),Zn(this.states,"true","1"),Zn(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Hn(t,e,this.states))}),this.fallbackTransition=new Hn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Zn(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Qn=new In;class Wn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Sn(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Te(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Nn(this._driver,e,i,Ge,He,{},{},n,Qn,r),s.forEach(t=>{const e=ke(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,pe)})});const a=De(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Ae(e,"","","");return Ce(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Jn="ng-animate-queued",Yn="ng-animate-disabled",Xn=".ng-animate-disabled",tr=[],er={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class rr{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Xe(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const ir="void",sr=new rr(ir);class or{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,dr(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=ke(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=ke(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(dr(t,$e),dr(t,"ng-trigger-"+e),a[e]=sr),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new ur(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(dr(t,$e),dr(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new rr(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=sr),u.value!==ir&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{sn(t,n),rn(t,r)})}return}const c=ke(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(dr(t,Jn),s.onStart(()=>{pr(t,Jn)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Ke,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,ir,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&De(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||sr,a=new rr(ir),u=new ur(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==er||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){dr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Ae(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ce(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class ar{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new or(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(cr(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!cr(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),dr(t,Yn)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pr(t,Yn))}removeNode(t,e,n,r){if(cr(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return cr(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Ke,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Qe,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return De(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=er,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Xn)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Xn,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)dr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?De(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new In,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=fr(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=Ge+p++;d.set(e,n),t.forEach(t=>dr(t,n))});const g=[],m=new Set,y=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=fr(h,Array.from(m));b.forEach((t,e)=>{const n=He+p++;v.set(e,n),t.forEach(t=>dr(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>pr(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>pr(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],_=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(w.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)_.push(p);else{if(c)return e.onStart(()=>sn(i,p.fromStyles)),e.onDestroy(()=>rn(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>sn(i,p.fromStyles)),e.onDestroy(()=>rn(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>ke(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(_.length){const t=[];_.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{ke(E,e,[]).push(t),t.destroy()})});const D=g.filter(t=>yr(t,a,u)),T=new Map;hr(T,this.driver,y,u,pe).forEach(t=>{yr(t,a,u)&&D.push(t)});const C=new Map;f.forEach((t,e)=>{hr(C,this.driver,new Set(t),a,"!")}),D.forEach(t=>{const e=T.get(t),n=C.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const x=[],A=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>rn(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,C,T);if(s.setRealPlayer(n),t===k)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=De(e)),r.push(s)}}else sn(e,o.fromStyles),s.onDestroy(()=>rn(e,o.toStyles)),A.push(s),c.has(e)&&r.push(s)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=De(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<g.length;I++){const t=g[I],e=t.__ng_removed;if(pr(t,He),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Qe,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?gr(this,t,r):this.processLeaveNode(t)}return g.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==ir;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=ke(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}sn(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new we(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return mr(t,e),e}((n.get(h)||tr).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=Te(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new ur(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{ke(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>dr(t,Ze));const f=De(h);return f.onDestroy(()=>{c.forEach(t=>pr(t,Ze)),rn(a,e.toStyles)}),l.forEach(t=>{ke(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new we(t.duration,t.delay)}}class ur{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new we,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ce(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ke(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cr(t){return t&&1===t.nodeType}function lr(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function hr(t,e,n,r,i){const s=[];n.forEach(t=>s.push(lr(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=nr,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>lr(t,s[a++])),o}function fr(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function dr(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function pr(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function gr(t,e,n){De(n).onDone(()=>t.processLeaveNode(e))}function mr(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof _e?mr(r.players,e):e.push(r)}}function yr(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class vr{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new ar(t,e,n),this._timelineEngine=new Wn(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Sn(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Kn(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ie(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ie(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function br(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=_r(e[0]),e.length>1&&(r=_r(e[e.length-1]))):e&&(n=_r(e)),n||r?new wr(t,n,r):null}class wr{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=wr.initialStylesByElement.get(t);r||wr.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&rn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rn(this._element,this._initialStyles),this._endStyles&&(rn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(wr.initialStylesByElement.delete(this._element),this._startStyles&&(sn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sn(this._element,this._endStyles),this._endStyles=null),rn(this._element,this._initialStyles),this._state=3)}}function _r(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Er(i)&&(e=e||{},e[i]=t[i])}return e}function Er(t){return"display"===t||"position"===t}wr.initialStylesByElement=new WeakMap;const Sr="animation",Dr="animationend";class Tr{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Fr(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Ir(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),kr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Cr(this._element,this._name,"paused")}resume(){Cr(this._element,this._name,"running")}setPosition(t){const e=xr(this._element,this._name);this._position=t*this._duration,Ir(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),kr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Fr(t,"").split(","),r=Ar(n,e);r>=0&&(n.splice(r,1),Ir(t,"",n.join(",")))}(this._element,this._name))}}function Cr(t,e,n){Ir(t,"PlayState",n,xr(t,e))}function xr(t,e){const n=Fr(t,"");return n.indexOf(",")>0?Ar(n.split(","),e):Ar([n],e)}function Ar(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function kr(t,e,n){n?t.removeEventListener(Dr,e):t.addEventListener(Dr,e)}function Ir(t,e,n,r){const i=Sr+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Fr(t,e){return t.style[Sr+e]||""}class Or{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Tr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:mn(this.element,n))})}this.currentSnapshot=t}}class Nr extends we{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=qe(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Rr{constructor(){this._count=0}validateStyleProperty(t){return Me(t)}matchesElement(t,e){return Ue(t,e)}containsElement(t,e){return je(t,e)}query(t,e,n){return Be(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>qe(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Or),u={};dn(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=pn(t,e,u));if(0==n)return new Nr(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const f=br(t,e),d=new Or(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}}class Pr{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:mn(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Lr{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Mr().toString()),this._cssKeyframesDriver=new Rr}validateStyleProperty(t){return Me(t)}matchesElement(t,e){return Ue(t,e)}containsElement(t,e){return je(t,e)}query(t,e,n){return Be(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof Pr);dn(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=br(t,e=pn(t,e=e.map(t=>tn(t,!1)),u));return new Pr(t,e,a,l)}}function Mr(){return Ee()&&Element.prototype.animate||{}}let Ur=(()=>{class t extends de{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?me(t):t;return qr(this._renderer,null,e,"register",[n]),new jr(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class jr extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Br(this._id,t,e||{},this._renderer)}}class Br{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return qr(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function qr(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Vr="@",zr="@.disabled";let Gr=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Hr("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new $r(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(vr),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Hr{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Vr&&e==zr?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class $r extends Hr{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Vr?"."==e.charAt(1)&&e==zr?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Vr){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Vr&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Kr=(()=>{class t extends vr{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(ze),r.LFG(Bn))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Zr=new r.OlP("AnimationModuleType"),Qr=[{provide:de,useClass:Ur},{provide:Bn,useFactory:function(){return new qn}},{provide:vr,useClass:Kr},{provide:r.FYo,useFactory:function(t,e,n){return new Gr(t,e,n)},deps:[lt,vr,r.R0b]}],Wr=[{provide:ze,useFactory:function(){return"function"==typeof Mr()?new Lr:new Rr}},{provide:Zr,useValue:"BrowserAnimations"},...Qr],Jr=[{provide:ze,useClass:Ve},{provide:Zr,useValue:"NoopAnimations"},...Qr];let Yr=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Jr:Wr}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Wr,imports:[Tt]}),t})();var Xr=n(8205);const ti=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),ei=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var ni=n(9193);function ri(t){return e=>0===t?(0,ni.c)():e.lift(new ii(t))}class ii{constructor(t){if(this.total=t,this.total<0)throw new ei}call(t,e){return e.subscribe(new si(t,this.total))}}class si extends It.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function oi(t=null){return e=>e.lift(new ai(t))}class ai{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ui(t,this.defaultValue))}}class ui extends It.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ci(t=fi){return e=>e.lift(new li(t))}class li{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new hi(t,this.errorFactory))}}class hi extends It.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(ib){t=ib}this.destination.error(t)}}}function fi(){return new ti}var di=n(4487);function pi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ft((e,n)=>t(e,n,r)):di.y,ri(1),n?oi(e):ci(()=>new ti))}const gi=["*"];var mi=(()=>(function(t){t.LineHighlight="line-highlight",t.LineNumbers="line-numbers"}(mi||(mi={})),mi))();class yi{}const vi=new r.OlP("SECURITY_CONTEXT");let bi=(()=>{class t{constructor(t,e,n,r,i){this.platform=t,this.securityContext=e,this.http=n,this.sanitizer=i,this.initialMarkedOptions={renderer:new Xr.Renderer},this.options=r}get options(){return this._options}set options(t){this._options=Object.assign(Object.assign({},this.initialMarkedOptions),t)}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}compile(t,e=!1,n=!1,r=this.options){const i=this.trimIndentation(t),s=e?this.decodeHtml(i):i,o=n?this.renderEmoji(s):s,a=Xr.parse(o,r);return this.sanitizer.sanitize(this.securityContext,a)||""}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe((0,Rt.U)(e=>this.handleExtension(t,e)))}highlight(t){if(V(this.platform)&&"undefined"!=typeof Prism){t||(t=document);const e=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(e,t=>t.classList.add("language-none")),Prism.highlightAllUnder(t)}}renderKatex(t,e){if(!V(this.platform))return t;if("undefined"==typeof katex||void 0===katex.renderToString)throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");return t.replace(/\$([^\s][^$]*?[^\s])\$/gm,(t,n)=>katex.renderToString(n,e))}decodeHtml(t){if(!V(this.platform))return t;const e=document.createElement("textarea");return e.innerHTML=t,e.value}handleExtension(t,e){const n=t?t.split("?")[0].split(".").splice(-1).join():"";return"md"!==n?"```"+n+"\n"+e+"\n```":e}renderEmoji(t){if(!V(this.platform))return t;if("undefined"==typeof joypixels||void 0===joypixels.shortnameToUnicode)throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}trimIndentation(t){if(!t)return"";let e;return t.split("\n").map(t=>{let n=e;return t.length>0&&(n=isNaN(n)?t.search(/\S|$/):Math.min(t.search(/\S|$/),n)),isNaN(e)&&(e=n),n?t.substring(n):t}).join("\n")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi),r.LFG(vi),r.LFG(Xt,8),r.LFG(yi,8),r.LFG(wt))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),wi=(()=>{class t{constructor(t,e){this.element=t,this.markdownService=e,this.error=new r.vpe,this.load=new r.vpe,this.ready=new r.vpe,this._emoji=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}ngOnChanges(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){this.data||this.src||this.handleTransclusion()}render(t,e=!1){let n=this.markdownService.compile(t,e,this.emoji);n=this.katex?this.markdownService.renderKatex(n,this.katexOptions):n,this.element.nativeElement.innerHTML=n,this.handlePlugins(),this.markdownService.highlight(this.element.nativeElement),this.ready.emit()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe(t=>{this.render(t),this.load.emit(t)},t=>this.error.emit(t))}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,mi.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,e){const n=t.querySelectorAll("pre");for(let r=0;r<n.length;r++){const t=e instanceof Array?e:[e];n.item(r).classList.add(...t)}}setPluginOptions(t,e){const n=t.querySelectorAll("pre");for(let r=0;r<n.length;r++)Object.keys(e).forEach(t=>{const i=e[t];if(i){const e=this.toLispCase(t);n.item(r).setAttribute(e,i.toString())}})}toLispCase(t){const e=t.match(/([A-Z])/g);if(!e)return t;let n=t.toString();for(let r=0,i=e.length;r<i;r++)n=n.replace(new RegExp(e[r]),"-"+e[r].toLowerCase());return"-"===n.slice(0,1)&&(n=n.slice(1)),n}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(bi))},t.\u0275cmp=r.Xpm({type:t,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start"},outputs:{error:"error",load:"load",ready:"ready"},features:[r.TTD],ngContentSelectors:gi,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},encapsulation:2}),t})(),_i=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[bi,e&&e.loader||[],e&&e.markedOptions||[],{provide:vi,useValue:e&&null!=e.sanitize?e.sanitize:r.q3G.HTML}]}}static forChild(){return{ngModule:t}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();var Ei=n(3637),Si=n(4402),Di=n(3282);function Ti(...t){return(0,Di.J)(1)((0,Ct.of)(...t))}var Ci=n(4869);function xi(...t){const e=t[t.length-1];return(0,Ci.K)(e)?(t.pop(),n=>Ti(t,n,e)):e=>Ti(t,e)}function Ai(){return t=>t.lift(new ki)}class ki{call(t,e){return e.subscribe(new Ii(t))}}class Ii extends It.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function Fi(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Oi(t,e,n))}}class Oi{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Ni(t,this.accumulator,this.seed,this.hasSeed))}}class Ni extends It.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class Ri{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Pi(t,this.compare,this.keySelector))}}class Pi extends It.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Li=n(309),Mi=n(57),Ui=n(2329),ji=n(9759),Bi=n(4762),qi=n(4685),Vi=n(300),zi=function(t,e){return(zi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Gi(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Hi,$i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ki=Ki||{},Zi=$i||self;function Qi(){}function Wi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ji(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Yi="closure_uid_"+(1e9*Math.random()>>>0),Xi=0;function ts(t,e,n){return t.call.apply(t.bind,arguments)}function es(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ns(t,e,n){return(ns=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ts:es).apply(null,arguments)}function rs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function is(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function ss(){this.s=this.s,this.o=this.o}var os={};ss.prototype.s=!1,ss.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Yi)&&t[Yi]||(t[Yi]=++Xi)}(this);delete os[t]}},ss.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var as=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},us=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function cs(t){return Array.prototype.concat.apply([],arguments)}function ls(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function hs(t){return/^[\s\xa0]*$/.test(t)}var fs,ds=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ps(t,e){return-1!=t.indexOf(e)}function gs(t,e){return t<e?-1:t>e?1:0}t:{var ms=Zi.navigator;if(ms){var ys=ms.userAgent;if(ys){fs=ys;break t}}fs=""}function vs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function bs(t){var e={};for(var n in t)e[n]=t[n];return e}var ws="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _s(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<ws.length;s++)n=ws[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Es(t){return Es[" "](t),t}Es[" "]=Qi;var Ss,Ds,Ts=ps(fs,"Opera"),Cs=ps(fs,"Trident")||ps(fs,"MSIE"),xs=ps(fs,"Edge"),As=xs||Cs,ks=ps(fs,"Gecko")&&!(ps(fs.toLowerCase(),"webkit")&&!ps(fs,"Edge"))&&!(ps(fs,"Trident")||ps(fs,"MSIE"))&&!ps(fs,"Edge"),Is=ps(fs.toLowerCase(),"webkit")&&!ps(fs,"Edge");function Fs(){var t=Zi.document;return t?t.documentMode:void 0}t:{var Os="",Ns=(Ds=fs,ks?/rv:([^\);]+)(\)|;)/.exec(Ds):xs?/Edge\/([\d\.]+)/.exec(Ds):Cs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ds):Is?/WebKit\/(\S+)/.exec(Ds):Ts?/(?:Version)[ \/]?(\S+)/.exec(Ds):void 0);if(Ns&&(Os=Ns?Ns[1]:""),Cs){var Rs=Fs();if(null!=Rs&&Rs>parseFloat(Os)){Ss=String(Rs);break t}}Ss=Os}var Ps={};var Ls=Zi.document&&Cs&&(Fs()||parseInt(Ss,10))||void 0,Ms=function(){if(!Zi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Zi.addEventListener("test",Qi,e),Zi.removeEventListener("test",Qi,e)}catch(n){}return t}();function Us(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function js(t,e){if(Us.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ks){t:{try{Es(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Bs[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&js.Z.h.call(this)}}Us.prototype.h=function(){this.defaultPrevented=!0},is(js,Us);var Bs={2:"touch",3:"pen",4:"mouse"};js.prototype.h=function(){js.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qs="closure_listenable_"+(1e6*Math.random()|0),Vs=0;function zs(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Vs,this.ca=this.fa=!1}function Gs(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Hs(t){this.src=t,this.g={},this.h=0}function $s(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=as(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Gs(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Ks(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Hs.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Ks(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new zs(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Zs="closure_lm_"+(1e6*Math.random()|0),Qs={};function Ws(t,e,n,r,i){if(r&&r.once)return Ys(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ws(t,e[s],n,r,i);return null}return n=so(n),t&&t[qs]?t.N(e,n,Ji(r)?!!r.capture:!!r,i):Js(t,e,n,!1,r,i)}function Js(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ji(i)?!!i.capture:!!i,a=ro(t);if(a||(t[Zs]=a=new Hs(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=no;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ms||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(eo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ys(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Ys(t,e[s],n,r,i);return null}return n=so(n),t&&t[qs]?t.O(e,n,Ji(r)?!!r.capture:!!r,i):Js(t,e,n,!0,r,i)}function Xs(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Xs(t,e[s],n,r,i);else r=Ji(r)?!!r.capture:!!r,n=so(n),t&&t[qs]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Ks(s=t.g[e],n,r,i))&&(Gs(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=ro(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ks(e,n,r,i)),(n=-1<t?e[t]:null)&&to(n))}function to(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[qs])$s(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(eo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ro(e))?($s(n,t),0==n.h&&(n.src=null,e[Zs]=null)):Gs(t)}}}function eo(t){return t in Qs?Qs[t]:Qs[t]="on"+t}function no(t,e){if(t.ca)t=!0;else{e=new js(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&to(t),t=n.call(r,e)}return t}function ro(t){return(t=t[Zs])instanceof Hs?t:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(t){return"function"==typeof t?t:(t[io]||(t[io]=function(e){return t.handleEvent(e)}),t[io])}function oo(){ss.call(this),this.i=new Hs(this),this.P=this,this.I=null}function ao(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Us(e,t);else if(e instanceof Us)e.target=e.target||t;else{var i=e;_s(e=new Us(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=uo(o,r,!0,e)&&i}if(i=uo(o=e.g=t,r,!0,e)&&i,i=uo(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=uo(o=e.g=n[s],r,!1,e)&&i}function uo(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&$s(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}is(oo,ss),oo.prototype[qs]=!0,oo.prototype.removeEventListener=function(t,e,n,r){Xs(this,t,e,n,r)},oo.prototype.M=function(){if(oo.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Gs(n[r]);delete e.g[t],e.h--}}this.I=null},oo.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},oo.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var co=Zi.JSON.stringify;function lo(){var t=bo,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ho,fo=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=po.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),po=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new go},function(t){return t.reset()}),go=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function mo(t){Zi.setTimeout(function(){throw t},0)}function yo(t,e){ho||function(){var t=Zi.Promise.resolve(void 0);ho=function(){t.then(wo)}}(),vo||(ho(),vo=!0),bo.add(t,e)}var vo=!1,bo=new fo;function wo(){for(var t;t=lo();){try{t.h.call(t.g)}catch(n){mo(n)}var e=po;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vo=!1}function _o(t,e){oo.call(this),this.h=t||1,this.g=e||Zi,this.j=ns(this.kb,this),this.l=Date.now()}function Eo(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function So(t,e,n){if("function"==typeof t)n&&(t=ns(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ns(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zi.setTimeout(t,e||0)}function Do(t){t.g=So(function(){t.g=null,t.i&&(t.i=!1,Do(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}is(_o,oo),(Hi=_o.prototype).da=!1,Hi.S=null,Hi.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ao(this,"tick"),this.da&&(Eo(this),this.start()))}},Hi.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Hi.M=function(){_o.Z.M.call(this),Eo(this),delete this.g};var To=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}zi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Do(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Zi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(ss);function Co(t){ss.call(this),this.h=t,this.g={}}is(Co,ss);var xo=[];function Ao(t,e,n,r){Array.isArray(n)||(n&&(xo[0]=n.toString()),n=xo);for(var i=0;i<n.length;i++){var s=Ws(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ko(t){vs(t.g,function(t,e){this.g.hasOwnProperty(e)&&to(t)},t),t.g={}}function Io(){this.g=!0}function Fo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return co(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Co.prototype.M=function(){Co.Z.M.call(this),ko(this)},Co.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Io.prototype.Aa=function(){this.g=!1},Io.prototype.info=function(){};var Oo={},No=null;function Ro(){return No=No||new oo}function Po(t){Us.call(this,Oo.Ma,t)}function Lo(t){var e=Ro();ao(e,new Po(e,t))}function Mo(t,e){Us.call(this,Oo.STAT_EVENT,t),this.stat=e}function Uo(t){var e=Ro();ao(e,new Mo(e,t))}function jo(t,e){Us.call(this,Oo.Na,t),this.size=e}function Bo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Zi.setTimeout(function(){t()},e)}Oo.Ma="serverreachability",is(Po,Us),Oo.STAT_EVENT="statevent",is(Mo,Us),Oo.Na="timingevent",is(jo,Us);var qo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zo(){}function Go(){}zo.prototype.h=null;var Ho,$o={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ko(){Us.call(this,"d")}function Zo(){Us.call(this,"c")}function Qo(){}function Wo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Co(this),this.P=Yo,this.W=new _o(t=As?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}is(Ko,Us),is(Zo,Us),is(Qo,zo),Qo.prototype.g=function(){return new XMLHttpRequest},Qo.prototype.i=function(){return{}},Ho=new Qo;var Yo=45e3,Xo={},ta={};function ea(t,e,n){t.K=1,t.v=Da(va(e)),t.s=n,t.U=!0,na(t,null)}function na(t,e){t.F=Date.now(),oa(t),t.A=va(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Ma(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Jo,t.g=Uu(t.l,n?e:null,!t.s),0<t.O&&(t.L=new To(ns(t.Ia,t,t.g),t.O)),Ao(t.V,t.g,"readystatechange",t.gb),e=t.H?bs(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Lo(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function ra(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ia(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=sa(t,n))==ta){4==e&&(t.o=4,Uo(14),i=!1),Fo(t.j,t.m,null,"[Incomplete Response]");break}if(r==Xo){t.o=4,Uo(15),Fo(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Fo(t.j,t.m,r,null),ha(t,r)}ra(t)&&r!=ta&&r!=Xo&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Uo(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Iu(e),e.L=!0,Uo(11))):(Fo(t.j,t.m,n,"[Invalid Chunked Response]"),la(t),ca(t))}function sa(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ta:(n=Number(e.substring(n,r)),isNaN(n)?Xo:(r+=1)+n>e.length?ta:(e=e.substr(r,n),t.C=r+n,e))}function oa(t){t.Y=Date.now()+t.P,aa(t,t.P)}function aa(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Bo(ns(t.eb,t),e)}function ua(t){t.B&&(Zi.clearTimeout(t.B),t.B=null)}function ca(t){0==t.l.G||t.I||Nu(t.l,t)}function la(t){ua(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Eo(t.W),ko(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ha(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ga(n.i,t)))if(n.I=t.N,!t.J&&Ga(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(s){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Ou(n),_u(n)}ku(n),Uo(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Bo(ns(n.ab,n),6e3));if(1>=za(n.i)&&n.ka){try{n.ka()}catch(s){}n.ka=void 0}}else Pu(n,11)}else if((t.J||n.g==t)&&Ou(n),!hs(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var s=i[e];if(n.U=s[0],s=s[1],2==n.G)if("c"==s[0]){n.J=s[1],n.la=s[2];var o=s[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var a=s[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=s[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(ps(l,"spdy")||ps(l,"quic")||ps(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ha(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Sa(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Mu(r,r.H?r.la:null,r.W),d.J){$a(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(ua(p),oa(p)),r.g=d}else Au(r);0<n.l.length&&Du(n)}else"stop"!=s[0]&&"close"!=s[0]||Pu(n,7);else 3==n.G&&("stop"==s[0]||"close"==s[0]?"stop"==s[0]?Pu(n,7):wu(n):"noop"!=s[0]&&n.j&&n.j.wa(s),n.A=0)}Lo(4)}catch(s){}}function fa(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Wi(t)||"string"==typeof t)us(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Wi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Wi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function da(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof da)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function pa(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];ga(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)ga(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function ga(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Hi=Wo.prototype).setTimeout=function(t){this.P=t},Hi.gb=function(t){t=t.target;var e=this.L;e&&3==gu(t)?e.l():this.Ia(t)},Hi.Ia=function(t){try{if(t==this.g)t:{var e=gu(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||As||this.g&&(this.h.h||this.g.ga()||mu(this.g)))){this.I||4!=e||7==n||Lo(8==n||0>=r?3:2),ua(this);var i=this.g.ba();this.N=i;e:if(ra(this)){var s=mu(this.g);t="";var o=s.length,a=4==gu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){la(this),ca(this);var u="";break e}this.h.i=new Zi.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,t+=this.h.i.decode(s[n],{stream:a&&n==o-1});s.splice(0,o),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hs(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Uo(12),la(this),ca(this);break t}Fo(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ha(this,i)}this.U?(ia(this,e,u),As&&this.i&&3==e&&(Ao(this.V,this.W,"tick",this.fb),this.W.start())):(Fo(this.j,this.m,u,null),ha(this,u)),4==e&&la(this),this.i&&!this.I&&(4==e?Nu(this.l,this):(this.i=!1,oa(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Uo(12)):(this.o=0,Uo(13)),la(this),ca(this)}}}catch(e){}},Hi.fb=function(){if(this.g){var t=gu(this.g),e=this.g.ga();this.C<e.length&&(ua(this),ia(this,t,e),this.i&&4!=t&&oa(this))}},Hi.cancel=function(){this.I=!0,la(this)},Hi.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Lo(3),Uo(17)),la(this),this.o=2,ca(this)):aa(this,this.Y-t)},(Hi=da.prototype).R=function(){pa(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Hi.T=function(){return pa(this),this.g.concat()},Hi.get=function(t,e){return ga(this.h,t)?this.h[t]:e},Hi.set=function(t,e){ga(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Hi.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var ma=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ya(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ya){this.g=void 0!==e?e:t.g,ba(this,t.j),this.s=t.s,wa(this,t.i),_a(this,t.m),this.l=t.l,e=t.h;var n=new Na;n.i=e.i,e.g&&(n.g=new da(e.g),n.h=e.h),Ea(this,n),this.o=t.o}else t&&(n=String(t).match(ma))?(this.g=!!e,ba(this,n[1]||"",!0),this.s=Ta(n[2]||""),wa(this,n[3]||"",!0),_a(this,n[4]),this.l=Ta(n[5]||"",!0),Ea(this,n[6]||"",!0),this.o=Ta(n[7]||"")):(this.g=!!e,this.h=new Na(null,this.g))}function va(t){return new ya(t)}function ba(t,e,n){t.j=n?Ta(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wa(t,e,n){t.i=n?Ta(e,!0):e}function _a(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ea(t,e,n){e instanceof Na?(t.h=e,function(t,e){e&&!t.j&&(Ra(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Pa(this,e),Ma(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=Ca(e,Fa)),t.h=new Na(e,t.g))}function Sa(t,e,n){t.h.set(e,n)}function Da(t){return Sa(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ta(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ca(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,xa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ya.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ca(e,Aa,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ca(e,Aa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ca(n,"/"==n.charAt(0)?Ia:ka,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ca(n,Oa)),t.join("")};var Aa=/[#\/\?@]/g,ka=/[#\?:]/g,Ia=/[#\?]/g,Fa=/[#\?@]/g,Oa=/#/g;function Na(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ra(t){t.g||(t.g=new da,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Pa(t,e){Ra(t),e=Ua(t,e),ga(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,ga((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&pa(t)))}function La(t,e){return Ra(t),e=Ua(t,e),ga(t.g.h,e)}function Ma(t,e,n){Pa(t,e),0<n.length&&(t.i=null,t.g.set(Ua(t,e),ls(n)),t.h+=n.length)}function Ua(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Hi=Na.prototype).add=function(t,e){Ra(this),this.i=null,t=Ua(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Hi.forEach=function(t,e){Ra(this),this.g.forEach(function(n,r){us(n,function(n){t.call(e,n,r,this)},this)},this)},Hi.T=function(){Ra(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Hi.R=function(t){Ra(this);var e=[];if("string"==typeof t)La(this,t)&&(e=cs(e,this.g.get(Ua(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=cs(e,t[n])}return e},Hi.set=function(t,e){return Ra(this),this.i=null,La(this,t=Ua(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Hi.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Hi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var ja=function(t,e){this.h=t,this.g=e};function Ba(t){this.l=t||qa,t=Zi.PerformanceNavigationTiming?0<(t=Zi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Zi.g&&Zi.g.Ea&&Zi.g.Ea()&&Zi.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qa=10;function Va(t){return!!t.h||!!t.g&&t.g.size>=t.j}function za(t){return t.h?1:t.g?t.g.size:0}function Ga(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ha(t,e){t.g?t.g.add(e):t.h=e}function $a(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ka(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Gi(t.g.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.D)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ls(t.i)}function Za(){}function Qa(){this.g=new Za}function Wa(t,e,n){var r=n||"";try{fa(t,function(t,n){var i=t;Ji(t)&&(i=co(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(ib){throw e.push(r+"type="+encodeURIComponent("_badmap")),ib}}function Ja(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Ya(t){this.l=t.$b||null,this.j=t.ib||!1}function Xa(t,e){oo.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=tu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ba.prototype.cancel=function(){var t,e;if(this.i=Ka(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Gi(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Za.prototype.stringify=function(t){return Zi.JSON.stringify(t,void 0)},Za.prototype.parse=function(t){return Zi.JSON.parse(t,void 0)},is(Ya,zo),Ya.prototype.g=function(){return new Xa(this.l,this.j)},Ya.prototype.i=function(t){return function(){return t}}({}),is(Xa,oo);var tu=0;function eu(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function nu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ru(t)}function ru(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Hi=Xa.prototype).open=function(t,e){if(this.readyState!=tu)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ru(this)},Hi.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Zi).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Hi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nu(this)),this.readyState=tu},Hi.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Zi.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eu(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Hi.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nu(this):ru(this),3==this.readyState&&eu(this)}},Hi.Ua=function(t){this.g&&(this.response=this.responseText=t,nu(this))},Hi.Ta=function(t){this.g&&(this.response=t,nu(this))},Hi.ha=function(){this.g&&nu(this)},Hi.setRequestHeader=function(t,e){this.v.append(t,e)},Hi.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Hi.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var iu=Zi.JSON.parse;function su(t){oo.call(this),this.headers=new da,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ou,this.K=this.L=!1}is(su,oo);var ou="",au=/^https?$/i,uu=["POST","PUT"];function cu(t){return"content-type"==t.toLowerCase()}function lu(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hu(t),du(t)}function hu(t){t.D||(t.D=!0,ao(t,"complete"),ao(t,"error"))}function fu(t){if(t.h&&void 0!==Ki&&(!t.C[1]||4!=gu(t)||2!=t.ba()))if(t.v&&4==gu(t))So(t.Fa,0,t);else if(ao(t,"readystatechange"),4==gu(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.H).match(ma)[1]||null;if(!s&&Zi.self&&Zi.self.location){var o=Zi.self.location.protocol;s=o.substr(0,o.length-1)}i=!au.test(s?s.toLowerCase():"")}e=i}if(e)ao(t,"complete"),ao(t,"success");else{t.m=6;try{var a=2<gu(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",hu(t)}}finally{du(t)}}}function du(t,e){if(t.g){pu(t);var n=t.g,r=t.C[0]?Qi:null;t.g=null,t.C=null,e||ao(t,"ready");try{n.onreadystatechange=r}catch(ib){}}}function pu(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Zi.clearTimeout(t.A),t.A=null)}function gu(t){return t.g?t.g.readyState:0}function mu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ou:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return vs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Sa(t,e,n))}function vu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bu(t){this.za=0,this.l=[],this.h=new Io,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=vu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=vu("baseRetryDelayMs",5e3,t),this.$a=vu("retryDelaySeedMs",1e4,t),this.Ya=vu("forwardChannelMaxRetries",2,t),this.ra=vu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Ba(t&&t.concurrentRequestLimit),this.Ca=new Qa,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function wu(t){if(Eu(t),3==t.G){var e=t.V++,n=va(t.F);Sa(n,"SID",t.J),Sa(n,"RID",e),Sa(n,"TYPE","terminate"),Cu(t,n),(e=new Wo(t,t.h,e,void 0)).K=2,e.v=Da(va(n)),n=!1,Zi.navigator&&Zi.navigator.sendBeacon&&(n=Zi.navigator.sendBeacon(e.v.toString(),"")),!n&&Zi.Image&&((new Image).src=e.v,n=!0),n||(e.g=Uu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),oa(e)}Lu(t)}function _u(t){t.g&&(Iu(t),t.g.cancel(),t.g=null)}function Eu(t){_u(t),t.u&&(Zi.clearTimeout(t.u),t.u=null),Ou(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Zi.clearTimeout(t.m),t.m=null)}function Su(t,e){t.l.push(new ja(t.Za++,e)),3==t.G&&Du(t)}function Du(t){Va(t.i)||t.m||(t.m=!0,yo(t.Ha,t),t.C=0)}function Tu(t,e){var n;n=e?e.m:t.V++;var r=va(t.F);Sa(r,"SID",t.J),Sa(r,"RID",n),Sa(r,"AID",t.U),Cu(t,r),t.o&&t.s&&yu(r,t.o,t.s),n=new Wo(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=xu(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ha(t.i,n),ea(n,r,e)}function Cu(t,e){t.j&&fa({},function(t,n){Sa(e,n,t)})}function xu(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ns(t.j.Oa,t.j,t):null;t:for(var i=t.l,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].h)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=s))s=Math.max(0,i[u].h-100),a=!1;else try{Wa(l,o,"req"+c+"_")}catch(vc){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Au(t){t.g||t.u||(t.Y=1,yo(t.Ga,t),t.A=0)}function ku(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Bo(ns(t.Ga,t),Ru(t,t.A)),t.A++,0))}function Iu(t){null!=t.B&&(Zi.clearTimeout(t.B),t.B=null)}function Fu(t){t.g=new Wo(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=va(t.oa);Sa(e,"RID","rpc"),Sa(e,"SID",t.J),Sa(e,"CI",t.N?"0":"1"),Sa(e,"AID",t.U),Cu(t,e),Sa(e,"TYPE","xmlhttp"),t.o&&t.s&&yu(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Da(va(e)),n.s=null,n.U=!0,na(n,t)}function Ou(t){null!=t.v&&(Zi.clearTimeout(t.v),t.v=null)}function Nu(t,e){var n=null;if(t.g==e){Ou(t),Iu(t),t.g=null;var r=2}else{if(!Ga(t.i,e))return;n=e.D,$a(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;ao(r=Ro(),new jo(r,n,e,i)),Du(t)}else Au(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(za(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Bo(ns(t.Ha,t,e),Ru(t,t.C)),t.C++,0)))}(t,e)||2==r&&ku(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Pu(t,5);break;case 4:Pu(t,10);break;case 3:Pu(t,6);break;default:Pu(t,2)}}function Ru(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Pu(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=ns(t.jb,t);n||(n=new ya("//www.google.com/images/cleardot.gif"),Zi.location&&"http"==Zi.location.protocol||ba(n,"https"),Da(n)),function(t,e){var n=new Io;if(Zi.Image){var r=new Image;r.onload=rs(Ja,n,r,"TestLoadImage: loaded",!0,e),r.onerror=rs(Ja,n,r,"TestLoadImage: error",!1,e),r.onabort=rs(Ja,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=rs(Ja,n,r,"TestLoadImage: timeout",!1,e),Zi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Uo(2);t.G=0,t.j&&t.j.va(e),Lu(t),Eu(t)}function Lu(t){t.G=0,t.I=-1,t.j&&(0==Ka(t.i).length&&0==t.l.length||(t.i.i.length=0,ls(t.l),t.l.length=0),t.j.ua())}function Mu(t,e,n){var r=function(t){return t instanceof ya?va(t):new ya(t,void 0)}(n);if(""!=r.i)e&&wa(r,e+"."+r.i),_a(r,r.m);else{var i=Zi.location;r=function(t,e,n,r){var i=new ya(null,void 0);return t&&ba(i,t),e&&wa(i,e),n&&_a(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&vs(t.aa,function(t,e){Sa(r,e,t)}),n=t.sa,(e=t.D)&&n&&Sa(r,e,n),Sa(r,"VER",t.ma),Cu(t,r),r}function Uu(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new su(n&&t.Ba&&!t.qa?new Ya({ib:!0}):t.qa)).L=t.H,e}function ju(){}function Bu(){if(Cs&&!(10<=Number(Ls)))throw Error("Environmental error: no available transport.")}function qu(t,e){oo.call(this),this.g=new bu(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!hs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hs(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Gu(this)}function Vu(t){Ko.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function zu(){Zo.call(this),this.status=1}function Gu(t){this.g=t}(Hi=su.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ho.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ho),this.g.onreadystatechange=ns(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void lu(this,s)}t=n||"";var i=new da(this.headers);r&&fa(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=cu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Zi.FormData&&t instanceof Zi.FormData,!(0<=as(uu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pu(this),0<this.B&&((this.K=function(t){return Cs&&function(){return t=Ps,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=ds(String(Ss)).split("."),n=ds("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var s=e[i]||"",o=n[i]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==s[0].length&&0==o[0].length)break;t=gs(0==s[1].length?0:parseInt(s[1],10),0==o[1].length?0:parseInt(o[1],10))||gs(0==s[2].length,0==o[2].length)||gs(s[2],o[2]),s=s[3],o=o[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ns(this.pa,this)):this.A=So(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){lu(this,s)}},Hi.pa=function(){void 0!==Ki&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ao(this,"timeout"),this.abort(8))},Hi.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ao(this,"complete"),ao(this,"abort"),du(this))},Hi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),du(this,!0)),su.Z.M.call(this)},Hi.Fa=function(){this.s||(this.F||this.v||this.l?fu(this):this.cb())},Hi.cb=function(){fu(this)},Hi.ba=function(){try{return 2<gu(this)?this.g.status:-1}catch(Ds){return-1}},Hi.ga=function(){try{return this.g?this.g.responseText:""}catch(Ds){return""}},Hi.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),iu(e)}},Hi.Da=function(){return this.m},Hi.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Hi=bu.prototype).ma=8,Hi.G=1,Hi.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Hi.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Wo(this,this.h,t,void 0),n=this.s;if(this.P&&(n?_s(n=bs(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var s=this.l[i];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(r+=s)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=xu(this,e,r),Sa(i=va(this.F),"RID",t),Sa(i,"CVER",22),this.D&&Sa(i,"X-HTTP-Session-Id",this.D),Cu(this,i),this.o&&n&&yu(i,this.o,n),Ha(this.i,e),this.Ra&&Sa(i,"TYPE","init"),this.ja?(Sa(i,"$req",r),Sa(i,"SID","null"),e.$=!0,ea(e,i,null)):ea(e,i,r),this.G=2}}else 3==this.G&&(t?Tu(this,t):0==this.l.length||Va(this.i)||Tu(this))},Hi.Ga=function(){if(this.u=null,Fu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Bo(ns(this.bb,this),t)}},Hi.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Uo(10),_u(this),Fu(this))},Hi.ab=function(){null!=this.v&&(this.v=null,_u(this),ku(this),Uo(19))},Hi.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Uo(2)):(this.h.info("Failed to ping google.com"),Uo(1))},(Hi=ju.prototype).xa=function(){},Hi.wa=function(){},Hi.va=function(){},Hi.ua=function(){},Hi.Oa=function(){},Bu.prototype.g=function(t,e){return new qu(t,e)},is(qu,oo),qu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),yo(ns(t.hb,t,e))),Uo(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Mu(t,null,t.W),Du(t)},qu.prototype.close=function(){wu(this.g)},qu.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Su(this.g,e)}else this.v?((e={}).__data__=co(t),Su(this.g,e)):Su(this.g,t)},qu.prototype.M=function(){this.g.j=null,delete this.j,wu(this.g),delete this.g,qu.Z.M.call(this)},is(Vu,Ko),is(zu,Zo),is(Gu,ju),Gu.prototype.xa=function(){ao(this.g,"a")},Gu.prototype.wa=function(t){ao(this.g,new Vu(t))},Gu.prototype.va=function(t){ao(this.g,new zu(t))},Gu.prototype.ua=function(){ao(this.g,"b")},Bu.prototype.createWebChannel=Bu.prototype.g,qu.prototype.send=qu.prototype.u,qu.prototype.open=qu.prototype.m,qu.prototype.close=qu.prototype.close,qo.NO_ERROR=0,qo.TIMEOUT=8,qo.HTTP_ERROR=6,Vo.COMPLETE="complete",Go.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",oo.prototype.listen=oo.prototype.N,su.prototype.listenOnce=su.prototype.O,su.prototype.getLastError=su.prototype.La,su.prototype.getLastErrorCode=su.prototype.Da,su.prototype.getStatus=su.prototype.ba,su.prototype.getResponseJson=su.prototype.Qa,su.prototype.getResponseText=su.prototype.ga,su.prototype.send=su.prototype.ea;var Hu=qo,$u=Vo,Ku=Oo,Zu=Ya,Qu=Go,Wu=su,Ju=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ju.o=-1;var Yu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Xu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Bi.ZT)(e,t),e}(Error),tc=new Vi.Yd("@firebase/firestore");function ec(){return tc.logLevel}function nc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tc.logLevel<=Vi.in.DEBUG){var r=e.map(sc);tc.debug.apply(tc,(0,Bi.ev)(["Firestore (8.7.0): "+t],r))}}function rc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tc.logLevel<=Vi.in.ERROR){var r=e.map(sc);tc.error.apply(tc,(0,Bi.ev)(["Firestore (8.7.0): "+t],r))}}function ic(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(tc.logLevel<=Vi.in.WARN){var r=e.map(sc);tc.warn.apply(tc,(0,Bi.ev)(["Firestore (8.7.0): "+t],r))}}function sc(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(ib){return t}}function oc(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+t;throw rc(e),new Error(e)}function ac(t,e){t||oc()}function uc(t,e){return t}function cc(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var lc=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=cc(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function hc(t,e){return t<e?-1:t>e?1:0}function fc(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function dc(t){return t+"\0"}var pc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Xu(Yu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Xu(Yu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Xu(Yu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Xu(Yu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?hc(this.nanoseconds,t.nanoseconds):hc(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),gc=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new pc(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function mc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&oc(),void 0===n?n=t.length-e:n>t.length-e&&oc(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Bi.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(bc),_c=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ec=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Bi.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return _c.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Xu(Yu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Xu(Yu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Xu(Yu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(bc),Sc=function(){function t(t){this.fields=t,t.sort(Ec.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return fc(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Dc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return hc(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Dc.EMPTY_BYTE_STRING=new Dc("");var Tc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(t){if(ac(!!t),"string"==typeof t){var e=0,n=Tc.exec(t);if(ac(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xc(t.seconds),nanos:xc(t.nanos)}}function xc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ac(t){return"string"==typeof t?Dc.fromBase64String(t):Dc.fromUint8Array(t)}function kc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ic(t){var e=t.mapValue.fields.__previous_value__;return kc(e)?Ic(e):e}function Fc(t){var e=Cc(t.mapValue.fields.__local_write_time__.timestampValue);return new pc(e.seconds,e.nanos)}function Oc(t){return null==t}function Nc(t){return 0===t&&1/t==-1/0}function Rc(t){return"number"==typeof t&&Number.isInteger(t)&&!Nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Pc=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(wc.fromString(e))},t.fromName=function(e){return new t(wc.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wc.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return wc.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new wc(e.slice()))},t}();function Lc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kc(t)?4:10:oc()}function Mc(t,e){var n=Lc(t);if(n!==Lc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Cc(t.timestampValue),r=Cc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ac(t.bytesValue).isEqual(Ac(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return xc(t.geoPointValue.latitude)===xc(e.geoPointValue.latitude)&&xc(t.geoPointValue.longitude)===xc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return xc(t.integerValue)===xc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=xc(t.doubleValue),r=xc(e.doubleValue);return n===r?Nc(n)===Nc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fc(t.arrayValue.values||[],e.arrayValue.values||[],Mc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(mc(n)!==mc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Mc(n[i],r[i])))return!1;return!0}(t,e);default:return oc()}}function Uc(t,e){return void 0!==(t.values||[]).find(function(t){return Mc(t,e)})}function jc(t,e){var n=Lc(t),r=Lc(e);if(n!==r)return hc(n,r);switch(n){case 0:return 0;case 1:return hc(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=xc(t.integerValue||t.doubleValue),r=xc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Bc(t.timestampValue,e.timestampValue);case 4:return Bc(Fc(t),Fc(e));case 5:return hc(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ac(t),r=Ac(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=hc(n[i],r[i]);if(0!==s)return s}return hc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=hc(xc(t.latitude),xc(e.latitude));return 0!==n?n:hc(xc(t.longitude),xc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=jc(n[i],r[i]);if(s)return s}return hc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=hc(r[o],s[o]);if(0!==a)return a;var u=jc(n[r[o]],i[s[o]]);if(0!==u)return u}return hc(r.length,s.length)}(t.mapValue,e.mapValue);default:throw oc()}}function Bc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return hc(t,e);var n=Cc(t),r=Cc(e),i=hc(n.seconds,r.seconds);return 0!==i?i:hc(n.nanos,r.nanos)}function qc(t){return Vc(t)}function Vc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Cc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ac(t.bytesValue).toBase64():"referenceValue"in t?Pc.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Vc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Vc(t.fields[s])}return e+"}"}(t.mapValue):oc();var e}function zc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Gc(t){return!!t&&"integerValue"in t}function Hc(t){return!!t&&"arrayValue"in t}function $c(t){return!!t&&"nullValue"in t}function Kc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zc(t){return!!t&&"mapValue"in t}function Qc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Cc(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return yc(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Qc(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Qc(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Wc=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Zc(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qc(e)},t.prototype.setAll=function(t){var e=this,n=Ec.emptyPath(),r={},i=[];t.forEach(function(t,s){if(!n.isImmediateParentOf(s)){var o=e.getFieldsMap(n);e.applyChanges(o,r,i),r={},i=[],n=s.popLast()}t?r[s.lastSegment()]=Qc(t):i.push(s.lastSegment())});var s=this.getFieldsMap(n);this.applyChanges(s,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Zc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Mc(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Zc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){yc(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Qc(this.value))},t}();function Jc(t){var e=[];return yc(t.fields,function(t,n){var r=new Ec([t]);if(Zc(n)){var i=Jc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Sc(e)}var Yc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,gc.min(),Wc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Wc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Wc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Wc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Wc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Xc=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function tl(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Xc(t,e,n,r,i,s,o)}function el(t){var e=uc(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+qc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Oc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=pl(e.startAt)),e.endAt&&(n+="|ub:",n+=pl(e.endAt)),e.h=n}return e.h}function nl(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ml(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Mc(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vl(t.startAt,e.startAt)&&vl(t.endAt,e.endAt)}function rl(t){return Pc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var il=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Bi.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new sl(t,n,r):"array-contains"===n?new cl(t,r):"in"===n?new ll(t,r):"not-in"===n?new hl(t,r):"array-contains-any"===n?new fl(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ol(t,n):new al(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(jc(e,this.value)):null!==e&&Lc(this.value)===Lc(e)&&this.m(jc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return oc()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),sl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Pc.fromName(r.referenceValue),i}return(0,Bi.ZT)(e,t),e.prototype.matches=function(t){var e=Pc.comparator(t.key,this.key);return this.m(e)},e}(il),ol=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ul(0,n),r}return(0,Bi.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(il),al=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ul(0,n),r}return(0,Bi.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(il);function ul(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Pc.fromName(t.referenceValue)})}var cl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Bi.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Hc(e)&&Uc(e.arrayValue,this.value)},e}(il),ll=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Bi.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Uc(this.value.arrayValue,e)},e}(il),hl=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Bi.ZT)(e,t),e.prototype.matches=function(t){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Uc(this.value.arrayValue,e)},e}(il),fl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Bi.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Hc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Uc(e.value.arrayValue,t)})},e}(il),dl=function(t,e){this.position=t,this.before=e};function pl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return qc(t)}).join(",")}var gl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ml(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function yl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Pc.comparator(Pc.fromName(o.referenceValue),n.key):jc(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function vl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Mc(t.position[n],e.position[n]))return!1;return!0}var bl=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function wl(t,e,n,r,i,s,o,a){return new bl(t,e,n,r,i,s,o,a)}function _l(t){return new bl(t)}function El(t){return!Oc(t.limit)&&"F"===t.limitType}function Sl(t){return!Oc(t.limit)&&"L"===t.limitType}function Dl(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Tl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Cl(t){return null!==t.collectionGroup}function xl(t){var e=uc(t);if(null===e.p){e.p=[];var n=Tl(e),r=Dl(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new gl(n)),e.p.push(new gl(Ec.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new gl(Ec.keyField(),u))}}}return e.p}function Al(t){var e=uc(t);if(!e.T)if("F"===e.limitType)e.T=tl(e.path,e.collectionGroup,xl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=xl(e);r<i.length;r++){var s=i[r];n.push(new gl(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new dl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new dl(e.startAt.position,!e.startAt.before):null;e.T=tl(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function kl(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Il(t,e){return nl(Al(t),Al(e))&&t.limitType===e.limitType}function Fl(t){return el(Al(t))+"|lt:"+t.limitType}function Ol(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+qc(e.value);var e}).join(", ")+"]"),Oc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+pl(t.startAt)),t.endAt&&(e+=", endAt: "+pl(t.endAt)),"Target("+e+")"}(Al(t))+"; limitType="+t.limitType+")"}function Nl(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Pc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!yl(t.startAt,xl(t),e)||t.endAt&&yl(t.endAt,xl(t),e))}(t,e)}function Rl(t){return function(e,n){for(var r=!1,i=0,s=xl(t);i<s.length;i++){var o=s[i],a=Pl(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Pl(t,e,n){var r=t.field.isKeyField()?Pc.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?jc(r,i):oc()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oc()}}function Ll(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nc(e)?"-0":e}}function Ml(t){return{integerValue:""+t}}function Ul(t,e){return Rc(e)?Ml(e):Ll(t,e)}var jl=function(){this._=void 0};function Bl(t,e,n){return t instanceof zl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Gl?Hl(t,e):t instanceof $l?Kl(t,e):function(t,e){var n=Vl(t,e),r=Ql(n)+Ql(t.A);return Gc(n)&&Gc(t.A)?Ml(r):Ll(t.R,r)}(t,e)}function ql(t,e,n){return t instanceof Gl?Hl(t,e):t instanceof $l?Kl(t,e):n}function Vl(t,e){return t instanceof Zl?Gc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var zl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Bi.ZT)(e,t),e}(jl),Gl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Bi.ZT)(e,t),e}(jl);function Hl(t,e){for(var n=Wl(e),r=function(t){n.some(function(e){return Mc(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var $l=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Bi.ZT)(e,t),e}(jl);function Kl(t,e){for(var n=Wl(e),r=function(t){n=n.filter(function(e){return!Mc(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Zl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Bi.ZT)(e,t),e}(jl);function Ql(t){return xc(t.integerValue||t.doubleValue)}function Wl(t){return Hc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Jl=function(t,e){this.field=t,this.transform=e},Yl=function(t,e){this.version=t,this.transformResults=e},Xl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function th(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var eh=function(){};function nh(t,e,n){t instanceof ah?function(t,e,n){var r=t.value.clone(),i=lh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof uh?function(t,e,n){if(th(t.precondition,e)){var r=lh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ch(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function rh(t,e,n){t instanceof ah?function(t,e,n){if(th(t.precondition,e)){var r=t.value.clone(),i=hh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(oh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof uh?function(t,e,n){if(th(t.precondition,e)){var r=hh(t.fieldTransforms,n,e),i=e.data;i.setAll(ch(t)),i.setAll(r),e.convertToFoundDocument(oh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){th(t.precondition,e)&&e.convertToNoDocument(gc.min())}(t,e)}function ih(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Vl(s.transform,o||null);null!=a&&(null==n&&(n=Wc.empty()),n.set(s.field,a))}return n||null}function sh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&fc(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Gl&&e instanceof Gl||t instanceof $l&&e instanceof $l?fc(t.elements,e.elements,Mc):t instanceof Zl&&e instanceof Zl?Mc(t.A,e.A):t instanceof zl&&e instanceof zl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function oh(t){return t.isFoundDocument()?t.version:gc.min()}var ah=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return(0,Bi.ZT)(e,t),e}(eh),uh=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return(0,Bi.ZT)(e,t),e}(eh);function ch(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function lh(t,e,n){var r=new Map;ac(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ql(o,a,n[i]))}return r}function hh(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=n.data.field(o.field);r.set(o.field,Bl(a,u,e))}return r}var fh,dh,ph=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Bi.ZT)(e,t),e}(eh),gh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Bi.ZT)(e,t),e}(eh),mh=function(t){this.count=t};function yh(t){switch(t){case Yu.OK:return oc();case Yu.CANCELLED:case Yu.UNKNOWN:case Yu.DEADLINE_EXCEEDED:case Yu.RESOURCE_EXHAUSTED:case Yu.INTERNAL:case Yu.UNAVAILABLE:case Yu.UNAUTHENTICATED:return!1;case Yu.INVALID_ARGUMENT:case Yu.NOT_FOUND:case Yu.ALREADY_EXISTS:case Yu.PERMISSION_DENIED:case Yu.FAILED_PRECONDITION:case Yu.ABORTED:case Yu.OUT_OF_RANGE:case Yu.UNIMPLEMENTED:case Yu.DATA_LOSS:return!0;default:return oc()}}function vh(t){if(void 0===t)return rc("GRPC error has no .code"),Yu.UNKNOWN;switch(t){case fh.OK:return Yu.OK;case fh.CANCELLED:return Yu.CANCELLED;case fh.UNKNOWN:return Yu.UNKNOWN;case fh.DEADLINE_EXCEEDED:return Yu.DEADLINE_EXCEEDED;case fh.RESOURCE_EXHAUSTED:return Yu.RESOURCE_EXHAUSTED;case fh.INTERNAL:return Yu.INTERNAL;case fh.UNAVAILABLE:return Yu.UNAVAILABLE;case fh.UNAUTHENTICATED:return Yu.UNAUTHENTICATED;case fh.INVALID_ARGUMENT:return Yu.INVALID_ARGUMENT;case fh.NOT_FOUND:return Yu.NOT_FOUND;case fh.ALREADY_EXISTS:return Yu.ALREADY_EXISTS;case fh.PERMISSION_DENIED:return Yu.PERMISSION_DENIED;case fh.FAILED_PRECONDITION:return Yu.FAILED_PRECONDITION;case fh.ABORTED:return Yu.ABORTED;case fh.OUT_OF_RANGE:return Yu.OUT_OF_RANGE;case fh.UNIMPLEMENTED:return Yu.UNIMPLEMENTED;case fh.DATA_LOSS:return Yu.DATA_LOSS;default:return oc()}}(dh=fh||(fh={}))[dh.OK=0]="OK",dh[dh.CANCELLED=1]="CANCELLED",dh[dh.UNKNOWN=2]="UNKNOWN",dh[dh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dh[dh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dh[dh.NOT_FOUND=5]="NOT_FOUND",dh[dh.ALREADY_EXISTS=6]="ALREADY_EXISTS",dh[dh.PERMISSION_DENIED=7]="PERMISSION_DENIED",dh[dh.UNAUTHENTICATED=16]="UNAUTHENTICATED",dh[dh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dh[dh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dh[dh.ABORTED=10]="ABORTED",dh[dh.OUT_OF_RANGE=11]="OUT_OF_RANGE",dh[dh.UNIMPLEMENTED=12]="UNIMPLEMENTED",dh[dh.INTERNAL=13]="INTERNAL",dh[dh.UNAVAILABLE=14]="UNAVAILABLE",dh[dh.DATA_LOSS=15]="DATA_LOSS";var bh=function(){function t(t,e){this.comparator=t,this.root=e||_h.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_h.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_h.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new wh(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new wh(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new wh(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new wh(this.root,t,this.comparator,!0)},t}(),wh=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),_h=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw oc();if(this.right.isRed())throw oc();var t=this.left.check();if(t!==this.right.check())throw oc();return t+(this.isRed()?0:1)},t}();_h.EMPTY=null,_h.RED=!0,_h.BLACK=!1,_h.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw oc()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw oc()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new _h(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Eh=function(){function t(t){this.comparator=t,this.data=new bh(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Sh(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Sh(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Sh=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Dh=new bh(Pc.comparator);function Th(){return Dh}var Ch=new bh(Pc.comparator);function xh(){return Ch}var Ah=new bh(Pc.comparator);function kh(){return Ah}var Ih=new Eh(Pc.comparator);function Fh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ih,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Oh=new Eh(hc);function Nh(){return Oh}var Rh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Ph.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(gc.min(),r,Nh(),Th(),Fh())},t}(),Ph=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Dc.EMPTY_BYTE_STRING,n,Fh(),Fh(),Fh())},t}(),Lh=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Mh=function(t,e){this.targetId=t,this.V=e},Uh=function(t,e,n,r){void 0===n&&(n=Dc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},jh=function(){function t(){this.S=0,this.D=Vh(),this.C=Dc.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Fh(),e=Fh(),n=Fh();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:oc()}}),new Ph(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Vh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Bh=function(){function t(t){this.W=t,this.G=new Map,this.H=Th(),this.J=qh(),this.Y=new Eh(hc)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:oc()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(rl(i))if(0===n){var s=new Pc(i.path);this.tt(e,s,Yc.newNoDocument(s,gc.min()))}else ac(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&rl(s.target)){var o=new Pc(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Yc.newNoDocument(o,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Fh();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Rh(t,n,this.Y,this.H,r);return this.H=Th(),this.J=qh(),this.Y=new Eh(hc),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new jh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Eh(hc),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||nc("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new jh),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function qh(){return new bh(Pc.comparator)}function Vh(){return new bh(Pc.comparator)}var zh={asc:"ASCENDING",desc:"DESCENDING"},Gh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hh=function(t,e){this.databaseId=t,this.I=e};function $h(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kh(t,e){return t.I?e.toBase64():e.toUint8Array()}function Zh(t,e){return $h(t,e.toTimestamp())}function Qh(t){return ac(!!t),gc.fromTimestamp(function(t){var e=Cc(t);return new pc(e.seconds,e.nanos)}(t))}function Wh(t,e){return function(t){return new wc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Jh(t){var e=wc.fromString(t);return ac(Ef(e)),e}function Yh(t,e){return Wh(t.databaseId,e.path)}function Xh(t,e){var n=Jh(e);if(n.get(1)!==t.databaseId.projectId)throw new Xu(Yu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Xu(Yu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Pc(rf(n))}function tf(t,e){return Wh(t.databaseId,e)}function ef(t){var e=Jh(t);return 4===e.length?wc.emptyPath():rf(e)}function nf(t){return new wc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rf(t){return ac(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function sf(t,e,n){return{name:Yh(t,e),fields:n.value.mapValue.fields}}function of(t,e,n){var r=Xh(t,e.name),i=Qh(e.updateTime),s=new Wc({mapValue:{fields:e.fields}}),o=Yc.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function af(t,e){var n;if(e instanceof ah)n={update:sf(t,e.key,e.value)};else if(e instanceof ph)n={delete:Yh(t,e.key)};else if(e instanceof uh)n={update:sf(t,e.key,e.data),updateMask:_f(e.fieldMask)};else{if(!(e instanceof gh))return oc();n={verify:Yh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof zl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $l)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Zl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw oc()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Zh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:oc()}(t,e.precondition)),n}function uf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Xl.updateTime(Qh(t.updateTime)):void 0!==t.exists?Xl.exists(t.exists):Xl.none()}(e.currentDocument):Xl.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(ac("REQUEST_TIME"===e.setToServerValue),n=new zl):"appendMissingElements"in e?n=new Gl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new $l(e.removeAllFromArray.values||[]):"increment"in e?n=new Zl(t,e.increment):oc();var r=Ec.fromServerFormat(e.fieldPath);return new Jl(r,n)}(t,e)}):[];if(e.update){var i=Xh(t,e.update.name),s=new Wc({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Sc((t.fieldPaths||[]).map(function(t){return Ec.fromServerFormat(t)}))}(e.updateMask);return new uh(i,s,o,n,r)}return new ah(i,s,n,r)}if(e.delete){var a=Xh(t,e.delete);return new ph(a,n)}if(e.verify){var u=Xh(t,e.verify);return new gh(u,n)}return oc()}function cf(t,e){return{documents:[tf(t,e.path)]}}function lf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Kc(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NAN"}};if($c(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Kc(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NOT_NAN"}};if($c(t.value))return{unaryFilter:{field:yf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yf(t.field),op:mf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:yf(t.field),direction:gf(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Oc(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=df(e.startAt)),e.endAt&&(n.structuredQuery.endAt=df(e.endAt)),n}function hf(t){var e=ef(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ac(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=ff(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new gl(vf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Oc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=pf(n.startAt));var l=null;return n.endAt&&(l=pf(n.endAt)),wl(e,i,a,o,u,"F",c,l)}function ff(t){return t?void 0!==t.unaryFilter?[wf(t)]:void 0!==t.fieldFilter?[bf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return ff(t)}).reduce(function(t,e){return t.concat(e)}):oc():[]}function df(t){return{before:t.before,values:t.position}}function pf(t){return new dl(t.values||[],!!t.before)}function gf(t){return zh[t]}function mf(t){return Gh[t]}function yf(t){return{fieldPath:t.canonicalString()}}function vf(t){return Ec.fromServerFormat(t.fieldPath)}function bf(t){return il.create(vf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return oc()}}(t.fieldFilter.op),t.fieldFilter.value)}function wf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=vf(t.unaryFilter.field);return il.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=vf(t.unaryFilter.field);return il.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=vf(t.unaryFilter.field);return il.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=vf(t.unaryFilter.field);return il.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return oc()}}function _f(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Ef(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Sf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Tf(e)),e=Df(t.get(n),e);return Tf(e)}function Df(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function Tf(t){return t+"\x01\x01"}function Cf(t){var e=t.length;if(ac(e>=2),2===e)return ac("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wc.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&oc(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:oc()}s=o+2}return new wc(r)}var xf=function(t,e){this.seconds=t,this.nanoseconds=e},Af=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Af.store="owner",Af.key="owner";var kf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};kf.store="mutationQueues",kf.keyPath="userId";var If=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};If.store="mutations",If.keyPath="batchId",If.userMutationsIndex="userMutationsIndex",If.userMutationsKeyPath=["userId","batchId"];var Ff=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Sf(e)]},t.key=function(t,e,n){return[t,Sf(e),n]},t}();Ff.store="documentMutations",Ff.PLACEHOLDER=new Ff;var Of=function(t,e){this.path=t,this.readTime=e},Nf=function(t,e){this.path=t,this.version=e},Rf=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Rf.store="remoteDocuments",Rf.readTimeIndex="readTimeIndex",Rf.readTimeIndexPath="readTime",Rf.collectionReadTimeIndex="collectionReadTimeIndex",Rf.collectionReadTimeIndexPath=["parentPath","readTime"];var Pf=function(t){this.byteSize=t};Pf.store="remoteDocumentGlobal",Pf.key="remoteDocumentGlobalKey";var Lf=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Lf.store="targets",Lf.keyPath="targetId",Lf.queryTargetsIndexName="queryTargetsIndex",Lf.queryTargetsKeyPath=["canonicalId","targetId"];var Mf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Mf.store="targetDocuments",Mf.keyPath=["targetId","path"],Mf.documentTargetsIndex="documentTargetsIndex",Mf.documentTargetsKeyPath=["path","targetId"];var Uf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Uf.key="targetGlobalKey",Uf.store="targetGlobal";var jf=function(t,e){this.collectionId=t,this.parent=e};jf.store="collectionParents",jf.keyPath=["collectionId","parent"];var Bf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Bf.store="clientMetadata",Bf.keyPath="clientId";var qf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};qf.store="bundles",qf.keyPath="bundleId";var Vf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Vf.store="namedQueries",Vf.keyPath="name";var zf=(0,Bi.ev)((0,Bi.ev)([],(0,Bi.ev)((0,Bi.ev)([],(0,Bi.ev)((0,Bi.ev)([],(0,Bi.ev)((0,Bi.ev)([],[kf.store,If.store,Ff.store,Rf.store,Lf.store,Af.store,Uf.store,Mf.store]),[Bf.store])),[Pf.store])),[jf.store])),[qf.store,Vf.store]),Gf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Hf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),$f=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Kf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&oc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Zf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new $f,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Jf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=nd(e.target.error);n.ft.reject(new Jf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Jf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(nc("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Xf(e)},t}(),Qf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,qi.z$)())&&rc("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return nc("SimpleDb","Removing database:",t),td(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,qi.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(nc("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Jf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Xu(Yu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Jf(t,n))},i.onupgradeneeded=function(t){nc("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){nc("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Bi.mG)(this,void 0,void 0,function(){var i,s,o,a,u;return(0,Bi.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return(0,Bi.Jh)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Zf.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Kf.reject(t)}).toPromise(),u={},o.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return nc("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Wf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return td(this.Pt.delete())},t}(),Jf=function(t){function e(e,n){var r=this;return(r=t.call(this,Yu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Bi.ZT)(e,t),e}(Xu);function Yf(t){return"IndexedDbTransactionError"===t.name}var Xf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(nc("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(nc("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),td(n)},t.prototype.add=function(t){return nc("SimpleDb","ADD",this.store.name,t,t),td(this.store.add(t))},t.prototype.get=function(t){var e=this;return td(this.store.get(t)).next(function(n){return void 0===n&&(n=null),nc("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return nc("SimpleDb","DELETE",this.store.name,t),td(this.store.delete(t))},t.prototype.count=function(){return nc("SimpleDb","COUNT",this.store.name),td(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){nc("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Kf(function(n,r){e.onerror=function(t){var e=nd(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Kf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Wf(i),o=e(i.primaryKey,i.value,s);if(o instanceof Kf){var a=o.catch(function(t){return s.done(),Kf.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return Kf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function td(t){return new Kf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=nd(t.target.error);n(e)}})}var ed=!1;function nd(t){var e=Qf._t((0,qi.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Xu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ed||(ed=!0,setTimeout(function(){throw r},0)),r}}return t}var rd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Bi.ZT)(e,t),e}(Hf);function id(t,e){var n=uc(t);return Qf.It(n.Mt,e)}var sd=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&nh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&rh(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&rh(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(gc.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Fh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&fc(this.mutations,t.mutations,function(t,e){return sh(t,e)})&&fc(this.baseMutations,t.baseMutations,function(t,e){return sh(t,e)})},t}(),od=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){ac(e.mutations.length===r.length);for(var i=kh(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),ad=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=gc.min()),void 0===s&&(s=gc.min()),void 0===o&&(o=Dc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),ud=function(t){this.Lt=t};function cd(t,e){if(e.document)return of(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Pc.fromSegments(e.noDocument.path),r=pd(e.noDocument.readTime),i=Yc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Pc.fromSegments(e.unknownDocument.path);return r=pd(e.unknownDocument.version),Yc.newUnknownDocument(s,r)}return oc()}function ld(t,e,n){var r=hd(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Yh(t,e.key),fields:e.data.value.mapValue.fields,updateTime:$h(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new Rf(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=dd(e.version);return o=e.hasCommittedMutations,new Rf(null,new Of(a,u),null,o,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=dd(e.version);return new Rf(new Nf(c,l),null,null,!0,r,i)}return oc()}function hd(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function fd(t){var e=new pc(t[0],t[1]);return gc.fromTimestamp(e)}function dd(t){var e=t.toTimestamp();return new xf(e.seconds,e.nanoseconds)}function pd(t){var e=new pc(t.seconds,t.nanoseconds);return gc.fromTimestamp(e)}function gd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return uf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return uf(t.Lt,e)}),s=pc.fromMillis(e.localWriteTimeMs);return new sd(e.batchId,s,n,i)}function md(t){var e,n,r=pd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?pd(t.lastLimboFreeSnapshotVersion):gc.min();return void 0!==t.query.documents?(ac(1===(n=t.query).documents.length),e=Al(_l(ef(n.documents[0])))):e=function(t){return Al(hf(t))}(t.query),new ad(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Dc.fromBase64String(t.resumeToken))}function yd(t,e){var n,r=dd(e.snapshotVersion),i=dd(e.lastLimboFreeSnapshotVersion);n=rl(e.target)?cf(t.Lt,e.target):lf(t.Lt,e.target);var s=e.resumeToken.toBase64();return new Lf(e.targetId,el(e.target),r,s,e.sequenceNumber,i,n)}function vd(t){var e=hf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?kl(e,e.limit,"L"):e}var bd=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return wd(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:pd(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return wd(t).put({bundleId:(n=e).id,createTime:dd(Qh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return _d(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:vd(e.bundledQuery),readTime:pd(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return _d(t).put(function(t){return{name:t.name,readTime:dd(Qh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function wd(t){return id(t,qf.store)}function _d(t){return id(t,Vf.store)}var Ed=function(){function t(){this.Bt=new Sd}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Kf.resolve()},t.prototype.getCollectionParents=function(t,e){return Kf.resolve(this.Bt.getEntries(e))},t}(),Sd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Eh(wc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Eh(wc.comparator)).toArray()},t}(),Dd=function(){function t(){this.qt=new Sd}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:Sf(i)};return Td(t).put(s)}return Kf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[dc(e),""],!1,!0);return Td(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(Cf(s.parent))}return n})},t}();function Td(t){return id(t,jf.store)}var Cd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xd=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Ad(t,e,n){var r=t.store(If.store),i=t.store(Ff.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){ac(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Ff.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Kf.waitFor(s).next(function(){return c})}function kd(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw oc();e=t.noDocument}return JSON.stringify(e).length}xd.DEFAULT_COLLECTION_PERCENTILE=10,xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xd.DEFAULT=new xd(41943040,xd.DEFAULT_COLLECTION_PERCENTILE,xd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xd.DISABLED=new xd(-1,0,0);var Id=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return ac(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Od(t).$t({index:If.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Nd(t),o=Od(t);return o.add({}).next(function(a){ac("number"==typeof a);for(var u=new sd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return af(t.Lt,e)}),i=n.mutations.map(function(e){return af(t.Lt,e)});return new If(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Eh(function(t,e){return hc(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Ff.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(c)),l.push(s.put(g,Ff.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),Kf.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Od(t).get(e).next(function(t){return t?(ac(t.userId===n.userId),gd(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Kf.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Od(t).$t({index:If.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(ac(e.batchId>=r),s=gd(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Od(t).$t({index:If.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Od(t).Nt(If.userMutationsIndex,n).next(function(t){return t.map(function(t){return gd(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Ff.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Nd(t).$t({range:i},function(r,i,o){var a=r[0],u=r[2],c=Cf(r[1]);if(a===n.userId&&e.path.isEqual(c))return Od(t).get(u).next(function(t){if(!t)throw oc();ac(t.userId===n.userId),s.push(gd(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Eh(hc),i=[];return e.forEach(function(e){var s=Ff.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Nd(t).$t({range:o},function(t,i,s){var o=t[0],a=t[2],u=Cf(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Kf.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=Ff.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Eh(hc);return Nd(t).$t({range:o},function(t,e,s){var o=t[0],u=t[2],c=Cf(t[1]);o===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Od(t).get(e).next(function(t){if(null===t)throw oc();ac(t.userId===n.userId),r.push(gd(n.R,t))}))}),Kf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ad(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Kf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Kf.resolve();var r=IDBKeyRange.lowerBound(Ff.prefixForUser(e.userId)),i=[];return Nd(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var s=Cf(t[1]);i.push(s)}else r.done()}).next(function(){ac(0===i.length)})})},t.prototype.containsKey=function(t,e){return Fd(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Rd(t).get(this.userId).next(function(t){return t||new kf(e.userId,-1,"")})},t}();function Fd(t,e,n){var r=Ff.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Nd(t).$t({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function Od(t){return id(t,If.store)}function Nd(t){return id(t,Ff.store)}function Rd(t){return id(t,kf.store)}var Pd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Ld=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Pd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return gc.fromTimestamp(new pc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Md(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return ac(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Md(t).$t(function(o,a){var u=md(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.removeTargetData(t,u)))}).next(function(){return Kf.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Md(t).$t(function(t,n){var r=md(n);e(r)})},t.prototype.Xt=function(t){return Ud(t).get(Uf.key).next(function(t){return ac(null!==t),t})},t.prototype.Zt=function(t,e){return Ud(t).put(Uf.key,e)},t.prototype.te=function(t,e){return Md(t).put(yd(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=el(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Md(t).$t({range:r,index:Lf.queryTargetsIndexName},function(t,n,r){var s=md(n);nl(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=jd(t);return e.forEach(function(e){var o=Sf(e.path);i.push(s.put(new Mf(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),Kf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=jd(t);return Kf.forEach(e,function(e){var s=Sf(e.path);return Kf.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=jd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=jd(t),i=Fh();return r.$t({range:n,kt:!0},function(t,e,n){var r=Cf(t[1]),s=new Pc(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Sf(e.path),r=IDBKeyRange.bound([n],[dc(n)],!1,!0),i=0;return jd(t).$t({index:Mf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Md(t).get(e).next(function(t){return t?md(t):null})},t}();function Md(t){return id(t,Lf.store)}function Ud(t){return id(t,Uf.store)}function jd(t){return id(t,Mf.store)}function Bd(t){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){if(t.code!==Yu.FAILED_PRECONDITION||t.message!==Gf)throw t;return nc("LocalStore","Unexpectedly lost primary lease"),[2]})})}function qd(t,e){var n=t[1],r=e[1],i=hc(t[0],e[0]);return 0===i?hc(n,r):i}var Vd=function(){function t(t){this.ne=t,this.buffer=new Eh(qd),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();qd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),zd=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;nc("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Bi.mG)(e,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Yf(e=n.sent())?(nc("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Bd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Gd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Kf.resolve(Ju.o);var r=new Vd(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(nc("LruGarbageCollector","Garbage collection skipped; disabled"),Kf.resolve(Cd)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(nc("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Cd):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(nc("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),ec()<=Vi.in.DEBUG&&nc("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Kf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Hd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Gd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return $d(t,n)},t.prototype.removeReference=function(t,e,n){return $d(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return $d(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Rd(t).Ot(function(r){return Fd(t,r,e).next(function(t){return t&&(n=!0),Kf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var u=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),jd(t).delete([0,Sf(o.path)])})});i.push(u)}}).next(function(){return Kf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return $d(t,e)},t.prototype.we=function(t,e){var n,r=jd(t),i=Ju.o;return r.$t({index:Mf.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Ju.o&&e(new Pc(Cf(n)),i),i=o,n=s):i=Ju.o}).next(function(){i!==Ju.o&&e(new Pc(Cf(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function $d(t,e){return jd(t).put(function(t,e){return new Mf(0,Sf(t.path),e)}(e,t.currentSequenceNumber))}var Kd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){yc(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return vc(this.inner)},t}(),Zd=function(){function t(){this.changes=new Kd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:gc.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Yc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Kf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Qd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Yd(t).put(Xd(e),n)},t.prototype.removeEntry=function(t,e){var n=Yd(t),r=Xd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Yd(t).get(Xd(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Yd(t).get(Xd(e)).next(function(t){return{document:n.ye(e,t),size:kd(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Th();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Th(),i=new bh(Pc.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,kd(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Kf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return Yd(t).$t({range:r},function(t,e,r){for(var o=Pc.fromSegments(t);s&&Pc.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Th(),s=e.path.length+1,o={};if(n.isEqual(gc.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=hd(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Rf.collectionReadTimeIndex}return Yd(t).$t(o,function(t,n,o){if(t.length===s){var a=cd(r.R,n);e.path.isPrefixOf(a.key.path)?Nl(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Wd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Jd(t).get(Pf.key).next(function(t){return ac(!!t),t})},t.prototype.me=function(t,e){return Jd(t).put(Pf.key,e)},t.prototype.ye=function(t,e){if(e){var n=cd(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(gc.min()))return n}return Yc.newInvalidDocument(t)},t}(),Wd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Kd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Bi.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Eh(function(t,e){return hc(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var u=ld(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var c=kd(u);r+=c-a,n.push(e.Ie.addEntry(t,s,u))}else if(r-=a,e.trackRemovals){var l=ld(e.Ie.R,Yc.newNoDocument(s,gc.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Kf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Zd);function Jd(t){return id(t,Pf.store)}function Yd(t){return id(t,Rf.store)}function Xd(t){return t.path.toArray()}var tp=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;ac(n<r&&n>=0&&r<=11);var s=new Zf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Af.store)}(t),function(t){t.createObjectStore(kf.store,{keyPath:kf.keyPath}),t.createObjectStore(If.store,{keyPath:If.keyPath,autoIncrement:!0}).createIndex(If.userMutationsIndex,If.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ff.store)}(t),ep(t),function(t){t.createObjectStore(Rf.store)}(t));var o=Kf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Mf.store),t.deleteObjectStore(Lf.store),t.deleteObjectStore(Uf.store)}(t),ep(t)),o=o.next(function(){return function(t){var e=t.store(Uf.store),n=new Uf(0,0,gc.min().toTimestamp(),0);return e.put(Uf.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(If.store).Nt().next(function(n){t.deleteObjectStore(If.store),t.createObjectStore(If.store,{keyPath:If.keyPath,autoIncrement:!0}).createIndex(If.userMutationsIndex,If.userMutationsKeyPath,{unique:!0});var r=e.store(If.store),i=n.map(function(t){return r.put(t)});return Kf.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Bf.store,{keyPath:Bf.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Pf.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Rf.store);e.createIndex(Rf.readTimeIndex,Rf.readTimeIndexPath,{unique:!1}),e.createIndex(Rf.collectionReadTimeIndex,Rf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(qf.store,{keyPath:qf.keyPath})}(t),function(t){t.createObjectStore(Vf.store,{keyPath:Vf.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(Rf.store).$t(function(t,n){e+=kd(n)}).next(function(){var n=new Pf(e);return t.store(Pf.store).put(Pf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(kf.store),r=t.store(If.store);return n.Nt().next(function(n){return Kf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(If.userMutationsIndex,i).next(function(r){return Kf.forEach(r,function(r){ac(r.userId===n.userId);var i=gd(e.R,r);return Ad(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Mf.store),n=t.store(Rf.store);return t.store(Uf.store).get(Uf.key).next(function(t){var r=[];return n.$t(function(n,i){var s=new wc(n),o=function(t){return[0,Sf(t)]}(s);r.push(e.get(o).next(function(n){return n?Kf.resolve():function(n){return e.put(new Mf(0,Sf(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Kf.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(jf.store,{keyPath:jf.keyPath});var n=e.store(jf.store),r=new Sd,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Sf(i)})}};return e.store(Rf.store).$t({kt:!0},function(t,e){var n=new wc(t);return i(n.popLast())}).next(function(){return e.store(Ff.store).$t({kt:!0},function(t,e){var n=Cf(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(Lf.store);return n.$t(function(t,r){var i=md(r),s=yd(e.R,i);return n.put(s)})},t}();function ep(t){t.createObjectStore(Mf.store,{keyPath:Mf.keyPath}).createIndex(Mf.documentTargetsIndex,Mf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Lf.store,{keyPath:Lf.keyPath}).createIndex(Lf.queryTargetsIndexName,Lf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Uf.store)}var np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rp=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Xu(Yu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hd(this,i),this.Le=n+"main",this.R=new ud(u),this.Be=new Qf(this.Le,11,new tp(this.R)),this.qe=new Ld(this.referenceDelegate,this.R),this.Ut=new Dd,this.Ue=function(t,e){return new Qd(t,e)}(this.R,this.Ut),this.Ke=new bd,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&rc("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Xu(Yu.FAILED_PRECONDITION,np);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ju(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Bi.mG)(e,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Bi.mG)(e,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Bi.mG)(e,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return sp(e).put(new Bf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Yf(e))return nc("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return nc("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return ip(t).get(Af.key).next(function(t){return Kf.resolve(e.tn(t))})},t.prototype.en=function(t){return sp(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=id(t,Bf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Kf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Kf.resolve(!0):ip(t).get(Af.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Xu(Yu.FAILED_PRECONDITION,np);return!1}}return!(!e.networkEnabled||!e.inForeground)||sp(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&nc("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t=this;return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Af.store,Bf.store],function(e){var n=new rd(e,Ju.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return sp(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Id.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return nc("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",zf,function(s){return r=new rd(s,i.Ne?i.Ne.next():Ju.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw rc("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Xu(Yu.FAILED_PRECONDITION,Gf);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return ip(t).get(Af.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Xu(Yu.FAILED_PRECONDITION,np)})},t.prototype.Ze=function(t){var e=new Af(this.clientId,this.allowTabSynchronization,Date.now());return ip(t).put(Af.key,e)},t.yt=function(){return Qf.yt()},t.prototype.Xe=function(t){var e=this,n=ip(t);return n.get(Af.key).next(function(t){return e.tn(t)?(nc("IndexedDbPersistence","Releasing primary lease."),n.delete(Af.key)):Kf.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(rc("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return nc("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return rc("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){rc("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ip(t){return id(t,Af.store)}function sp(t){return id(t,Bf.store)}function op(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ap=function(t,e){this.progress=t,this.wn=e},up=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Pc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Cl(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Pc(e)).next(function(t){var e=xh();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=xh();return this.Ut.getCollectionParents(t,i).next(function(o){return Kf.forEach(o,function(o){var a=function(t,e){return new bl(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c);null==l&&(l=Yc.newInvalidDocument(c),r=r.insert(c,l)),rh(u,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Nl(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Fh(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof uh&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),cp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Fh(),i=Fh(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),lp=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(gc.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(El(e)||Sl(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(ec()<=Vi.in.DEBUG&&nc("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ol(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Eh(Rl(t));return e.forEach(function(e,r){Nl(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return ec()<=Vi.in.DEBUG&&nc("QueryEngine","Using full collection scan to execute query:",Ol(e)),this.Sn.getDocumentsMatchingQuery(t,e,gc.min())},t}(),hp=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new bh(hc),this.kn=new Kd(function(t){return el(t)},nl),this.$n=gc.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new up(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function fp(t,e,n,r){return new hp(t,e,n,r)}function dp(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s;return(0,Bi.Jh)(this,function(o){switch(o.label){case 0:return n=uc(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new up(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Fh(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)o=o.add(m[g].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function pp(t,e){var n=uc(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Kf.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);ac(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function gp(t){var e=uc(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function mp(t,e){var n=uc(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,c),function(t,e,n){return ac(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&o.push(n.qe.updateTargetData(t,c))}}});var a=Th();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(yp(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(gc.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(u)}return Kf.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function yp(t,e,n,r,i){var s=Fh();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Th();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(gc.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):nc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function vp(t,e){var n=uc(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function bp(t,e){var n=uc(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Kf.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new ad(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function wp(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,Bi.Jh)(this,function(a){switch(a.label){case 0:r=uc(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Yf(o=a.sent()))throw o;return nc("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function _p(t,e,n){var r=uc(t),i=gc.min(),s=Fh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=uc(t),i=r.kn.get(n);return void 0!==i?Kf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Al(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:gc.min(),n?s:Fh())}).next(function(t){return{documents:t,Bn:s}})})}function Ep(t,e){var n=uc(t),r=uc(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Sp(t){var e=uc(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=uc(t),i=Th(),s=hd(n),o=Yd(e),a=IDBKeyRange.lowerBound(s,!0);return o.$t({index:Rf.readTimeIndex,range:a},function(t,e){var n=cd(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:fd(s)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function Dp(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){return[2,(e=uc(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Yd(t),n=gc.min();return e.$t({index:Rf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=fd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Tp(t,e,n,r){return(0,Bi.mG)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return(0,Bi.Jh)(this,function(p){switch(p.label){case 0:for(i=uc(t),s=Fh(),o=Th(),a=kh(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,bp(i,function(t){return Al(_l(wc.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return yp(t,f,o,gc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,s,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Cp(t,e,n){return void 0===n&&(n=Fh()),(0,Bi.mG)(this,void 0,void 0,function(){var r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return[4,bp(t,Al(vd(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=uc(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Qh(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ke.saveNamedQuery(t,e);var o=r.withResumeToken(Dc.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var xp=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Kf.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Qh(n.createTime)}),Kf.resolve()},t.prototype.getNamedQuery=function(t,e){return Kf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:vd(t.bundledQuery),readTime:Qh(t.readTime)}}(e)),Kf.resolve()},t}(),Ap=function(){function t(){this.Wn=new Eh(kp.Gn),this.zn=new Eh(kp.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new kp(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new kp(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Pc(new wc([])),r=new kp(n,t),i=new kp(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Pc(new wc([])),n=new kp(e,t),r=new kp(e,t+1),i=Fh();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new kp(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),kp=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Pc.comparator(t.key,e.key)||hc(t.ns,e.ns)},t.Hn=function(t,e){return hc(t.ns,e.ns)||Pc.comparator(t.key,e.key)},t}(),Ip=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Eh(kp.Gn)}return t.prototype.checkEmpty=function(t){return Kf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new sd(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.rs=this.rs.add(new kp(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Kf.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return Kf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Kf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Kf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Kf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new kp(e,0),i=new kp(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),Kf.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Eh(hc);return e.forEach(function(t){var e=new kp(t,0),i=new kp(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Kf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Pc.isDocumentKey(i)||(i=i.child(""));var s=new kp(new Pc(i),0),o=new Eh(hc);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),Kf.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;ac(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Kf.forEach(e.mutations,function(i){var s=new kp(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new kp(e,0),r=this.rs.firstAfterOrEqual(n);return Kf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Kf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Fp=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new bh(Pc.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Kf.resolve(n?n.document.clone():Yc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Th();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Yc.newInvalidDocument(t))}),Kf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Th(),i=new Pc(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;c.compareTo(n)<=0||Nl(e,u)&&(r=r.insert(u.key,u.clone()))}return Kf.resolve(r)},t.prototype.fs=function(t,e){return Kf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Op(this)},t.prototype.getSize=function(t){return Kf.resolve(this.size)},t}(),Op=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Bi.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Kf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Zd),Np=function(){function t(t){this.persistence=t,this.ds=new Kd(function(t){return el(t)},nl),this.lastRemoteSnapshotVersion=gc.min(),this.highestTargetId=0,this.ws=0,this._s=new Ap,this.targetCount=0,this.ys=Pd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Kf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Kf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Kf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Kf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Kf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Pd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Kf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Kf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Kf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Kf.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return Kf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Kf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Kf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Kf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Kf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Kf.resolve(n)},t.prototype.containsKey=function(t,e){return Kf.resolve(this._s.containsKey(e))},t}(),Rp=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ju(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Np(this),this.Ut=new Ed,this.Ue=function(t,e){return new Fp(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new ud(e),this.Ke=new xp(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Ip(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;nc("MemoryPersistence","Starting transaction:",t);var i=new Pp(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Kf.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Pp=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Bi.ZT)(e,t),e}(Hf),Lp=function(){function t(t){this.persistence=t,this.As=new Ap,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw oc()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Kf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Kf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Kf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Kf.forEach(this.vs,function(r){var i=Pc.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Kf.or([function(){return Kf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Mp=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Up(t,e){return"firestore_clients_"+t+"_"+e}function jp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Bp(t,e){return"firestore_targets_"+t+"_"+e}Mp.UNAUTHENTICATED=new Mp(null),Mp.GOOGLE_CREDENTIALS=new Mp("google-credentials-uid"),Mp.FIRST_PARTY=new Mp("first-party-uid");var qp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Xu(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(rc("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Xu(i.error.code,i.error.message)),s?new t(e,i.state,r):(rc("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Nh(),o=0;i&&o<r.activeTargetIds.length;++o)i=Rc(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(rc("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Gp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(rc("SharedClientState","Failed to parse online state: "+e),null)},t}(),Hp=function(){function t(){this.activeTargetIds=Nh()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),$p=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new bh(hc),this.started=!1,this.$s=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Up(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Hp),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return(0,Bi.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Up(this.persistenceKey,r)))&&(s=zp.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Bp(this.persistenceKey,t));if(n){var r=Vp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Bp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return nc("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){nc("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){nc("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(nc("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void rc("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Bi.mG)(e,void 0,void 0,function(){var t,e,r,i,s,o;return(0,Bi.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Ju.o;if(null!=t)try{var n=JSON.parse(t);ac("number"==typeof n),e=n}catch(t){rc("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ju.o&&this.sequenceNumberHandler(o);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new qp(this.currentUser,t,e,n),i=jp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=jp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Bp(this.persistenceKey,t),i=new Vp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return zp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return qp.Vs(new Mp(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Vp.Vs(r,e)},t.prototype.js=function(t){return Gp.Vs(t)},t.prototype.ii=function(t){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(nc("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Nh();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Kp=function(){function t(){this.li=new Hp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Hp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Zp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Qp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){nc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){nc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Yp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Bi.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new Wu;o.listenOnce($u.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Hu.NO_ERROR:var e=o.getResponseJson();nc("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Hu.TIMEOUT:nc("Connection",'RPC "'+t+'" timed out'),s(new Xu(Yu.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:var n=o.getStatus();if(nc("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Yu).indexOf(e)>=0?e:Yu.UNKNOWN}(r.status);s(new Xu(a,r.message))}else s(new Xu(Yu.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Xu(Yu.UNAVAILABLE,"Connection failed."));break;default:oc()}}finally{nc("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Bu,i=Ro(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Zu({})),this.Fi(s.initMessageHeaders,e),(0,qi.uI)()||(0,qi.b$)()||(0,qi.d)()||(0,qi.w1)()||(0,qi.Mn)()||(0,qi.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");nc("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Jp({Ei:function(t){c?nc("Connection","Not sending because WebChannel is closed:",t):(u||(nc("Connection","Opening WebChannel transport."),a.open(),u=!0),nc("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Qu.EventType.OPEN,function(){c||nc("Connection","WebChannel transport opened.")}),h(a,Qu.EventType.CLOSE,function(){c||(c=!0,nc("Connection","WebChannel transport closed"),l.Vi())}),h(a,Qu.EventType.ERROR,function(t){c||(c=!0,ic("Connection","WebChannel transport errored:",t),l.Vi(new Xu(Yu.UNAVAILABLE,"The operation could not be completed")))}),h(a,Qu.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];ac(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){nc("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=fh[t];if(void 0!==e)return vh(e)}(i),o=r.message;void 0===s&&(s=Yu.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Xu(s,o)),a.close()}else nc("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Ku.STAT_EVENT,function(t){10===t.stat?nc("Connection","Detected buffering proxy"):11===t.stat&&nc("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);nc("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return nc("RestConnection","Received: ",t),t},function(e){throw ic("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Wp[t]},t}());function Xp(){return"undefined"!=typeof window?window:null}function tg(){return"undefined"!=typeof document?document:null}function eg(t){return new Hh(t,!0)}var ng=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&nc("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),rg=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ng(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Yu.RESOURCE_EXHAUSTED?(rc(e.toString()),rc("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Yu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Xu(Yu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Bi.mG)(t,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return nc("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(nc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ig=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return(0,Bi.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:oc()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(ac(void 0===e||"string"==typeof e),Dc.fromBase64String(e||"")):(ac(void 0===e||e instanceof Uint8Array),Dc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Yu.UNKNOWN:vh(t.code);return new Xu(e,t.message||"")}(a);n=new Uh(r,i,s,o||null)}else if("documentChange"in e){i=Xh(t,(r=e.documentChange).document.name),s=Qh(r.document.updateTime);var a=new Wc({mapValue:{fields:r.document.fields}}),u=(o=Yc.newFoundDocument(i,s,a),r.targetIds||[]);n=new Lh(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Xh(t,(r=e.documentDelete).document),s=r.readTime?Qh(r.readTime):gc.min(),a=Yc.newNoDocument(i,s),n=new Lh([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Xh(t,(r=e.documentRemove).document),n=new Lh([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return oc();var c=e.filter;i=new mh(r=c.count||0),n=new Mh(s=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return gc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?gc.min():e.readTime?Qh(e.readTime):gc.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=nf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=rl(r)?{documents:cf(t,r)}:{query:lf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Kh(t,e.resumeToken):e.snapshotVersion.compareTo(gc.min())>0&&(n.readTime=$h(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return oc()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=nf(this.R),e.removeTarget=t,this.cr(e)},e}(rg),sg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return(0,Bi.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(ac(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(ac(void 0!==e),t.map(function(t){return function(t,e){var n=Qh(t.updateTime?t.updateTime:e);return n.isEqual(gc.min())&&(n=Qh(e)),new Yl(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Qh(t.commitTime);return this.listener.Tr(n,e)}return ac(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=nf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return af(e.R,t)})};this.cr(n)},e}(rg),og=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Bi.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Xu(Yu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Yu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Xu(Yu.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Yu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Xu(Yu.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),ag=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(rc(e),this.Vr=!1):nc("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),ug=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Bi.mG)(s,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){switch(t.label){case 0:return yg(this)?(nc("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return(e=uc(t)).Or.add(4),[4,lg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,cg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new ag(n,r)};function cg(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e,n;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:if(!yg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function lg(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e,n;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function hg(t,e){var n=uc(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),mg(n)?gg(n):Og(n).er()&&dg(n,e))}function fg(t,e){var n=uc(t),r=Og(n);n.$r.delete(e),r.er()&&pg(n,e),0===n.$r.size&&(r.er()?r.ir():yg(n)&&n.Br.set("Unknown"))}function dg(t,e){t.qr.U(e.targetId),Og(t).mr(e)}function pg(t,e){t.qr.U(e),Og(t).yr(e)}function gg(t){t.qr=new Bh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Og(t).start(),t.Br.Sr()}function mg(t){return yg(t)&&!Og(t).tr()&&t.$r.size>0}function yg(t){return 0===uc(t).Or.size}function vg(t){t.qr=void 0}function bg(t){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){return t.$r.forEach(function(e,n){dg(t,e)}),[2]})})}function wg(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(n){return vg(t),mg(t)?(t.Br.Nr(e),gg(t)):t.Br.set("Unknown"),[2]})})}function _g(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i,s;return(0,Bi.Jh)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Uh&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s;return(0,Bi.Jh)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.$r.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.$r.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),nc("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Eg(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Lh?t.qr.X(e):e instanceof Mh?t.qr.rt(e):t.qr.et(e),n.isEqual(gc.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,gp(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Dc.EMPTY_BYTE_STRING,n.snapshotVersion)),pg(t,e);var r=new ad(n.target,e,1,n.sequenceNumber);dg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return nc("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Eg(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Eg(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r=this;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:if(!Yf(e))throw e;return t.Or.add(1),[4,lg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return gp(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Bi.mG)(r,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return nc("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,cg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Sg(t,e){return e().catch(function(n){return Eg(t,n,e)})}function Dg(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e,n,r,i,s;return(0,Bi.Jh)(this,function(o){switch(o.label){case 0:e=uc(t),n=Ng(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return yg(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,vp(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Ng(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Eg(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Tg(e)&&Cg(e),[2]}})})}function Tg(t){return yg(t)&&!Ng(t).tr()&&t.kr.length>0}function Cg(t){Ng(t).start()}function xg(t){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){return Ng(t).Ar(),[2]})})}function Ag(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Bi.Jh)(this,function(i){for(e=Ng(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function kg(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=od.from(r,e,n),[4,Sg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Dg(t)];case 2:return s.sent(),[2]}})})}function Ig(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return e&&Ng(t).pr?[4,function(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return yh(r=e.code)&&r!==Yu.ABORTED?(n=t.kr.shift(),Ng(t).sr(),[4,Sg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Dg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Tg(t)&&Cg(t),[2]}})})}function Fg(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return n=uc(t),e?(n.Or.delete(2),[4,cg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,lg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Og(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=uc(t);return r.br(),new ig(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:bg.bind(null,t),Ri:wg.bind(null,t),_r:_g.bind(null,t)}),t.Mr.push(function(n){return(0,Bi.mG)(e,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),mg(t)?gg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),vg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Ng(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=uc(t);return r.br(),new sg(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:xg.bind(null,t),Ri:Ig.bind(null,t),Ir:Ag.bind(null,t),Tr:kg.bind(null,t)}),t.Mr.push(function(n){return(0,Bi.mG)(e,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Dg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.kr.length>0&&(nc("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Rg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $f,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Xu(Yu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Pg(t,e){if(rc("AsyncQueue",e+": "+t),Yf(t))return new Xu(Yu.UNAVAILABLE,e+": "+t);throw t}var Lg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Pc.comparator(e.key,n.key)}:function(t,e){return Pc.comparator(t.key,e.key)},this.keyedMap=xh(),this.sortedSet=new bh(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Mg=function(){function t(){this.Qr=new bh(Pc.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):oc():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Ug=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,Lg.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Il(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),jg=function(){this.Wr=void 0,this.listeners=[]},Bg=function(){this.queries=new Kd(function(t){return Fl(t)},Il),this.onlineState="Unknown",this.Gr=new Set};function qg(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return(0,Bi.Jh)(this,function(c){switch(c.label){case 0:if(n=uc(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new jg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=Pg(a,"Initialization of query '"+Ol(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Hg(n),[2]}})})}function Vg(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,Bi.Jh)(this,function(a){return n=uc(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function zg(t,e){for(var n=uc(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(o)&&(r=!0);a.Wr=o}}r&&Hg(n)}function Gg(t,e,n){var r=uc(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function Hg(t){t.Gr.forEach(function(t){t.next()})}var $g=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ug(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Ug.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Kg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Zg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Xh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?of(this.R,t.document,!1):Yc.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Qh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Zg(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Fh()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return[4,Tp(this.localStore,new Zg(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,Cp(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ap(Object.assign({},this.progress),t))]}})})}}();var Qg=function(t){this.key=t},Wg=function(t){this.key=t},Jg=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Fh(),this.mutatedKeys=Fh(),this.lo=Rl(t),this.fo=new Lg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Mg,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=El(this.query)&&i.size===this.query.limit?i.last():null,c=Sl(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Nl(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),El(this.query)||Sl(this.query))for(;o.size>this.query.limit;){var l=El(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oc()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==s.length||u?{snapshot:new Ug(this.query,t.fo,i,s,t.mutatedKeys,0===a,u,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Mg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Fh(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Wg(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Qg(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Fh();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Ug.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Yg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Xg=function(t){this.key=t,this.bo=!1},tm=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new Kd(function(t){return Fl(t)},Il),this.Vo=new Map,this.So=new Set,this.Do=new bh(Pc.comparator),this.Co=new Map,this.No=new Ap,this.xo={},this.Fo=new Map,this.ko=Pd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function em(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,Bi.Jh)(this,function(a){switch(a.label){case 0:return n=Im(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,bp(n.localStore,Al(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,nm(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&hg(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function nm(t,e,n,r){return(0,Bi.mG)(this,void 0,void 0,function(){var i,s,o,a,u,c;return(0,Bi.Jh)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Bi.mG)(this,void 0,void 0,function(){var i,s,o;return(0,Bi.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,_p(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(gm(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,_p(t.localStore,e,!0)];case 1:return i=l.sent(),s=new Jg(e,i.Bn),o=s._o(i.documents),a=Ph.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a),gm(t,n,u.To),c=new Yg(e,n,s),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function rm(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return n=uc(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Il(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,wp(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),fg(n.remoteStore,r.targetId),dm(n,r.targetId)}).catch(Bd)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return dm(n,r.targetId),[4,wp(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function im(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,Bi.Jh)(this,function(a){switch(a.label){case 0:r=Fm(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=uc(t),i=pc.now(),s=e.reduce(function(t,e){return t.add(e.key)},Fh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=ih(c,n.get(c.key));null!=l&&o.push(new uh(c.key,l,Jc(l.value.mapValue),Xl.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new bh(hc)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,vm(r,i.changes)];case 3:return a.sent(),[4,Dg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=Pg(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function sm(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:n=uc(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,mp(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(ac(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?ac(r.bo):t.removedDocuments.size>0&&(ac(r.bo),r.bo=!1))}),[4,vm(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Bd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function om(t,e,n){var r=uc(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=uc(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&Hg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function am(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i,s,o,a,u;return(0,Bi.Jh)(this,function(c){switch(c.label){case 0:return(r=uc(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new bh(Pc.comparator)).insert(s,Yc.newNoDocument(s,gc.min())),a=Fh().add(s),u=new Rh(gc.min(),new Map,new Eh(hc),o,a),[4,sm(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),ym(r),[3,4];case 2:return[4,wp(r.localStore,e,!1).then(function(){return dm(r,e,n)}).catch(Bd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function um(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:n=uc(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,pp(n.localStore,e)];case 2:return i=s.sent(),fm(n,r,null),hm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,vm(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Bd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function cm(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:r=uc(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=uc(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return ac(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),fm(r,e,n),hm(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,vm(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Bd(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function lm(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s,o;return(0,Bi.Jh)(this,function(a){switch(a.label){case 0:yg((n=uc(t)).remoteStore)||nc("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=uc(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=Pg(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function hm(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function fm(t,e,n){var r=uc(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function dm(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||pm(t,e)})}function pm(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(fg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ym(t))}function gm(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof Qg?(t.No.addReference(s.key,e),mm(t,s)):s instanceof Wg?(nc("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||pm(t,s.key)):oc()}}function mm(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(nc("SyncEngine","New document in limbo: "+n),t.So.add(r),ym(t))}function ym(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Pc(wc.fromString(e)),r=t.ko.next();t.Co.set(r,new Xg(n)),t.Do=t.Do.insert(n,r),hg(t.remoteStore,new ad(Al(_l(n.path)),r,2,Ju.o))}}function vm(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i,s,o;return(0,Bi.Jh)(this,function(a){switch(a.label){case 0:return r=uc(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=cp.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return(0,Bi.Jh)(this,function(l){switch(l.label){case 0:n=uc(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Kf.forEach(e,function(e){return Kf.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Kf.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Yf(r=l.sent()))throw r;return nc("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function bm(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return(n=uc(t)).currentUser.isEqual(e)?[3,3]:(nc("SyncEngine","User change. New user:",e.toKey()),[4,dp(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Xu(Yu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,vm(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function wm(t,e){var n=uc(t),r=n.Co.get(e);if(r&&r.bo)return Fh().add(r.key);var i=Fh(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.Po.get(a[o]);i=i.unionWith(u.view.wo)}return i}function _m(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return[4,_p((n=uc(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&gm(n,e.targetId,i.To),i)]}})})}function Em(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){return[2,Sp((e=uc(t)).localStore).then(function(t){return vm(e,t)})]})})}function Sm(t,e,n,r){return(0,Bi.mG)(this,void 0,void 0,function(){var i,s;return(0,Bi.Jh)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=uc(t),r=uc(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Kf.resolve(null)})})}((i=uc(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Dg(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(fm(i,e,r||null),hm(i,e),function(t,e){uc(uc(t)._n).Gt(e)}(i.localStore,e)):oc(),o.label=4;case 4:return[4,vm(i,s)];case 5:return o.sent(),[3,7];case 6:nc("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Dm(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return(0,Bi.Jh)(this,function(c){switch(c.label){case 0:return Im(n=uc(t)),Fm(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Tm(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Fg(n.remoteStore,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)hg(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return dm(n,e),wp(n.localStore,e,!0)}),fg(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,Tm(n,a)];case 5:return c.sent(),function(t){var e=uc(t);e.Co.forEach(function(t,n){fg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new bh(Pc.comparator)}(n),n.$o=!1,[4,Fg(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Tm(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return(0,Bi.Jh)(this,function(g){switch(g.label){case 0:n=uc(t),r=[],i=[],s=0,o=e,g.label=1;case 1:return s<o.length?(u=void 0,(c=n.Vo.get(a=o[s]))&&0!==c.length?[4,bp(n.localStore,Al(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,_m(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ep(n.localStore,a)];case 8:return p=g.sent(),[4,bp(n.localStore,p)];case 9:return u=g.sent(),[4,nm(n,Cm(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Cm(t){return wl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xm(t){var e=uc(t);return uc(uc(e.localStore).persistence).fn()}function Am(t,e,n,r){return(0,Bi.mG)(this,void 0,void 0,function(){var i,s,o;return(0,Bi.Jh)(this,function(a){switch(a.label){case 0:return(i=uc(t)).$o?(nc("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Sp(i.localStore)];case 3:return s=a.sent(),o=Rh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,vm(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,wp(i.localStore,e,!0)];case 6:return a.sent(),dm(i,e,r),[3,8];case 7:oc(),a.label=8;case 8:return[2]}})})}function km(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return(0,Bi.Jh)(this,function(f){switch(f.label){case 0:if(!(r=Im(t)).$o)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(nc("SyncEngine","Adding an already active target "+o),[3,5]):[4,Ep(r.localStore,o)]:[3,6];case 2:return a=f.sent(),[4,bp(r.localStore,a)];case 3:return u=f.sent(),[4,nm(r,Cm(a),u.targetId,!1)];case 4:f.sent(),hg(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,wp(r.localStore,t,!1).then(function(){fg(r.remoteStore,t),dm(r,t)}).catch(Bd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Im(t){var e=uc(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=am.bind(null,e),e.vo._r=zg.bind(null,e.eventManager),e.vo.Mo=Gg.bind(null,e.eventManager),e}function Fm(t){var e=uc(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=um.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cm.bind(null,e),e}var Om=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return this.R=eg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return fp(this.persistence,new lp,t.initialUser,this.R)},t.prototype.qo=function(t){return new Rp(Lp.bs,this.R)},t.prototype.Bo=function(t){return new Kp},t.prototype.terminate=function(){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Bi.ZT)(e,t),e.prototype.initialize=function(e){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Dp(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,e)];case 3:return n.sent(),[4,Fm(this.Qo.syncEngine)];case 4:return n.sent(),[4,Dg(this.Qo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ko=function(t){return fp(this.persistence,new lp,t.initialUser,this.R)},e.prototype.Uo=function(t){return new zd(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=op(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xd.withCacheSize(this.cacheSizeBytes):xd.DEFAULT;return new rp(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Xp(),tg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Kp},e}(Om),Rm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Bi.ZT)(e,t),e.prototype.initialize=function(e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof $p?(this.sharedClientState.syncEngine={ui:Sm.bind(null,n),ai:Am.bind(null,n),hi:km.bind(null,n),fn:xm.bind(null,n),ci:Em.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Bi.mG)(r,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return[4,Dm(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Xp();if(!$p.yt(e))throw new Xu(Yu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=op(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new $p(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Nm),Pm=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n=this;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return om(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=bm.bind(null,this.syncEngine),[4,Fg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Bg},t.prototype.createDatastore=function(t){var e=eg(t.databaseInfo.databaseId),n=new Yp(t.databaseInfo);return function(t,e,n){return new og(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return om(o.syncEngine,t,0)},s=Qp.yt()?new Qp:new Zp,new ug(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new tm(t,e,n,r,i,s);return o&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return e=uc(t),nc("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,lg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),Lm=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Mm=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new $f,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Kg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t,e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t,e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Xu(Yu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i,s,o,a;return(0,Bi.Jh)(this,function(u){switch(u.label){case 0:return n=uc(t),r=nf(n.R)+"/documents",i={documents:e.map(function(t){return Yh(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){ac(!!e.found);var n=Xh(t,e.found.name),r=Qh(e.found.updateTime),i=new Wc({mapValue:{fields:e.found.fields}});return Yc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){ac(!!e.missing),ac(!!e.readTime);var n=Xh(t,e.missing),r=Qh(e.readTime);return Yc.newNoDocument(n,r)}(t,e):oc()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());ac(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new ph(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Pc.fromPath(n);e.mutations.push(new gh(r,e.precondition(r)))}),[4,function(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return n=uc(t),r=nf(n.R)+"/documents",i={writes:e.map(function(t){return af(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw oc();e=gc.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Xu(Yu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Xl.updateTime(e):Xl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gc.min()))throw new Xu(Yu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Xl.updateTime(e)}return Xl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Um=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ng(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Bi.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Bi.Jh)(this,function(r){return t=new Mm(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Oc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!yh(e)}return!1},t}(),jm=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Mp.UNAUTHENTICATED,this.clientId=lc.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Bi.mG)(r,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return nc("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Xu(Yu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new $f;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Bi.mG)(t,void 0,void 0,function(){var t,n;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Pg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Bm(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),nc("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Bi.mG)(i,void 0,void 0,function(){return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,dp(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function qm(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Vm(t)];case 1:return n=i.sent(),nc("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Bi.mG)(this,void 0,void 0,function(){var n,r;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return(n=uc(t)).asyncQueue.verifyOperationInProgress(),nc("RemoteStore","RemoteStore received new credentials"),r=yg(n),n.Or.add(3),[4,lg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,cg(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Vm(t){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(nc("FirestoreClient","Using default OfflineComponentProvider"),[4,Bm(t,new Om)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function zm(t){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(nc("FirestoreClient","Using default OnlineComponentProvider"),[4,qm(t,new Pm)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Gm(t){return Vm(t).then(function(t){return t.persistence})}function Hm(t){return Vm(t).then(function(t){return t.localStore})}function $m(t){return zm(t).then(function(t){return t.remoteStore})}function Km(t){return zm(t).then(function(t){return t.syncEngine})}function Zm(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e,n;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return[4,zm(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=em.bind(null,e.syncEngine),n.onUnlisten=rm.bind(null,e.syncEngine),n)]}})})}function Qm(t,e,n){var r=this;void 0===n&&(n={});var i=new $f;return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(r,void 0,void 0,function(){var r;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Lm({next:function(s){e.enqueueAndForget(function(){return Vg(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Xu(Yu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Xu(Yu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new $g(_l(n.path),s,{includeMetadataChanges:!0,so:!0});return qg(t,o)},[4,Zm(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Wm(t,e,n){var r=this;void 0===n&&(n={});var i=new $f;return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(r,void 0,void 0,function(){var r;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new Lm({next:function(n){e.enqueueAndForget(function(){return Vg(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Xu(Yu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new $g(n,s,{includeMetadataChanges:!0,so:!0});return qg(t,o)},[4,Zm(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Jm=function(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a},Ym=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Xm=new Map,ty=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ey=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Mp.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ny=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ry=function(){function t(t){var e=this;this.currentUser=Mp.UNAUTHENTICATED,this.oc=new $f,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){nc("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(nc("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(nc("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(ac("string"==typeof n.accessToken),new ty(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Bi.mG)(n,void 0,void 0,function(){return(0,Bi.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ac(null===t||"string"==typeof t),new Mp(t)},t}(),iy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Mp.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),sy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new iy(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Mp.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function oy(t,e,n){if(!n)throw new Xu(Yu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function ay(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function uy(t,e,n,r){if(!0===e&&!0===r)throw new Xu(Yu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function cy(t){if(!Pc.isDocumentKey(t))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ly(t){if(Pc.isDocumentKey(t))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function hy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":oc()}function fy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xu(Yu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=hy(t);throw new Xu(Yu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function dy(t,e){if(e<=0)throw new Xu(Yu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var py=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Xu(Yu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Xu(Yu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,uy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),gy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new py({}),this._settingsFrozen=!1,t instanceof Ym?(this._databaseId=t,this._credentials=new ey):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Xu(Yu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ym(t.options.projectId)}(t),this._credentials=new ry(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Xu(Yu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Xu(Yu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new py(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ey;switch(t.type){case"gapi":var e=t.client;return ac(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new sy(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Xu(Yu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Xm.get(this))&&(nc("ComponentProvider","Removing Datastore"),Xm.delete(this),t.terminate()),Promise.resolve();var t},t}(),my=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),yy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),vy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,_l(r))||this)._path=r,i.type="collection",i}return(0,Bi.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new my(this.firestore,null,new Pc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(yy);function by(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,qi.m9)(t),oy("collection","path",e),t instanceof gy)return ly(n=wc.fromString.apply(wc,(0,Bi.ev)([e],r))),new vy(t,null,n);if(!(t instanceof my||t instanceof vy))throw new Xu(Yu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ly(n=wc.fromString.apply(wc,(0,Bi.ev)([t.path],r)).child(wc.fromString(e))),new vy(t.firestore,null,n)}function wy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,qi.m9)(t),1===arguments.length&&(e=lc.u()),oy("doc","path",e),t instanceof gy)return cy(n=wc.fromString.apply(wc,(0,Bi.ev)([e],r))),new my(t,null,new Pc(n));if(!(t instanceof my||t instanceof vy))throw new Xu(Yu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cy(n=t._path.child(wc.fromString.apply(wc,(0,Bi.ev)([e],r)))),new my(t.firestore,t instanceof vy?t.converter:null,new Pc(n))}function _y(t,e){return t=(0,qi.m9)(t),e=(0,qi.m9)(e),(t instanceof my||t instanceof vy)&&(e instanceof my||e instanceof vy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Ey(t,e){return t=(0,qi.m9)(t),e=(0,qi.m9)(e),t instanceof yy&&e instanceof yy&&t.firestore===e.firestore&&Il(t._query,e._query)&&t.converter===e.converter}var Sy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new ng(this,"async_queue_retry"),this.Tc=function(){var e=tg();e&&nc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=tg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=tg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise(function(t){}):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.Rc()})},t.prototype.Rc=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Yf(t=n.sent()))throw t;return nc("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.Rc()}),n.label=5;case 5:return[2]}})})},t.prototype.Ac=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,rc("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=Rg.createAndSchedule(this,t,e,n,function(t){return r.bc(t)});return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&oc()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return(0,Bi.mG)(this,void 0,void 0,function(){var t;return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()})},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Dy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new $f,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Ty=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Sy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Bi.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||xy(this),this._firestoreClient.terminate()},e}(gy);function Cy(t){return t._firestoreClient||xy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function xy(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Jm(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new jm(t._credentials,t._queue,r)}function Ay(t,e,n){var r=this,i=new $f;return t.asyncQueue.enqueue(function(){return(0,Bi.mG)(r,void 0,void 0,function(){var r;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Bm(t,n)];case 1:return s.sent(),[4,qm(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Yu.FAILED_PRECONDITION||t.code===Yu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function ky(t){if(t._initialized||t._terminated)throw new Xu(Yu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Iy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ec(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Fy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Dc.fromBase64String(e))}catch(e){throw new Xu(Yu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Dc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Oy=function(t){this._methodName=t},Ny=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Xu(Yu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Xu(Yu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return hc(this._lat,t._lat)||hc(this._long,t._long)},t}(),Ry=/^__.*__$/,Py=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new uh(t,this.data,this.fieldMask,e,this.fieldTransforms):new ah(t,this.data,e,this.fieldTransforms)},t}(),Ly=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new uh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function My(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oc()}}var Uy=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return iv(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(My(this.Cc)&&Ry.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),jy=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||eg(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new Uy({Cc:t,methodName:e,Bc:n,path:Ec.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function By(t){var e=t._freezeSettings(),n=eg(t._databaseId);return new jy(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qy(t,e,n,r,i,s){void 0===s&&(s={});var o=t.qc(s.merge||s.mergeFields?2:0,e,n,i);tv("Data must be an object, but it was:",o,r);var a,u,c=Yy(r,o);if(s.merge)a=new Sc(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=ev(e,f[h],n);if(!o.contains(d))throw new Xu(Yu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");sv(l,d)||l.push(d)}a=new Sc(l),u=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=o.fieldTransforms;return new Py(new Wc(c),a,u)}var Vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Bi.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Oy);function zy(t,e,n){return new Uy({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Gy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Bi.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Jl(t.path,new zl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Oy),Hy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,Bi.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=zy(this,t,!0),n=this.Uc.map(function(t){return Jy(t,e)}),r=new Gl(n);return new Jl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Oy),$y=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,Bi.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=zy(this,t,!0),n=this.Uc.map(function(t){return Jy(t,e)}),r=new $l(n);return new Jl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Oy),Ky=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Bi.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new Zl(t.R,Ul(t.R,this.Kc));return new Jl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Oy);function Zy(t,e,n,r){var i=t.qc(1,e,n);tv("Data must be an object, but it was:",i,r);var s=[],o=Wc.empty();yc(r,function(t,r){var a=rv(e,t,n);r=(0,qi.m9)(r);var u=i.$c(a);if(r instanceof Vy)s.push(a);else{var c=Jy(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Sc(s);return new Ly(o,a,i.fieldTransforms)}function Qy(t,e,n,r,i,s){var o=t.qc(1,e,n),a=[ev(e,r,n)],u=[i];if(s.length%2!=0)throw new Xu(Yu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(ev(e,s[c])),u.push(s[c+1]);for(var l=[],h=Wc.empty(),f=a.length-1;f>=0;--f)if(!sv(l,a[f])){var d=a[f],p=u[f];p=(0,qi.m9)(p);var g=o.$c(d);if(p instanceof Vy)l.push(d);else{var m=Jy(p,g);null!=m&&(l.push(d),h.set(d,m))}}var y=new Sc(l);return new Ly(h,y,o.fieldTransforms)}function Wy(t,e,n,r){return void 0===r&&(r=!1),Jy(n,t.qc(r?4:3,e))}function Jy(t,e){if(Xy(t=(0,qi.m9)(t)))return tv("Unsupported field value:",e,t),Yy(t,e);if(t instanceof Oy)return function(t,e){if(!My(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Jy(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,qi.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ul(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=pc.fromDate(t);return{timestampValue:$h(e.R,n)}}if(t instanceof pc)return n=new pc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:$h(e.R,n)};if(t instanceof Ny)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fy)return{bytesValue:Kh(e.R,t._byteString)};if(t instanceof my){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Wh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+hy(t))}(t,e)}function Yy(t,e){var n={};return vc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yc(t,function(t,r){var i=Jy(r,e.xc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Xy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof pc||t instanceof Ny||t instanceof Fy||t instanceof my||t instanceof Oy)}function tv(t,e,n){if(!Xy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=hy(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function ev(t,e,n){if((e=(0,qi.m9)(e))instanceof Iy)return e._internalPath;if("string"==typeof e)return rv(t,e);throw iv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var nv=new RegExp("[~\\*/\\[\\]]");function rv(t,e,n){if(e.search(nv)>=0)throw iv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Iy.bind.apply(Iy,(0,Bi.ev)([void 0],e.split(".")))))._internalPath}catch(ib){throw iv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function iv(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Xu(Yu.INVALID_ARGUMENT,(a+=". ")+t+u)}function sv(t,e){return t.some(function(t){return t.isEqual(e)})}var ov=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new my(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new av(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(uv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Bi.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(ov);function uv(t,e){return"string"==typeof e?rv(t,e):e instanceof Iy?e._internalPath:e._delegate._internalPath}var cv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),lv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return(0,Bi.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new hv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(uv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(ov),hv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Bi.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(lv),fv=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new cv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new hv(n._firestore,n._userDataWriter,r.key,r,new cv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Xu(Yu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new hv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new cv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new hv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new cv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:dv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function dv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oc()}}function pv(t,e){return t instanceof lv&&e instanceof lv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof fv&&e instanceof fv&&t._firestore===e._firestore&&Ey(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function gv(t){if(Sl(t)&&0===t.explicitOrderBy.length)throw new Xu(Yu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var mv=function(){};function yv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var vv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.jc=n,i.Wc=r,i.type="where",i}return(0,Bi.ZT)(e,t),e.prototype._apply=function(t){var e=By(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Tv(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Dv(r,t,l[c]));a={arrayValue:{values:u}}}else a=Dv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Tv(o,s),a=Wy(n,"where",o,"in"===s||"not-in"===s);var h=il.create(i,s,a);return function(t,e){if(e.g()){var n=Tl(t);if(null!==n&&!n.isEqual(e.field))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Dl(t);null!==r&&Cv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Xu(Yu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.jc,this.Wc);return new yy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(mv),bv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Gc=n,r.type="orderBy",r}return(0,Bi.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new gl(e,n);return function(t,e){if(null===Dl(t)){var n=Tl(t);null!==n&&Cv(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Gc);return new yy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new bl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(mv),wv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return(0,Bi.ZT)(e,t),e.prototype._apply=function(t){return new yy(t.firestore,t.converter,kl(t._query,this.zc,this.Hc))},e}(mv),_v=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,Bi.ZT)(e,t),e.prototype._apply=function(t){var e=Sv(t,this.type,this.Jc,this.Yc);return new yy(t.firestore,t.converter,function(t,e){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(mv),Ev=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return(0,Bi.ZT)(e,t),e.prototype._apply=function(t){var e=Sv(t,this.type,this.Jc,this.Yc);return new yy(t.firestore,t.converter,function(t,e){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(mv);function Sv(t,e,n,r){if(n[0]=(0,qi.m9)(n[0]),n[0]instanceof ov)return function(t,e,n,r,i){if(!r)throw new Xu(Yu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=xl(t);o<a.length;o++){var u=a[o];if(u.field.isKeyField())s.push(zc(e,r.key));else{var c=r.data.field(u.field);if(kc(c))throw new Xu(Yu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new dl(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=By(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Xu(Yu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Cl(t)&&-1!==c.indexOf("/"))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(wc.fromString(c));if(!Pc.isDocumentKey(l))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Pc(l);a.push(zc(e,h))}else{var f=Wy(n,r,c);a.push(f)}}return new dl(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function Dv(t,e,n){if("string"==typeof(n=(0,qi.m9)(n))){if(""===n)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cl(e)&&-1!==n.indexOf("/"))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wc.fromString(n));if(!Pc.isDocumentKey(r))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return zc(t,new Pc(r))}if(n instanceof my)return zc(t,n._key);throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hy(n)+".")}function Tv(t,e){if(!Array.isArray(t)||0===t.length)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Cv(t,e,n){if(!n.isEqual(e))throw new Xu(Yu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var xv=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Lc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ac(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw oc()}},t.prototype.convertObject=function(t,e){var n=this,r={};return yc(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Ny(xc(t.latitude),xc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Ic(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Fc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Cc(t);return new pc(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=wc.fromString(t);ac(Ef(n));var r=new Ym(n.get(1),n.get(3)),i=new Pc(n.popFirst(5));return r.isEqual(e)||rc("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Av(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var kv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Bi.ZT)(e,t),e.prototype.convertBytes=function(t){return new Fy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new my(this.firestore,null,e)},e}(xv),Iv=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=By(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Fv(t,this._firestore),i=Av(r.converter,e,n),s=qy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Xl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=Fv(t,this._firestore);return s="string"==typeof(e=(0,qi.m9)(e))||e instanceof Iy?Qy(this._dataReader,"WriteBatch.update",o._key,e,n,r):Zy(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Xl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Fv(t,this._firestore);return this._mutations=this._mutations.concat(new ph(e._key,Xl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Xu(Yu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Fv(t,e){if((t=(0,qi.m9)(t)).firestore!==e)throw new Xu(Yu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ov=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Bi.ZT)(e,t),e.prototype.convertBytes=function(t){return new Fy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new my(this.firestore,null,e)},e}(xv);function Nv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=fy(t,my);var s=fy(t.firestore,Ty),o=By(s);return Pv(s,[("string"==typeof(e=(0,qi.m9)(e))||e instanceof Iy?Qy(o,"updateDoc",t._key,e,n,r):Zy(o,"updateDoc",t._key,e)).toMutation(t._key,Xl.exists(!0))])}function Rv(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=(0,qi.m9)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Dy(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(Dy(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof my)c=fy(t.firestore,Ty),l=_l(t._key.path),u={next:function(e){i[a]&&i[a](Lv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=fy(t,yy);c=fy(d.firestore,Ty),l=d._query;var p=new Ov(c);u={next:function(t){i[a]&&i[a](new fv(c,p,d,t))},error:i[a+1],complete:i[a+2]},gv(t._query)}return function(t,e,n,r){var i=this,s=new Lm(r),o=new $g(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(i,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return e=qg,[4,Zm(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(i,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return e=Vg,[4,Zm(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Cy(c),l,h,u)}function Pv(t,e){return function(t,e){var n=this,r=new $f;return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(n,void 0,void 0,function(){var n;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return n=im,[4,Km(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Cy(t),e)}function Lv(t,e,n){var r=n.docs.get(e._key),i=new Ov(t);return new lv(t,i,e._key,r,new cv(n.hasPendingWrites,n.fromCache),e.converter)}var Mv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Bi.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Fv(e,this._firestore),i=new Ov(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new lv(n._firestore,i,r._key,t._document,new cv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=By(t)}return t.prototype.get=function(t){var e=this,n=Fv(t,this._firestore),r=new kv(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return oc();var i=t[0];if(i.isFoundDocument())return new ov(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new ov(e._firestore,r,n._key,null,n.converter);throw oc()})},t.prototype.set=function(t,e,n){var r=Fv(t,this._firestore),i=Av(r.converter,e,n),s=qy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Fv(t,this._firestore);return s="string"==typeof(e=(0,qi.m9)(e))||e instanceof Iy?Qy(this._dataReader,"Transaction.update",o._key,e,n,r):Zy(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=Fv(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Uv(){if("undefined"==typeof Uint8Array)throw new Xu(Yu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function jv(){if("undefined"==typeof atob)throw new Xu(Yu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Bv=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return jv(),new t(Fy.fromBase64String(e))},t.fromUint8Array=function(e){return Uv(),new t(Fy.fromUint8Array(e))},t.prototype.toBase64=function(){return jv(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Uv(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),qv=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ky(t=fy(t,Ty));var n=Cy(t),r=t._freezeSettings(),i=new Pm;return Ay(n,i,new Nm(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ky(t=fy(t,Ty));var e=Cy(t),n=t._freezeSettings(),r=new Pm;return Ay(e,r,new Rm(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Xu(Yu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new $f;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Bi.mG)(e,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Bi.mG)(this,void 0,void 0,function(){return(0,Bi.Jh)(this,function(e){switch(e.label){case 0:return Qf.yt()?[4,Qf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(op(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Vv=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ym||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=fy(t,gy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=(0,qi.Sg)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Xu(Yu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new ny(new ty(s,new Mp(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Bi.mG)(e,void 0,void 0,function(){var e,n;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return[4,Gm(t)];case 1:return e=r.sent(),[4,$m(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=uc(t);return e.Or.delete(0),cg(e)}(n))]}})})})}(Cy(fy(this._delegate,Ty)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Bi.mG)(e,void 0,void 0,function(){var e,n;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return[4,Gm(t)];case 1:return e=r.sent(),[4,$m(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Bi.mG)(this,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return(e=uc(t)).Or.add(0),[4,lg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Cy(fy(this._delegate,Ty)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&uy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new $f;return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(e,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(r){switch(r.label){case 0:return e=lm,[4,Km(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Cy(fy(this._delegate,Ty)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Lm(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(n,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){uc(t).Gr.add(e),e.next()},[4,Zm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(n,void 0,void 0,function(){var e;return(0,Bi.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){uc(t).Gr.delete(e)},[4,Zm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Cy(t=fy(t,Ty)),Dy(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Xu(Yu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new nb(this,by(this._delegate,t))}catch(t){throw Zv(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Kv(this,wy(this._delegate,t))}catch(t){throw Zv(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Xv(this,function(t,e){if(t=fy(t,gy),oy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new yy(t,null,function(t){return new bl(wc.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Zv(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new $f;return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(n,void 0,void 0,function(){var n;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return zm(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Um(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Cy(t),function(n){return e(new Mv(t,n))})}(this._delegate,function(n){return t(new Gv(e,n))})},t.prototype.batch=function(){var t=this;return Cy(this._delegate),new Hv(new Iv(this._delegate,function(e){return Pv(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Xu(Yu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Xu(Yu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),zv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Bi.ZT)(e,t),e.prototype.convertBytes=function(t){return new Bv(new Fy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Kv.tu(e,this.firestore,null)},e}(xv),Gv=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new zv(t)}return t.prototype.get=function(t){var e=this,n=rb(t);return this._delegate.get(n).then(function(t){return new Jv(e._firestore,new lv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=rb(t);return n?(ay("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=rb(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,(0,Bi.ev)([o,e,n],i)),this},t.prototype.delete=function(t){var e=rb(t);return this._delegate.delete(e),this},t}(),Hv=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=rb(t);return n?(ay("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=rb(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,(0,Bi.ev)([o,e,n],i)),this},t.prototype.delete=function(t){var e=rb(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),$v=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new hv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Yv(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new zv(e),n),i.set(n,s)),s},t}();$v.nu=new WeakMap;var Kv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new zv(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Xu(Yu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new my(n._delegate,r,new Pc(e)))},t.tu=function(e,n,r){return new t(n,new my(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new nb(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new nb(this.firestore,by(this._delegate,t))}catch(t){throw Zv(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,qi.m9)(t))instanceof my&&_y(this._delegate,t)},t.prototype.set=function(t,e){e=ay("DocumentReference.set",e);try{return function(t,e,n){t=fy(t,my);var r=fy(t.firestore,Ty),i=Av(t.converter,e,n);return Pv(r,[qy(By(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Xl.none())])}(this._delegate,t,e)}catch(t){throw Zv(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Nv(this._delegate,t):Nv.apply(void 0,(0,Bi.ev)([this._delegate,t,e],n))}catch(t){throw Zv(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Pv(fy((t=this._delegate).firestore,Ty),[new ph(t._key,Xl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qv(e),i=Wv(e,function(e){return new Jv(t.firestore,new lv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Rv(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=fy(t,my);var e=fy(t.firestore,Ty),n=Cy(e),r=new Ov(e);return function(t,e){var n=this,r=new $f;return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(n,void 0,void 0,function(){var n;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i;return(0,Bi.Jh)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=uc(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Xu(Yu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=Pg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Hm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new lv(e,r,t._key,n,new cv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=fy(t,my);var e=fy(t.firestore,Ty);return Qm(Cy(e),t._key,{source:"server"}).then(function(n){return Lv(e,t,n)})}(this._delegate):function(t){t=fy(t,my);var e=fy(t.firestore,Ty);return Qm(Cy(e),t._key).then(function(n){return Lv(e,t,n)})}(this._delegate)).then(function(t){return new Jv(e.firestore,new lv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?$v.eu(this.firestore,e):null))},t}();function Zv(t,e,n){return t.message=t.message.replace(e,n),t}function Qv(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Dy(r))return r}return{}}function Wv(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Dy(t[0])?t[0]:Dy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Jv=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Kv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return pv(this._delegate,t._delegate)},t}(),Yv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Bi.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Jv),Xv=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new zv(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,yv(this._delegate,function(t,e,n){var r=e,i=uv("where",t);return new vv(i,r,n)}(e,n,r)))}catch(e){throw Zv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,yv(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=uv("orderBy",t);return new bv(r,n)}(e,n)))}catch(e){throw Zv(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,yv(this._delegate,function(t){return dy("limit",t),new wv("limit",t,"F")}(e)))}catch(e){throw Zv(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,yv(this._delegate,function(t){return dy("limitToLast",t),new wv("limitToLast",t,"L")}(e)))}catch(e){throw Zv(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _v("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw Zv(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new _v("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw Zv(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ev("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw Zv(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,yv(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ev("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw Zv(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Ey(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=fy(t,yy);var e=fy(t.firestore,Ty),n=Cy(e),r=new Ov(e);return function(t,e){var n=this,r=new $f;return t.asyncQueue.enqueueAndForget(function(){return(0,Bi.mG)(n,void 0,void 0,function(){var n;return(0,Bi.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Bi.mG)(this,void 0,void 0,function(){var r,i,s,o,a;return(0,Bi.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,_p(t,e,!0)];case 1:return a=u.sent(),r=new Jg(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=Pg(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Hm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new fv(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=fy(t,yy);var e=fy(t.firestore,Ty),n=Cy(e),r=new Ov(e);return Wm(n,t._query,{source:"server"}).then(function(n){return new fv(e,r,t,n)})}(this._delegate):function(t){t=fy(t,yy);var e=fy(t.firestore,Ty),n=Cy(e),r=new Ov(e);return gv(t._query),Wm(n,t._query).then(function(n){return new fv(e,r,t,n)})}(this._delegate)).then(function(t){return new eb(e.firestore,new fv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Qv(e),i=Wv(e,function(e){return new eb(t.firestore,new fv(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Rv(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?$v.eu(this.firestore,e):null))},t}(),tb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Yv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),eb=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Xv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new Yv(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new tb(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new Yv(n._firestore,r))})},t.prototype.isEqual=function(t){return pv(this._delegate,t._delegate)},t}(),nb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Bi.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Kv(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Kv(this.firestore,void 0===t?wy(this._delegate):wy(this._delegate,t))}catch(t){throw Zv(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=fy(t.firestore,Ty),r=wy(t),i=Av(t.converter,e);return Pv(n,[qy(By(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Xl.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Kv(e.firestore,t)})},e.prototype.isEqual=function(t){return _y(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?$v.eu(this.firestore,t):null))},e}(Xv);function rb(t){return fy(t,my)}var ib,sb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Iy.bind.apply(Iy,(0,Bi.ev)([void 0],t)))}return t.documentId=function(){return new t(Ec.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,qi.m9)(t))instanceof Iy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),ob=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Gy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Vy("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hy("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new $y("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Ky("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),ab=n(6034),ub={Firestore:Vv,GeoPoint:Ny,Timestamp:pc,Blob:Bv,Transaction:Gv,WriteBatch:Hv,DocumentReference:Kv,DocumentSnapshot:Jv,Query:Xv,QueryDocumentSnapshot:Yv,QuerySnapshot:eb,CollectionReference:nb,FieldPath:sb,FieldValue:ob,setLogLevel:function(t){tc.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ab.wA("firestore",function(t){return function(t,e){return new Vv(t,new Ty(t,e),new qv)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},ub)))})(ib=ji.Z),ib.registerVersion("@firebase/firestore","2.3.8");var cb=n(9765),lb=(n(6682),n(5345));function hb(t,e){return"function"==typeof e?n=>n.pipe(hb((n,r)=>(0,Si.D)(t(n,r)).pipe((0,Rt.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new fb(t))}class fb{constructor(t){this.project=t}call(t,e){return e.subscribe(new db(t,this.project))}}class db extends lb.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new lb.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,lb.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}n(7771);var pb=n(5319),gb=n(7971);n(8858),n(3101);const mb=new r.OlP("angularfire2.auth.use-emulator");function yb(t,e){return function(t,e=Ei.z){return new xt.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function vb(t,e){return yb(t,e).pipe((0,Rt.U)(t=>({payload:t,type:"query"})))}function bb(t,e){return vb(t,e).pipe(xi(void 0),Ai(),(0,Rt.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function wb(t,e,n){return bb(t,n).pipe(Fi((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return _b(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return _b(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _b(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Ri(void 0,void 0)),(0,Rt.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function _b(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Eb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Sb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=bb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Rt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(xi(void 0),Ai(),Ft(([t,e])=>e.length>0||!t),(0,Rt.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fi((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Eb(t);return wb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return vb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Si.D)(this.query.get(t)).pipe((0,Li.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Db(this.ref.doc(t),this.afs)}}class Db{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Ib(n,e);return new Sb(r,i,this.afs)}snapshotChanges(){return yb(this.ref,this.afs.schedulers.outsideAngular).pipe(xi(void 0),Ai(),(0,Rt.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Rt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Si.D)(this.ref.get(t)).pipe((0,Li.QV)(this.afs.schedulers.insideAngular))}}class Tb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?bb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ft(t=>t.length>0),this.afs.keepUnstableUntilFirst):bb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fi((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Eb(t);return wb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return vb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Rt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Si.D)(this.query.get(t)).pipe((0,Li.QV)(this.afs.schedulers.insideAngular))}}const Cb=new r.OlP("angularfire2.enableFirestorePersistence"),xb=new r.OlP("angularfire2.firestore.persistenceSettings"),Ab=new r.OlP("angularfire2.firestore.settings"),kb=new r.OlP("angularfire2.firestore.use-emulator");function Ib(t,e=(t=>t)){return{query:e(t),ref:t}}let Fb=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new Mi.HU(s),this.keepUnstableUntilFirst=(0,Mi.ss)(this.schedulers);const c=(0,Mi.on)(t,s,e);!Ui.Z.auth&&u&&(0,Mi.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,Mi.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!function(t){return"server"===t}(i)){const e=()=>{try{return(0,Si.D)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(ib){return"undefined"!=typeof console&&console.warn(ib),(0,Ct.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,Ct.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Ib(n,e),s=this.schedulers.ngZone.run(()=>r);return new Sb(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Tb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Db(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Mi.Dh),r.LFG(Mi.xv,8),r.LFG(Cb,8),r.LFG(Ab,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(xb,8),r.LFG(kb,8),r.LFG(mb,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Mi.Dh),r.LFG(Mi.xv,8),r.LFG(Cb,8),r.LFG(Ab,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(xb,8),r.LFG(kb,8),r.LFG(mb,8))},token:t,providedIn:"any"}),t})(),Ob=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Cb,useValue:!0},{provide:xb,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Fb]}),t})();class Nb extends cb.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gb.N;return this._value}next(t){super.next(this._value=t)}}var Rb=n(9796);class Pb extends It.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Lb extends It.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Mb=n(7444);function Ub(t,e,n,r,i=new Lb(t,n,r)){if(!i.closed)return e instanceof xt.y?e.subscribe(i):(0,Mb.s)(e)(i)}var jb=n(6693);const Bb={};class qb{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Vb(t,this.resultSelector))}}class Vb extends Pb{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Bb),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ub(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Bb?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function zb(t){return new xt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,Si.D)(n):(0,ni.c)()).subscribe(e)})}var Gb=n(2441);function Hb(t){return function(e){const n=new $b(t),r=e.lift(n);return n.caught=r}}class $b{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Kb(t,this.selector,this.caught))}}class Kb extends lb.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new lb.IY(this);this.add(r);const i=(0,lb.ft)(n,r);i!==r&&this.add(i)}}}function Zb(t){return function(e){return 0===t?(0,ni.c)():e.lift(new Qb(t))}}class Qb{constructor(t){if(this.total=t,this.total<0)throw new ei}call(t,e){return e.subscribe(new Wb(t,this.total))}}class Wb extends It.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Jb=n(3342),Yb=n(1307);class Xb{constructor(t){this.callback=t}call(t,e){return e.subscribe(new tw(t,this.callback))}}class tw extends It.L{constructor(t,e){super(t),this.add(new pb.w(e))}}class ew{constructor(t,e){this.id=t,this.url=e}}class nw extends ew{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rw extends ew{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class iw extends ew{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sw extends ew{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ow extends ew{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aw extends ew{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uw extends ew{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cw extends ew{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lw extends ew{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hw{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fw{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dw{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pw{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gw{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mw{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yw{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vw="primary";class bw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ww(t){return new bw(t)}function _w(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ew(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Sw(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Dw(t[i],e[i]))return!1;return!0}function Dw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Tw(t){return Array.prototype.concat.apply([],t)}function Cw(t){return t.length>0?t[t.length-1]:null}function xw(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Aw(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,Si.D)(Promise.resolve(t)):(0,Ct.of)(t)}const kw={exact:function t(e,n,r){if(!Uw(e.segments,n.segments))return!1;if(!Rw(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Ow},Iw={exact:function(t,e){return Sw(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Dw(t[n],e[n]))},ignored:()=>!0};function Fw(t,e,n){return kw[n.paths](t.root,e.root,n.matrixParams)&&Iw[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Ow(t,e,n){return Nw(t,e,e.segments,n)}function Nw(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Uw(i,n)&&!e.hasChildren()&&!!Rw(i,n,r)}if(t.segments.length===n.length){if(!Uw(t.segments,n))return!1;if(!Rw(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ow(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!Uw(t.segments,i)&&!!Rw(t.segments,i,r)&&!!t.children.primary&&Nw(t.children.primary,e,s,r)}}function Rw(t,e,n){return e.every((e,r)=>Iw[n](t[r].parameters,e.parameters))}class Pw{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ww(this.queryParams)),this._queryParamMap}toString(){return qw.serialize(this)}}class Lw{constructor(t,e){this.segments=t,this.children=e,this.parent=null,xw(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vw(this)}}class Mw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ww(this.parameters)),this._parameterMap}toString(){return Qw(this)}}function Uw(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class jw{}class Bw{parse(t){const e=new t_(t);return new Pw(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${zw(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Hw(e)}=${Hw(t)}`).join("&"):`${Hw(e)}=${Hw(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const qw=new Bw;function Vw(t){return t.segments.map(t=>Qw(t)).join("/")}function zw(t,e){if(!t.hasChildren())return Vw(t);if(e){const e=t.children.primary?zw(t.children.primary,!1):"",n=[];return xw(t.children,(t,e)=>{e!==vw&&n.push(`${e}:${zw(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return xw(t.children,(t,r)=>{r===vw&&(n=n.concat(e(t,r)))}),xw(t.children,(t,r)=>{r!==vw&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===vw?[zw(t.children.primary,!1)]:[`${n}:${zw(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Vw(t)}/${e[0]}`:`${Vw(t)}/(${e.join("//")})`}}function Gw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hw(t){return Gw(t).replace(/%3B/gi,";")}function $w(t){return Gw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kw(t){return decodeURIComponent(t)}function Zw(t){return Kw(t.replace(/\+/g,"%20"))}function Qw(t){return`${$w(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${$w(t)}=${$w(e[t])}`).join("")}`;var e}const Ww=/^[^\/()?;=#]+/;function Jw(t){const e=t.match(Ww);return e?e[0]:""}const Yw=/^[^=?&#]+/,Xw=/^[^?&#]+/;class t_{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lw([],{}):new Lw([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Lw(t,e)),n}parseSegment(){const t=Jw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Mw(Kw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Jw(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Jw(this.remaining);t&&(n=t,this.capture(n))}t[Kw(e)]=Kw(n)}parseQueryParam(t){const e=function(t){const e=t.match(Yw);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Xw);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Zw(e),i=Zw(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Jw(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vw);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Lw([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class e_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=n_(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=n_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=r_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return r_(t,this._root).map(t=>t.value)}}function n_(t,e){if(t===e.value)return e;for(const n of e.children){const e=n_(t,n);if(e)return e}return null}function r_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=r_(t,n);if(r.length)return r.unshift(e),r}return[]}class i_{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function s_(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class o_ extends e_{constructor(t,e){super(t),this.snapshot=e,f_(this,t)}toString(){return this.snapshot.toString()}}function a_(t,e){const n=function(t,e){const n=new l_([],{},{},"",{},vw,e,null,t.root,-1,{});return new h_("",new i_(n,[]))}(t,e),r=new Nb([new Mw("",{})]),i=new Nb({}),s=new Nb({}),o=new Nb({}),a=new Nb(""),u=new u_(r,i,o,a,s,vw,e,n.root);return u.snapshot=n.root,new o_(new i_(u,[]),n)}class u_{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Rt.U)(t=>ww(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Rt.U)(t=>ww(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function c_(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class l_{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ww(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ww(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class h_ extends e_{constructor(t,e){super(e),this.url=t,f_(this,e)}toString(){return d_(this._root)}}function f_(t,e){e.value._routerState=t,e.children.forEach(e=>f_(t,e))}function d_(t){const e=t.children.length>0?` { ${t.children.map(d_).join(", ")} } `:"";return`${t.value}${e}`}function p_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Sw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Sw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Sw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function g_(t,e){return Sw(t.params,e.params)&&function(t,e){return Uw(t,e)&&t.every((t,n)=>Sw(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||g_(t.parent,e.parent))}function m_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return m_(t,e,r);return m_(t,e)})}(t,e,n);return new i_(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return y_(e,t),t}}const n=new u_(new Nb((r=e.value).url),new Nb(r.params),new Nb(r.queryParams),new Nb(r.fragment),new Nb(r.data),r.outlet,r.component,r),i=e.children.map(e=>m_(t,e));return new i_(n,i)}var r}function y_(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)y_(t.children[n],e.children[n])}function v_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function b_(t){return"object"==typeof t&&null!=t&&t.outlets}function w_(t,e,n,r,i){let s={};return r&&xw(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Pw(n.root===t?e:__(n.root,t,e),s,i)}function __(t,e,n){const r={};return xw(t.children,(t,i)=>{r[i]=t===e?n:__(t,e,n)}),new Lw(t.segments,r)}class E_{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&v_(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(b_);if(r&&r!==Cw(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class S_{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function D_(t,e,n){if(t||(t=new Lw([],{})),0===t.segments.length&&t.hasChildren())return T_(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(b_(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!k_(a,u,e))return s;r+=2}else{if(!k_(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Lw(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Lw(t.segments.slice(r.pathIndex),t.children),T_(e,0,i)}return r.match&&0===i.length?new Lw(t.segments,{}):r.match&&!t.hasChildren()?C_(t,e,n):r.match?T_(t,0,i):C_(t,e,n)}function T_(t,e,n){if(0===n.length)return new Lw(t.segments,{});{const r=function(t){return b_(t[0])?t[0].outlets:{[vw]:t}}(n),i={};return xw(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=D_(t.children[r],e,n))}),xw(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Lw(t.segments,i)}}function C_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(b_(s)){const t=x_(s.outlets);return new Lw(r,t)}if(0===i&&v_(n[0])){r.push(new Mw(t.segments[e].path,A_(n[0]))),i++;continue}const o=b_(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&v_(a)?(r.push(new Mw(o,A_(a))),i+=2):(r.push(new Mw(o,{})),i++)}return new Lw(r,{})}function x_(t){const e={};return xw(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=C_(new Lw([],{}),0,t))}),e}function A_(t){const e={};return xw(t,(t,n)=>e[n]=`${t}`),e}function k_(t,e,n){return t==n.path&&Sw(e,n.parameters)}class I_{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),p_(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=s_(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),xw(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=s_(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=s_(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new mw(t.value.snapshot))}),t.children.length&&this.forwardEvent(new pw(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(p_(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),F_(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function F_(t){p_(t.value),t.children.forEach(F_)}class O_{constructor(t,e){this.routes=t,this.module=e}}function N_(t){return"function"==typeof t}function R_(t){return t instanceof Pw}const P_=Symbol("INITIAL_VALUE");function L_(){return hb(t=>function(...t){let e,n;return(0,Ci.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Rb.k)(t[0])&&(t=t[0]),(0,jb.n)(t,n).lift(new qb(e))}(t.map(t=>t.pipe(ri(1),xi(P_)))).pipe(Fi((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==P_)return t;if(r===P_&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||R_(r))return r}return t},t)},P_),Ft(t=>t!==P_),(0,Rt.U)(t=>R_(t)?t:!0===t),ri(1)))}let M_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[NE]},encapsulation:2}),t})();function U_(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];j_(r,B_(e,r))}}function j_(t,e){t.children&&U_(t.children,e)}function B_(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function q_(t){const e=t.children&&t.children.map(q_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vw&&(n.component=M_),n}function V_(t){return t.outlet||vw}function z_(t,e){const n=t.filter(t=>V_(t)===e);return n.push(...t.filter(t=>V_(t)!==e)),n}const G_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function H_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},G_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ew)(n,t,e);if(!i)return Object.assign({},G_);const s={};xw(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function $_(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>K_(t,e,n)&&V_(n)!==vw)}(t,n,r)){const i=new Lw(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&V_(s)!==vw){const n=new Lw([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[V_(s)]=n}return i}(t,e,r,new Lw(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>K_(t,e,n))}(t,n,r)){const s=new Lw(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(K_(t,n,a)&&!i[V_(a)]){const n=new Lw([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[V_(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Lw(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function K_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Z_(t,e,n,r){return!!(V_(t)===r||r!==vw&&K_(e,n,t))&&("**"===t.path||H_(e,t,n).matched)}function Q_(t,e,n){return 0===e.length&&!t.children[n]}class W_{constructor(t){this.segmentGroup=t||null}}class J_{constructor(t){this.urlTree=t}}function Y_(t){return new xt.y(e=>e.error(new W_(t)))}function X_(t){return new xt.y(e=>e.error(new J_(t)))}function tE(t){return new xt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class eE{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=$_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Lw(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vw).pipe((0,Rt.U)(t=>this.createUrlTree(nE(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hb(t=>{if(t instanceof J_)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof W_)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vw).pipe((0,Rt.U)(e=>this.createUrlTree(nE(e),t.queryParams,t.fragment))).pipe(Hb(t=>{if(t instanceof W_)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Lw([],{[vw]:t}):t;return new Pw(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Rt.U)(t=>new Lw([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Si.D)(r).pipe(kt(r=>{const i=n.children[r],s=z_(e,r);return this.expandSegmentGroup(t,s,i,r).pipe((0,Rt.U)(t=>({segment:t,outlet:r})))}),Fi((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ft((e,n)=>t(e,n,r)):di.y,Zb(1),n?oi(e):ci(()=>new ti))}())}expandSegment(t,e,n,r,i,s){return(0,Si.D)(n).pipe(kt(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Hb(t=>{if(t instanceof W_)return(0,Ct.of)(null);throw t}))),pi(t=>!!t),Hb((t,n)=>{if(t instanceof ti||"EmptyError"===t.name){if(Q_(e,r,i))return(0,Ct.of)(new Lw([],{}));throw new W_(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Z_(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Y_(e):Y_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?X_(i):this.lineralizeSegments(n,i).pipe((0,At.zg)(n=>{const i=new Lw(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=H_(e,r,i);if(!o)return Y_(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?X_(l):this.lineralizeSegments(r,l).pipe((0,At.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Ct.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Rt.U)(t=>(n._loadedConfig=t,new Lw(r,{})))):(0,Ct.of)(new Lw(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=H_(e,n,r);if(!s)return Y_(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,At.zg)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=$_(e,o,u,s),l=new Lw(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,Rt.U)(t=>new Lw(o,t)));if(0===s.length&&0===c.length)return(0,Ct.of)(new Lw(o,{}));const h=V_(n)===i;return this.expandSegment(r,l,s,c,h?vw:i,!0).pipe((0,Rt.U)(t=>new Lw(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,Ct.of)(new O_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Ct.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,At.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Rt.U)(t=>(e._loadedConfig=t,t))):function(t){return new xt.y(e=>e.error(_w(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,Ct.of)(new O_([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,Ct.of)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&N_(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!N_(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return Aw(s)});return(0,Ct.of)(i).pipe(L_(),(0,Jb.b)(t=>{if(!R_(t))return;const e=_w(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Rt.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,Ct.of)(n);if(r.numberOfChildren>1||!r.children.primary)return tE(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Pw(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return xw(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return xw(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Lw(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function nE(t){const e={};for(const n of Object.keys(t.children)){const r=nE(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Lw(t.segments.concat(e.segments),e.children)}return t}(new Lw(t.segments,e))}class rE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class iE{constructor(t,e){this.component=t,this.route=e}}function sE(t,e,n){const r=t._root;return aE(r,e?e._root:null,n,[r.value])}function oE(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function aE(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=s_(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Uw(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Uw(t.url,e.url)||!Sw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!g_(t,e)||!Sw(t.queryParams,e.queryParams);case"paramsChange":default:return!g_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new rE(r)):(s.data=o.data,s._resolvedData=o._resolvedData),aE(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new iE(a.outlet.component,o))}else o&&uE(e,a,i),i.canActivateChecks.push(new rE(r)),aE(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),xw(s,(t,e)=>uE(t,n.getContext(e),i)),i}function uE(t,e,n){const r=s_(t),i=t.value;xw(r,(t,r)=>{uE(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new iE(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class cE{}function lE(t){return new xt.y(e=>e.error(t))}class hE{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=$_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vw);if(null===e)return null;const n=new l_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vw,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new i_(n,e),i=new h_(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=c_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=z_(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=dE(n);return r.sort((t,e)=>t.value.outlet===vw?-1:e.value.outlet===vw?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Q_(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Z_(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Cw(n).parameters:{};i=new l_(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mE(t),V_(t),t.component,t,pE(e),gE(e)+n.length,yE(t))}else{const r=H_(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new l_(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mE(t),V_(t),t.component,t,pE(e),gE(e)+s.length,yE(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=$_(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new i_(i,t)]}if(0===a.length&&0===c.length)return[new i_(i,[])];const l=V_(t)===r,h=this.processSegment(a,u,c,l?vw:r);return null===h?null:[new i_(i,h)]}}function fE(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dE(t){const e=[],n=new Set;for(const r of t){if(!fE(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=dE(r.children);e.push(new i_(r.value,t))}return e.filter(t=>!n.has(t))}function pE(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function gE(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function mE(t){return t.data||{}}function yE(t){return t.resolve||{}}function vE(t){return hb(e=>{const n=t(e);return n?(0,Si.D)(n).pipe((0,Rt.U)(()=>e)):(0,Ct.of)(e)})}class bE extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const wE=new r.OlP("ROUTES");class _E{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Rt.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new O_(Tw(i.injector.get(wE,void 0,r.XFs.Self|r.XFs.Optional)).map(q_),i)}),Hb(t=>{throw e._loader$=void 0,t}));return e._loader$=new Gb.c(n,()=>new cb.xQ).pipe((0,Yb.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Si.D)(this.loader.load(t)):Aw(t()).pipe((0,At.zg)(t=>t instanceof r.YKP?(0,Ct.of)(t):(0,Si.D)(this.compiler.compileModuleAsync(t))))}}class EE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new SE,this.attachRef=null}}class SE{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new EE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class DE{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function TE(t){throw t}function CE(t,e,n){return e.parse("/")}function xE(t,e){return(0,Ct.of)(null)}const AE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let IE=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new cb.xQ,this.errorHandler=TE,this.malformedUriErrorHandler=CE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xE,afterPreactivation:xE},this.urlHandlingStrategy=new DE,this.routeReuseStrategy=new bE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Pw(new Lw([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _E(o,a,t=>this.triggerEvent(new hw(t)),t=>this.triggerEvent(new fw(t))),this.routerState=a_(this.currentUrlTree,this.rootComponentType),this.transitions=new Nb({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ft(t=>0!==t.id),(0,Rt.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),hb(t=>{let n=!1,r=!1;return(0,Ct.of)(t).pipe((0,Jb.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hb(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,Ct.of)(t).pipe(hb(t=>{const n=this.transitions.getValue();return e.next(new nw(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?ni.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,hb(t=>function(t,e,n,r,i){return new eE(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe((0,Rt.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,Jb.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,At.zg)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new hE(t,e,n,r,i,s).recognize();return null===o?lE(new cE):(0,Ct.of)(o)}catch(ib){return lE(ib)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,Rt.U)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Jb.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new ow(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new nw(n,this.serializeUrl(r),i,s);e.next(a);const u=a_(r,this.rootComponentType).snapshot;return(0,Ct.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),ni.E}),vE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Jb.b)(t=>{const e=new aw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Rt.U)(t=>Object.assign(Object.assign({},t),{guards:sE(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,At.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,Ct.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,Si.D)(t).pipe((0,At.zg)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,Ct.of)(!0);const o=s.map(s=>{const o=oE(s,e,i);let a;if(function(t){return t&&N_(t.canDeactivate)}(o))a=Aw(o.canDeactivate(t,e,n,r));else{if(!N_(o))throw new Error("Invalid CanDeactivate guard");a=Aw(o(t,e,n,r))}return a.pipe(pi())});return(0,Ct.of)(o).pipe(L_())}(t.component,t.route,n,e,r)),pi(t=>!0!==t,!0))}(o,r,i,t).pipe((0,At.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,Si.D)(e).pipe(kt(e=>Ti(function(t,e){return null!==t&&e&&e(new dw(t)),(0,Ct.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new gw(t)),(0,Ct.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>zb(()=>{const i=e.guards.map(i=>{const s=oE(i,e.node,n);let o;if(function(t){return t&&N_(t.canActivateChild)}(s))o=Aw(s.canActivateChild(r,t));else{if(!N_(s))throw new Error("Invalid CanActivateChild guard");o=Aw(s(r,t))}return o.pipe(pi())});return(0,Ct.of)(i).pipe(L_())}));return(0,Ct.of)(i).pipe(L_())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Ct.of)(!0);const i=r.map(r=>zb(()=>{const i=oE(r,e,n);let s;if(function(t){return t&&N_(t.canActivate)}(i))s=Aw(i.canActivate(e,t));else{if(!N_(i))throw new Error("Invalid CanActivate guard");s=Aw(i(e,t))}return s.pipe(pi())}));return(0,Ct.of)(i).pipe(L_())}(t,e.route,n))),pi(t=>!0!==t,!0))}(r,s,t,e):(0,Ct.of)(n)),(0,Rt.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Jb.b)(t=>{if(R_(t.guardsResult)){const e=_w(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new uw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ft(t=>!!t.guardsResult||(this.cancelNavigationTransition(t,""),!1)),vE(t=>{if(t.guards.canActivateChecks.length)return(0,Ct.of)(t).pipe((0,Jb.b)(t=>{const e=new cw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),hb(t=>{let e=!1;return(0,Ct.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,At.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,Ct.of)(t);let s=0;return(0,Si.D)(i).pipe(kt(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,Ct.of)({});const s={};return(0,Si.D)(i).pipe((0,At.zg)(i=>function(t,e,n,r){const i=oE(t,e,r);return Aw(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Jb.b)(t=>{s[i]=t}))),Zb(1),(0,At.zg)(()=>Object.keys(s).length===i.length?(0,Ct.of)(s):ni.E))}(t._resolve,t,e,r).pipe((0,Rt.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),c_(t,n).resolve),null)))}(t.route,e,n,r)),(0,Jb.b)(()=>s++),Zb(1),(0,At.zg)(e=>s===i.length?(0,Ct.of)(t):ni.E))})),(0,Jb.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,Jb.b)(t=>{const e=new lw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),vE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Rt.U)(t=>{const e=function(t,e,n){const r=m_(t,e._root,n?n._root:void 0);return new o_(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Jb.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Rt.U)(t=>(new I_(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),(0,Jb.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{n||r||this.cancelNavigationTransition(t,`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation=null},t=>t.lift(new Xb(i))),Hb(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=R_(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new iw(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new sw(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Al){t.reject(Al)}}var i;return ni.E}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){U_(t),this.config=t.map(q_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return w_(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new E_(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return xw(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new E_(n,e,r)}(n);if(s.toRoot())return w_(e.root,new Lw([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new S_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new S_(t,t===e.root,0)}const r=v_(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new S_(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?T_(o.segmentGroup,o.index,s.commands):D_(o.segmentGroup,o.index,s.commands);return w_(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=R_(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);let i=null;return"computed"===this.canceledNavigationResolution&&(0===this.currentPageId||e.skipLocationChange||e.replaceUrl)&&(i=this.location.getState()),this.scheduleNavigation(r,"imperative",i,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(ib){e=this.malformedUriErrorHandler(ib,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},AE):!1===e?Object.assign({},kE):e,R_(t))return Fw(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Fw(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new rw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;let f;return f="computed"===this.canceledNavigationResolution?n&&n.\u0275routerPageId?n.\u0275routerPageId:this.currentPageId+1:0,this.setTransition({id:h,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree();const n=new iw(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(jw),r.LFG(SE),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),FE=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new cb.xQ,this.subscription=t.events.subscribe(t=>{t instanceof rw&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:OE(this.skipLocationChange),replaceUrl:OE(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:OE(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(IE),r.Y36(u_),r.Y36(m))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function OE(t){return""===t||!!t}let NE=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||vw,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new RE(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(SE),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class RE{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===u_?this.route:t===SE?this.childContexts:this.parent.get(t,e)}}class PE{}class LE{preload(t,e){return(0,Ct.of)(null)}}let ME=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new _E(e,n,e=>t.triggerEvent(new hw(e)),e=>t.triggerEvent(new fw(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ft(t=>t instanceof rw),kt(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,Si.D)(n).pipe((0,Di.J)(),(0,Rt.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,Ct.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,At.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(IE),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(PE))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),UE=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof nw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rw&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof yw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new yw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(IE),r.LFG(z),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const jE=new r.OlP("ROUTER_CONFIGURATION"),BE=new r.OlP("ROUTER_FORROOT_GUARD"),qE=[_,{provide:jw,useClass:Bw},{provide:IE,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new IE(null,t,e,n,r,i,s,Tw(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[jw,SE,_,r.zs3,r.v3s,r.Sil,wE,jE,[class{},new r.FiY],[class{},new r.FiY]]},SE,{provide:u_,useFactory:function(t){return t.routerState.root},deps:[IE]},{provide:r.v3s,useClass:r.EAV},ME,LE,class{preload(t,e){return e().pipe(Hb(()=>(0,Ct.of)(null)))}},{provide:jE,useValue:{enableTracing:!1}}];function VE(){return new r.PXZ("Router",IE)}let zE=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[qE,KE(e),{provide:BE,useFactory:$E,deps:[[IE,new r.FiY,new r.tp0]]},{provide:jE,useValue:n||{}},{provide:m,useFactory:HE,deps:[a,[new r.tBr(v),new r.FiY],jE]},{provide:UE,useFactory:GE,deps:[IE,z,jE]},{provide:PE,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:LE},{provide:r.PXZ,multi:!0,useFactory:VE},[ZE,{provide:r.ip1,multi:!0,useFactory:QE,deps:[ZE]},{provide:JE,useFactory:WE,deps:[ZE]},{provide:r.tb,multi:!0,useExisting:JE}]]}}static forChild(e){return{ngModule:t,providers:[KE(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(BE,8),r.LFG(IE,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function GE(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new UE(t,e,n)}function HE(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function $E(t){return"guarded"}function KE(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:wE,multi:!0,useValue:t}]}let ZE=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new cb.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(IE),r=this.injector.get(jE);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Ct.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(jE),n=this.injector.get(ME),i=this.injector.get(UE),s=this.injector.get(IE),o=this.injector.get(r.z2F);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function QE(t){return t.appInitializer.bind(t)}function WE(t){return t.bootstrapListener.bind(t)}const JE=new r.OlP("Router Initializer");let YE=(()=>{class t{constructor(t){this.http=t,this.onlineCounts={server:0,discord:0}}ngOnInit(){this.http.get("https://api.minetools.eu/ping/johnsonslegacy.net").subscribe(t=>{this.onlineCounts.server=t.players.online}),this.http.get("https://discordapp.com/api/guilds/656922477141950478/widget.json").subscribe(t=>{this.onlineCounts.discord=t.members.length})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xt))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-online-card"]],decls:8,vars:2,consts:[[1,"sidebar-card-combo"],[1,"sidebar-online"],[1,"discord-sidebar"],["href","https://discord.gg/2uV5Shg","data-toggle","toolPtip","data-placement","top","title","Click to join the Discord!"],["src","https://discordapp.com/assets/35d75407bd75d70e84e945c9f879bab8.svg",1,"discord-logo"],[1,"discord-online"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h5",1),r._uU(2),r.qZA(),r.TgZ(3,"div",2),r.TgZ(4,"a",3),r._UZ(5,"img",4),r.TgZ(6,"p",5),r._uU(7),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(2),r.hij("\ud83e\udd93 ",e.onlineCounts.server," players online"),r.xp6(5),r.hij("",e.onlineCounts.discord," online"))},styles:[".sidebar-card-combo[_ngcontent-%COMP%]{box-shadow:0 2px 10px 0 #00000008}.sidebar-online[_ngcontent-%COMP%]{background-color:pink;color:#fff;box-shadow:0 3px 19px 0 #0000000d;text-align:center;padding:1.3em 0;font-size:1em;border-radius:.4em .4em 0 0;margin-bottom:0;font-weight:700;text-shadow:0 1px 3px #3b3b3b33}.discord-logo[_ngcontent-%COMP%]{max-width:5.5em}.discord-sidebar[_ngcontent-%COMP%]{margin-top:0;border-radius:0 0 .4em .4em;padding:20px;background-color:#7289da;margin-bottom:3em}.discord-online[_ngcontent-%COMP%]{float:right;color:#fff;font-size:1em;font-weight:700;text-shadow:0 1px 3px #3b3b3b33}"]}),t})(),XE=(()=>{class t{constructor(t){this.http=t,this.topVoter={uuid:"e4ae86d8-8040-4e76-a3b3-ba0fba1caf69",name:"\u30fd(\u309c\u2207\u309c)\u30ce",votes:0}}ngOnInit(){this.http.get("https://api.firestartermc.com/players/votes/top").subscribe(t=>{this.http.get(`https://api.minetools.eu/uuid/${t[0].uuid.replace(/-/g,"")}`).subscribe(e=>{this.topVoter={uuid:t[0].uuid,name:e.name,votes:t[0].votes}})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xt))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-top-voter-card"]],decls:0,vars:0,template:function(t,e){},styles:[".sidebar-card[_ngcontent-%COMP%]{background-color:#fefefe;box-shadow:0 2px 10px 0 #00000008;padding:1.2em;border-radius:.4em;margin-bottom:25px}.voter-title[_ngcontent-%COMP%]{color:#000;font-size:.9em;position:absolute;top:-1.5em}.voter-bust[_ngcontent-%COMP%]{transition:.3s;max-width:7em;border-radius:.3em;float:right;position:absolute;right:.3em;bottom:0;transform:scaleX(-1);filter:saturate(.85);overflow:hidden}.voter-card[_ngcontent-%COMP%]{position:relative;transition:.3s}.voter-card[_ngcontent-%COMP%]:hover   .voter-head[_ngcontent-%COMP%]{filter:saturate(120%);transform:translateY(1em)}.voter-content[_ngcontent-%COMP%]{margin-right:4em}.voter-name[_ngcontent-%COMP%]{color:#535353;font-weight:600}.voter-name[_ngcontent-%COMP%], .voter-votes[_ngcontent-%COMP%]{padding:0;margin:0;font-size:.9em;text-align:left}.voter-votes[_ngcontent-%COMP%]{font-weight:500;color:#fff}.voter-votes-inner[_ngcontent-%COMP%]{background-color:#f5c08c;padding:.1em .3em;border-radius:.3em}"]}),t})();function tS(t,e){if(1&t&&(r.TgZ(0,"div",5),r.TgZ(1,"h2",6),r._uU(2),r.qZA(),r._UZ(3,"img",7),r._UZ(4,"markdown",8),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.title),r.xp6(2),r.Q6J("data",t.content)}}let eS=(()=>{class t{constructor(t){this.afs=t}ngOnInit(){this.posts=this.afs.collection("posts",t=>t.limit(5)).valueChanges()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Fb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-home"]],decls:9,vars:3,consts:[[1,"row"],[1,"col-xl-9"],[1,"content-header"],["class","post",4,"ngFor","ngForOf"],[1,"col-xl-3","sidebar"],[1,"post"],[1,"title"],["src","/assets/img/banner.jpg","alt","Banner",1,"post-banner"],[1,"post-content",3,"data"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h1",2),r._uU(3,"Announcements"),r.qZA(),r.YNc(4,tS,5,2,"div",3),r.ALo(5,"async"),r.qZA(),r.TgZ(6,"div",4),r._UZ(7,"app-online-card"),r._UZ(8,"app-top-voter-card"),r.qZA(),r.qZA()),2&t&&(r.xp6(4),r.Q6J("ngForOf",r.lcZ(5,1,e.posts)))},directives:[I,YE,XE,wi],pipes:[B],styles:[".content-header[_ngcontent-%COMP%]{color:#727272;font-size:1.1em;font-weight:700;padding-left:.1em}.post[_ngcontent-%COMP%]{background-color:#fff;border-radius:.7em;box-shadow:0 2px 15px 0 #00000005;margin-bottom:0;padding:1.3em}.title[_ngcontent-%COMP%]{background-color:#ff5166;border-bottom:.1em solid #d63f51;padding:10px;border-radius:.3em;font-size:1em;font-weight:700;text-shadow:0 1px 3px #3b3b3b33;color:#fff}.post-banner[_ngcontent-%COMP%]{display:block;width:100%;border-radius:.3em;margin-bottom:1em}.post-content[_ngcontent-%COMP%]{color:#535353}"]}),t})(),nS=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-not-found"]],decls:7,vars:0,consts:[[1,"wrapper"],[1,"fire"],["id","heading"],["id","smalltext"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r._uU(2,"\ud83d\udd25"),r.qZA(),r.TgZ(3,"h1",2),r._uU(4,"Welp-"),r.qZA(),r.TgZ(5,"h4",3),r._uU(6,"You're lost. There's nothing here to see."),r.qZA(),r.qZA())},styles:[".wrapper[_ngcontent-%COMP%]{padding:3em 0}.fire[_ngcontent-%COMP%]{margin:0 auto;font-size:4em;padding-bottom:.6em}#heading[_ngcontent-%COMP%], .fire[_ngcontent-%COMP%]{text-align:center}#heading[_ngcontent-%COMP%]{color:#404040;font-size:2em;font-weight:600}#smalltext[_ngcontent-%COMP%]{color:#565656;text-align:center;font-size:1.3em}"]}),t})();function rS(t,e){if(1&t&&(r.TgZ(0,"div",1),r._UZ(1,"img",2),r.TgZ(2,"h1",3),r._uU(3),r.qZA(),r.TgZ(4,"h4",4),r._uU(5),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Q6J("src","https://visage.surgeplay.com/bust/"+t.data.uuid,r.LSH),r.xp6(2),r.Oqu(t.data.name),r.xp6(2),r.hij('"',t.data.quote,'"')}}let iS=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-member-quote"]],inputs:{data:"data"},decls:1,vars:1,consts:[["class","member",4,"ngIf"],[1,"member"],[1,"head",3,"src"],[1,"name"],[1,"quote"]],template:function(t,e){1&t&&r.YNc(0,rS,6,3,"div",0),2&t&&r.Q6J("ngIf",e.data)},directives:[O],styles:[".member[_ngcontent-%COMP%]{background-color:#fefefe;border-radius:.5em;box-shadow:0 2px 10px 0 #00000005;padding:10px;width:200px;display:block;margin-right:1em;margin-bottom:.5em;vertical-align:bottom;-webkit-user-select:none;user-select:none;transition:.3s}.member[_ngcontent-%COMP%]:hover{transform:scale(1.03) rotate(1deg);filter:saturate(130%)}.head[_ngcontent-%COMP%]{border-radius:.5em;display:block;position:relative;margin:0 auto 10px;width:8em;transform:scaleX(-1)}.name[_ngcontent-%COMP%]{color:#393939;font-weight:600;font-size:1em}.name[_ngcontent-%COMP%], .quote[_ngcontent-%COMP%]{text-align:center}.quote[_ngcontent-%COMP%]{color:#898989;font-size:.9em}"]}),t})();function sS(t,e){1&t&&r._UZ(0,"app-member-quote",7),2&t&&r.Q6J("data",e.$implicit)}const oS=function(t,e){return{"background-color":t,"border-bottom-color":e}};function aS(t,e){if(1&t&&(r.TgZ(0,"div",3),r.TgZ(1,"div",4),r._uU(2),r.qZA(),r.TgZ(3,"div",5),r.YNc(4,sS,1,1,"app-member-quote",6),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(1),r.Q6J("ngStyle",r.WLB(3,oS,t.color,t.borderColor)),r.xp6(1),r.Oqu(t.title),r.xp6(2),r.Q6J("ngForOf",t.members)}}let uS=(()=>{class t{constructor(t){this.http=t,this.jsonUrl="https://raw.githubusercontent.com/Alejandro-Sosa/website/main/library/staff-list.json"}ngOnInit(){this.data=this.http.get(this.jsonUrl)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xt))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-staff"]],decls:5,vars:3,consts:[[1,"wrapper"],[1,"heading"],["class","section-wrapper",4,"ngFor","ngForOf"],[1,"section-wrapper"],[1,"section-badge",3,"ngStyle"],[1,"section"],[3,"data",4,"ngFor","ngForOf"],[3,"data"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r._uU(2,"The Staff"),r.qZA(),r.YNc(3,aS,5,6,"div",2),r.ALo(4,"async"),r.qZA()),2&t&&(r.xp6(3),r.Q6J("ngForOf",r.lcZ(4,1,e.data)))},directives:[I,P,iS],pipes:[B],styles:[".wrapper[_ngcontent-%COMP%]{padding:.7em}.heading[_ngcontent-%COMP%]{color:#535353;font-size:1.1em;font-weight:600}.propaganda[_ngcontent-%COMP%]{color:#6a6a6a;font-size:1em}.section[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:stretch}.section-badge[_ngcontent-%COMP%]{border-radius:.3em;display:inline-block;margin-bottom:1em;margin-top:2em;padding:.1em .4em;text-align:center;border-bottom:.1em solid}"]}),t})();const cS={type:7,name:"fadeAnimation",definitions:[function(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}("* => *",[ve(":enter",[ye({opacity:0})],{optional:!0}),ve(":leave",[ye({opacity:1}),ge("0.3s",ye({opacity:0}))],{optional:!0}),ve(":enter",[ye({opacity:0}),ge("0.3s",ye({opacity:1}))],{optional:!0})])],options:{}},lS=function(t){return{"background-color":t}};let hS=(()=>{class t{constructor(){this.ip="JohnsonsLegacy.net",this.color="#FFC0CB"}copyIP(){const t=document.createElement("textarea");t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.opacity="0",t.value=this.ip,document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),this.ip="Copied IP!",this.color="#51DF56",setTimeout(()=>{this.ip="JohnsonsLegacy.net",this.color="#FFC0CB"},2e3)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-header"]],decls:27,vars:4,consts:[[1,"navigation"],[1,"navigation-wrapper","container"],[1,"navigation-right"],["href","http://51.195.189.57:1024/","target","_blank",1,"navigation-button"],[1,"navigation-button-text"],["routerLink","/",1,"navigation-button"],["href","http://localhost:4200/","target","_self",1,"navigation-button"],["href","http://localhost:4200/rules","target","_self",1,"navigation-button"],["href","http://localhost:4200/staff","target","_self",1,"navigation-button"],[1,"banner"],[1,"hero"],[1,"banner-header"],[1,"banner-description"],["id","ip",1,"ip-button",3,"ngStyle","click"]],template:function(t,e){1&t&&(r.TgZ(0,"header"),r.TgZ(1,"div",0),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"a",3),r.TgZ(5,"p",4),r._uU(6,"Map"),r.qZA(),r.qZA(),r.TgZ(7,"a",5),r.TgZ(8,"p",4),r._uU(9,"Vote"),r.qZA(),r.qZA(),r.TgZ(10,"a",6),r.TgZ(11,"p",4),r._uU(12,"Home"),r.qZA(),r.qZA(),r.TgZ(13,"a",7),r.TgZ(14,"p",4),r._uU(15,"Rules"),r.qZA(),r.qZA(),r.TgZ(16,"a",8),r.TgZ(17,"p",4),r._uU(18,"Staff"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(19,"div",9),r.TgZ(20,"div",10),r.TgZ(21,"h1",11),r._uU(22,"Johnson\u2019s Legacy"),r.qZA(),r.TgZ(23,"h3",12),r._uU(24,"A community-driven survival realm."),r.qZA(),r.TgZ(25,"a",13),r.NdJ("click",function(){return e.copyIP()}),r._uU(26),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(25),r.Q6J("ngStyle",r.VKq(2,lS,e.color)),r.xp6(1),r.hij("\ud83c\udf3b ",e.ip,""))},directives:[FE,P],styles:[".navigation[_ngcontent-%COMP%]{height:4em;padding:1em;position:absolute;width:100%;z-index:500}.navigation-wrapper[_ngcontent-%COMP%]{position:relative;height:3em}.navigation-right[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin:0 -50% 0 0;transform:translate(-50%,-50%)}.navigation-button[_ngcontent-%COMP%]{background-color:#3d3d3d;border-radius:2em;display:inline-block;height:2.2em;margin:0 .2em;padding:0 1.3em;transition:.3s}.navigation-button[_ngcontent-%COMP%]:hover{background-color:#434343;text-decoration:none}.navigation-button-text[_ngcontent-%COMP%]{color:#e4e4e4;font-family:Karla,sans-serif;font-size:1em;font-weight:600;line-height:2.1em;vertical-align:middle}.navigation-logo[_ngcontent-%COMP%]{display:inline-block;position:relative;top:.2em;vertical-align:middle;width:1.5em}.banner[_ngcontent-%COMP%]{background-color:#ff5757;background-image:url(/assets/img/tiles.webp);background-repeat:no-repeat;background-size:cover;height:22em;width:100%;display:block;box-shadow:0 3px 15px 0 #0003}.hero[_ngcontent-%COMP%]{position:relative;top:5em;display:block;margin:0 auto;text-align:center}.banner-header[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:1.9em}.banner-description[_ngcontent-%COMP%]{color:#ebebeb;font-size:1.3em;padding-bottom:1em}.ip-button[_ngcontent-%COMP%]{text-align:center;display:block;max-width:230px;margin:0 auto;text-decoration:none;padding:4px 13px 5px;border-radius:.3em;color:#fff!important;font-weight:600;font-size:18px;box-shadow:0 4px 6px #32325d0d,0 1px 3px #0000000d;text-shadow:0 1px 3px #3b3b3b33;transition:.1s}.ip-button[_ngcontent-%COMP%]:hover{cursor:pointer;transform:translateY(1px);box-shadow:0 4px 6px #32325d33,0 1px 3px #0000001a}"]}),t})(),fS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"footer"],[1,"footer-wrapper","container"],[1,"footer-copyright"],[1,"footer-disclaimer"]],template:function(t,e){1&t&&(r.TgZ(0,"footer",0),r.TgZ(1,"div",1),r.TgZ(2,"p",2),r._uU(3,"\ud83c\udf37 Melani Software \xa9 2020-2021"),r.qZA(),r.TgZ(4,"p",3),r._uU(5,"We are not affiliated with Mojang AB."),r.qZA(),r.qZA(),r.qZA())},styles:[".footer[_ngcontent-%COMP%]{background-color:#2e2d2c;border-top:1em solid #403c3b;width:100%}.footer-wrapper[_ngcontent-%COMP%]{padding:3em 1em}.footer-copyright[_ngcontent-%COMP%]{color:#fff;font-size:1em;font-weight:600;margin:0;padding:0}.footer-disclaimer[_ngcontent-%COMP%]{color:#f5f5f5;font-size:1em;margin:0;padding:0}.footer-bottom[_ngcontent-%COMP%]{padding-top:1em}.footer-link[_ngcontent-%COMP%]{color:#ff9c9c;display:block}.footer-link[_ngcontent-%COMP%]:hover{text-decoration:none}"]}),t})();const dS=[{path:"",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-main-layout"]],decls:6,vars:1,consts:[[1,"wrapper"],[1,"content","container"],["o","outlet"]],template:function(t,e){if(1&t&&(r.TgZ(0,"div",0),r._UZ(1,"app-header"),r.TgZ(2,"main",1),r._UZ(3,"router-outlet",null,2),r.qZA(),r.qZA(),r._UZ(5,"app-footer")),2&t){const t=r.MAs(4);r.xp6(2),r.Q6J("@fadeAnimation",t.isActivated?t.activatedRoute:"")}},directives:[hS,NE,fS],styles:[".wrapper[_ngcontent-%COMP%]{min-height:100%;margin-bottom:-223px}main[_ngcontent-%COMP%]{display:flex;align-items:stretch;padding-top:50px}.content[_ngcontent-%COMP%]{border-radius:.5em;display:block;background-color:#fafafa;width:70%;height:auto;color:#fff;padding:25px;position:relative;top:-3.5em;transition:.3s;margin:0 auto 223px}"],data:{animation:[cS]}}),t})(),children:[{path:"",pathMatch:"full",component:eS},{path:"staff",component:uS},{path:"privacy",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-privacy"]],decls:1,vars:0,consts:[["src","https://raw.githubusercontent.com/Firestarter/docs/master/privacy.md"]],template:function(t,e){1&t&&r._UZ(0,"markdown",0)},directives:[wi],styles:[""]}),t})()},{path:"rules",component:(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-rules"]],decls:1,vars:0,consts:[["src","https://raw.githubusercontent.com/Alejandro-Sosa/website/main/library/rules.md"]],template:function(t,e){1&t&&r._UZ(0,"markdown",0)},directives:[wi],styles:[""]}),t})()},{path:"404",component:nS},{path:"**",redirectTo:"404"}]}];let pS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[zE.forRoot(dS)],zE]}),t})(),gS=(()=>{class t{constructor(){this.title="Website"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:[NE],styles:[""]}),t})(),mS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[gS]}),t.\u0275inj=r.cJS({providers:[],imports:[[Tt,pS,Yr,fe,_i.forRoot({loader:Xt}),Ob.enablePersistence()]]}),t})();(0,r.G48)(),St().bootstrapModule(mS).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>s,mG:()=>o,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},t=>{"use strict";t(t.s=9621)}]);